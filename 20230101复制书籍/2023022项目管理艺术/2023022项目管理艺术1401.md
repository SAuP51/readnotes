## 1401. 中盘策略

本章标题」中盘策略（Middle-game strategy）」是采用国际象棋的术语。国际象棋的棋局分成三部分：布局、中盘以及终局。中盘是指棋手的全盘策略变得明朗化，并运用到他所下的每一步棋上。棋赛中，多数棋步都是在中盘时段下出来的。终局是指棋赛要结束了，资源很少，每一步棋都是关键。本章的焦点是项目的中盘时段，而下一章谈的则是项目的终局时段。

机会是留给有准备的人。

—— Louis Pasteur

项目的中盘时段，就是整体进度的中间时段。有些事情正在进行，但有些事情并未进行；某些问题已经发现并解决，但你知道还有问题没找出来。此时，你就知道已到了中盘时 段。中盘时段很有挑战性，因为很多事会同时发生，而且很难了解什么进行得顺利、什 么不顺利。Clausewitz 用「战争迷雾」（fog of war）这个术语，来描述你身在战场上时战争场面的混乱程度，这个词也适用于中盘时段。开发活动的迷雾，无可避免地笼罩在团队周遭，经验不足者很容易就迷失其中。团队领导者的职责，就是带领团队走过中盘时段的不确定性，并进入终局时段。届时，事情会再度明朗起来。

以最简单的可能观点来看，中盘和终局时段都是和高层次的维护（maintenance）有关：

1、第一天结束时，如果事情很顺利，那么第二天的目标就是继续保持下去。

2、任何一天，如果项目出现麻烦，你的工作就是了解有哪些问题，然后采取行动，使项目再度运作顺畅。这可能得花数小时、数天或数周。

3、重复下去，直到项目完成。

即使是如此简单的观点，也有很明显的挑战，那就是有数不尽的事情会跑出来，让项目运转得不顺利。更糟的是，能用来了解哪里出错的时间有限，甚至解决问题的可用时间 更少。更别提还要让项目其他的健康部分，继续运转顺畅而不遇上麻烦所需付出的努力。

基于这些和其他原因，中盘和终局时段的能量和紧张程度都是非常高的。团队的行进速度逐渐加快，而犯错的区域每天都在缩小。当终局时段接近时，要有人找出正确的方法，不但要踩煞车，也要逐渐让行进速度减慢，使得事情能成功地结束。在本章和下一章里，我会用第二章谈到方法论时所做过的一切假设（无论你用什么方法论，那些建言都适 用）。开始深入前，很快看一下第二章的「银弹及方法论」那一节是很有帮助的。

虽然本章多半在谈中盘时段，而下一章多半会谈终局时段，不过这些技巧怎么用以及何时用，其实有很多重叠之处（例如，某个阶段的终局时段，可视为整个项目中盘时段的 一部分）。所以，请注意，我有时会在这两个不同主题之间来回。

注意：本章和下一章所谈的中盘时段和终局时段管理，和产业有很密切关 联。如果因为你的团队规模或项目范围的缘故，你感到有些问题或 情况不适用，可以略读或跳过。我不期望这里所谈的一切都适用于任何项目。然而，我试着提供的价值不仅是针对你当前的项目，也是为了下一个和下下一个项目。长期来看，这里有很多观点和问题 会证明对你有用，即使有些不适用于你现在所做的事。

### 14.1 飞在飞机之前（掌握状况）

要驾驭大而危险之物，需要的不止是一双安稳之手。驾驶的物体越大，参与的人越多，该物体的惯性就越大。如同项目管理，驾驶大型机器（汽车、飞机、航空母舰等）的生手都会低估当行进状况有变时反映到他们正在驾驶的物体的行为中所需的时间。如图 14-1 所示，大型载具或项目的轨道，会因为动量或其他介人力量而有巨幅变化。多数人，尤其是经验不足者，都无法正确预期其行动的结果。通常，这是因为他们对所驾驭之物的动力有所贡献的力量并未全部了解。就像学开车的人第一次在雪地里开车都会打滑，因为有太多未经说明的力量在作用，使他无法控制。

图 14-1：相同行动可能有不同结果，取决于项目惯性有多少

当那些认为一切都应该在掌控中的人发现失去控制时，他们的共同反应就是惊慌。他们也许不承认（处于惊慌中的人很少承认他们在惊慌），但这是事实。第一时间的反应，通常是以莽撞的更正行动来直接回应问题。但因为没有实际了解所有力量，这样的更正行动通常太过强烈（请参阅图 14-2）。等到他们了解自己做了什么时，又会需要另一个更正行动，而他们也会立刻去做。但是，他们还是在用让他们一开始就落入这种窘境的相同逻辑，这样，接踵而来的就是更多的问题。

图 14-2：认为一切都在掌握中的人会失望，因为对他未知的力量采取更正行动，会产生不可预测的结果（通常会令人发狂）

事实上，当飞机、汽车或项目变得不稳定时，想控制就变得困难而有危险 —— 即使是很有技能和经验的人也是如此（较小的项目当然比较轻快且回应性佳，但这些项目也有它们的动量）。不稳定会让多数行动的结果无法预测，因为有太多变数且变得太快了。因此，优良的项目管理多半是在谈怎么先走在项目前面一两步，投注必要的精力，在一开始就避开这些情况。

有个说法是关于战斗机飞行员无法掌握飞机时的情况：飞在飞机之后（无法掌握状况）。这是说，飞行员无法保持领先于飞机正在发生之事（至少）一步，因此，他现在是飞机上各种力量作用下的受害者。就像在驾驶高性能飞机那样，项目也需要管理许多不同相互作用的力量。两者都是非线性系统，意即改变一个元素时（速度、角度、进度、目标），可能会有多个作用或者对系统的影响力量超过预期 —— 因为经过好几个不同因素或人 员之后就放大了。这个警告就是：即使是在稳定但高速行进的项目，程序库（code base）和团队的复杂本质，意味着任何管理动作都可能有不可预期的结果。有时，这些结果在 几天甚至几周内都看不见。当这些延迟的结果浮现时，人们很容易会去假设是某些比较 新近的事情引发了这个问题，造成难以有效解决它。

#### 检查健康状态

就项目经理而言，飞在飞机之前最有效的方式就是每日的健康检查。程序员以健康检查（sanity checking）这个术语，来确保程序中特定的重要事情成立（在 C 程序的术语中，可以想想 assert()）。这是很好的想法，因为假设是非常危险的事。在程序中，当这些健康检查有一项失败时，众人可避免对转移注意力的事项（根本不存在的问题）做无意义的搜寻，同时提出更为根本的问题，以了解为何不健康情况会被引入系统中。

如果你想「飞在飞机之前」，就要不断确保你预期的那些条件仍然成立。此外，如果你发现有个条件不成立，就会马上知道你的注意力该放在哪里。

挑战在于有很多其他可能的健康检查。在目标、进度、技术、士气、竞争、预算以及政治的环伺之下，不可能随时去确认每件事（虽然这无法阻止偏执的经理人尝试这么做）。拖着团队，每天痛苦地确认数十个胡乱的假设，那是很精糕的错误。你越要团队去确认态，但又不能干扰项目的状态。通常会成立的事物，就是越不信任他们，而且也越浪费他们的时间。你要知道项目的状，但又不能干扰项目的状态。

这事有三种做法：战术问题、策略问题以及对团队进行公开透明的工作进展评价。评价方法会在下一章讨论。目前，我们把焦点集中在健康检查的战术和策略问题。

过程很简单：准备一份简短的问题列表以协助你飞在飞机之前，然后像例行公事般地问这些问题。每天都要问战术问题，每周都要问策略问题。你可以单独做，也可以从团队里挑几个成员和你一起做。你也可以鼓励团队的个人，特别是那些经验老到的人，自行做些类似的高层次健康检查，让他们的发现成果和你的能彼此配合。

我的做法是这样的：我每周会花半小时和自己开会（如果我不保护自己的时间，那要靠谁？）。我会关上门，放音乐，逐一看过问题列表，这通常只会花几分钟。然后，我会据此重排我的时间或团队的优先顺序事项。对某些团队，我会把这种提问的工作变成团队文化的一部分，而且每次在开团队会议时，我都会做这类的提问：与回答，只是规模较小。

#### 掌握先机的战术问题（每日）

1、我们的目标和承诺为何？这些仍然准确吗？每天有那么多工作要做，那么你和其他人忘了目标也是难以避免的。只要每天都看一看，就能让你的焦点和优先顺序回归原点。对团队而言，更重要的是，如果表面上的目标和真实目标或团队目标并不相符（例如，由于某位 VP 的怪念头），那些目标就不准确了。如果目标不准确，团队就会陷入冲突，当团队陷入冲突，症状就会冒出来。如果你看见最终会引起症状的明显的冲突，那就不要只是空等症状出现。要掌握先机，尤其是面对那些会直接冲击目标的问题。

2、我们今天做的事对目标有贡献吗？看一看今天、明天以及本周，你的程序员要做的工作项目。他们对目标的贡献或实现需求的做法是否依然清晰？如果不是，这条船就开始漂流了。和适合的程序员一起合作，提醒每个人对目标的认识以及该工作对实现目标的价值。然后，调整这三件事之一：目标、工作或两者皆是。这有时被称为工作校对，就像车子的轮胎那样，你得定期检查以确保事情的运作都朝相同方向前进。

3、工作项目是否不仅只是完成而已，完成的方式也满足需求和使用场景的需要？有 1000 种方式可完成一个工作单元，但却无法满足设计的整体精神和意图。任何优质设计或良好规范说明书都会定义一些事情，让工作项目可以满足真实的客户使用场景。然而、可用性、商业需求、组件整合以及视觉设计相互间的微妙关系，通常会在负责 15 个工作项目的程序员身上遗失。如果团队有个专职的界面设计师（或其他专家）在，他应该积极审查签入（check-ins）的程序以及每日构建版本（daily build），以确保工作项目满足整体需求，而非仅限于满足工作项目的需求。

#### 掌握先机的策略问题（每周/每月）

这些问题通常是领导阶层开会时的主题。如果每周或每月都有状态讨论，这类问题题就值得领导阶层关注。但即使是单独一位 PM 在负责小区域，这些问题也能用。

1、目前让下个交付日期/里程碑/可递交事项达到适当程度的品质的几率有多少？在工作估算后，事情已有了变动，众人对他们现在所做的事有何感觉？问你自己，也问团队的关键人物，成功赶上下个交付日期的几率是多少？100%？90%？50%？高？中？低？要诚实，并要求他人也诚实。对团队要敏感一点：不要觉得有罪恶感或将它当成是种挑战，好像你想证明他们的估计是错的，或者他们得再努力工作才行；相反地，明确告知你需要目前状况的诚实答案（了解他们为何信心不足或者谁该受责，无法改变他们有实质怀疑的事实。你要察觉并了解这些实质怀疑）。

2、需要做什么调整才能提高这个几率？任何诚实而健全的人，应该很少有 100% 的信心能赶上下个交付日期。接在这个几率问题后面的，就是你如何让几率提高。会议少开一点？干扰少一点？决策快一点？砍掉一些功能？决策作好一点？目标要厘清？程序码查看做好一点？还有什么？去问那些每天在前线工作的人。将此变成你和团队的高优先级项目，并积极提出问题，投注精力找答案。

3、我们怎么小心做调整，使它不影响其他部分？总是要先想着怎么分割。成功解快问题并提高几率的行动的最小量为何？打电话？电子邮件？使重要决策可让人看见？开除某人？如果大动作就是把事情做好的最小量动作，不要怕，去做就是了。如果没有精确的选项可用，就从整体思索。目标需要调整吗？签入程序的过程呢？什么样的系统流程或态度可以调整，以解决症状和成因？（请参阅下一节「采取安全的行动」。）

4、今天/下周/下月的最大或最可能成真的风险是什么？如果真的实现，我们会碰上什么情况？只要找出三个或三个以上的危险或可能的风险，你就能采取行动来防止。你得把雷达打开，对任何可能显示出这些问题正在发生的警讯有足够的敏感度。即使你每周只花 5 或 10 分钟列出可能的风险以及你对这些风险的可能回应，就得很大的保护伞。能让自己洞烛先机、预做因应。这种项目保险通常很便宜：每周花几分钟，就能获很大的保护伞。

5、这个世界可能怎么改变，而我却不知道？我的 VP 或利害关系人仍然与我同在吗？他的目标是否有变？团队的关键人士在担心我不知道的事情吗？如果他们是对的，会对项目造成冲击吗？我们的竞争对手做了什么，是我们必须回应的？我们的伙伴公司或相依单位，是否仍在轨道上运行？是否今天有什么地方出错，我到明天才能知道？打几通电话或者到门厅見見，通常可以回答这个问题。要小心，不要对众人管理得过细，不要变成偏执狂或者在他人心中植下恐惧，要使这类询问成为常见的普通事情。此外，对那些积极取得这种资讯（关于自己或其他人的职责）给你的人，也要予以鼓励和奖赏。

然而，无论你多有经验、多有准备或多聪明，总是有些日子你会落在项目层面。要学着看出有一堆工作要做和无法掌握项目的差异：两者并非相同的事。时常感觉时间不够，要做的事太多，这是很可能的。然而，如果你做了顺序列表，将工作分出优先顺序（请参阅第十三章），那么就会知道，你总是有空着的时间可去做那些事。但是，当你无法掌握状况时，你会觉得动弹不得、失望甚至无动于衷，你会相信，无论在办公室待到多晚，你都无法让项目再回到控制之下。

最后三件重要的事：

1、当你无法掌握状况时，要知道你无法掌握状况了。记住一点，进度是几率。你有多确定本周必须完成的事可在本周做完？80%？50%？如果机会是五五（或更糟），你就是无法掌握状况了。你能犯错的区域很小，而如果你没准备好，你就会猜错。

2、当你看见别人无法掌握状况时，对他们伸出援手。不要否认问题：告诉他们你看见问题了，然后试着协助。避免让任何人落入你的影响力的压迫或惊恐的范围中。保持镇静并协助他人保持镇静，一起合作，再度掌握状况。

3、不要犹豫从同事或上司那儿获得协助。这可能是唯一恢复并再度掌握状况的方式。利用他们的协助，把你的时间和团队的时间排出优先顺序事项，让他们替你分祖一些工作，要不然他们就只会听你发牢骚。如果有人伸出援手，就让他们帮忙，如果没人伸出援手，就主动请人帮忙。

关于如何处理危机情况，可参考第十一章。

### 14.2 采取安全的行动

在中盘时段、多数的 PM 行动都是规划或设计阶段所完成活动的较小、较紧凑版本。如果有项需求漏掉，必须整合进来，则定义及写下那个需求的流程，会是在需求流程（requirements process）所花时间的两倍（了解需求、考虑代价，定义并排出优先顺序）。

或者，如果某事在规范说明书中被漏掉，则解决该问题的流程，是规范说明书摆写流程（specification process）所花时间的两倍或三倍。中盘时段很少会采用新技巧，通常，是将先前用过的技巧改成较快、较精简的版本。问题出在高速工作会生出风险。在中盘时段采取安全的行动，只是代表行动的结果不会让项目的完整性在无意中受到破坏。

安全的行动很困难，因为中盘时段充满火药味。事情都在进行中，很多决策也已作完，任何新行动都会遇上冲突。例如，如果房子盖到一半时，你决定修改计划，从标准 A 字型结构改成拱形结构，你就得丢掉很多建材和付出的心血，可能还得在极大压力下把新工作做好。修改需求、砍掉功能或者修改设计，会如何影响程序库（code base）和团队，这需要通过经验才能学会。

任何 PM 的目标都必须是采取安全的行动。他的行动和行为必须让项目在轨道上朝可能改变的目标前进，同时又得尽可能不要对项目造成损害。有些损害无可避免，应该要有 心理准备。但 PM 的行动越有效率，负面冲击也就越少。

如图 14-3 所示，项目走得越远，就越难采取安全的行动。这是因为行动会造成昂贵后果的几率会随时间上升：已完成的工作必须被修改或放弃的几率很高。这些花费可能全都有正当理由，但采取安全的行动是指在决策之前，对代价有一些了解。

图 14-3: 如果调整动作很大且/或在项目晚期才做，想做安全的调整就很困难了

于中盘时段考虑调整时（功能/目标/需求修改），要考虑下列 5 个问题: 

1、我们试着解决的是什么问题？我们需要解决这个问题才能成功吗？我们需要在这个里程碑解决这个问题吗？我们可以忍受这个问题吗？

2、这个问题是症状还是起因？只解决症状可行吗？

3、我们对程序或团队的状态了解得够多吗？能够预测行动对他们的冲击吗？

4、调整的代价（包括了解程序/团队状态所花的时间、考虑替代方案以及获取该项决策的政治支持）低于修改后的利益吗？寻找并解决那些起因，可能比忍受那些症状的代价更高，更别说要修正了。

5、潜在的新问题的风险，值得去做修改以获得效益吗？

决定是否采取行动，同样可使用第八章讨论过的决策策略。任何必要的设计，规范说明书、沟通或政治举动，都可利用第六、七、八章以及十六章所讨论的战术。态度和手法都一样，只是时间和犯错的空间都更少了。缺少时间考虑选项，代表着两件事。首先要依赖你在打造原型或早期设计工作时所学得的知识。有些你正在考虑中的调整内容应该会再度浮现，然后运用团队知识协助目前的分析工作。其次，要保守。你知道得越少，你看不到的风险就越多，越身在进度表的尾端，采取行动的基准线就应该越高。

#### 打破承诺

安全行动不可或缺的一部分，就是考虑团队领导者之前对团队做过的承诺。如同我们在第十二章所讨论的，领导者赢得团队信任的方式，是来自于领导者如何管好他们的承诺。远景文件、需求以及进度表，就是管理阶层、团队领导者、程序员以及客户之间的各种形式的承诺。中盘时段所采取的任何行动，都可能会使你先前做过的承诺失效。

当改变发生时，为了保有你和团队之间的信任，你得尊重先前的承诺。如同 Humphery 所说的：「如果某事改变时会冲击任一方的承诺，就要事先提出声明，重新协商新承诺。」

改变是允许的，但必须遵照一定的协商流程，类似于首次达成承诺的那个流程（远景、需求、进度表）。你不需要再草拟文件或者召开大型会议，但你确实需要通知众人承诺有变，同时让他们参与决定改变发生的流程。

如果你打算要求你的团队放弃两周来的工作，改变决策前，你要先考虑到这个代价。通过合理的推理，说明为何新的改变才是对的，然后告诉他们，这种意见的背后是考量了哪些因素。可能的话，把团队的人带进来讨论，再作最终决策。

不要害怕做改变。改变很好，而且无可避免。但是，改变有很多种，同时，领导者有很多不同方式可管理团队，带领他们通过改变。如果你以前朝西走，但现在想让项目朝北走，就必须利用你以前让他们往西走的一些相同的必要技巧（虽然速度快一倍，正式程度只有一半）再让团队往北走。回头看第三、四、十一章以及十二章，以了解如何彻领他们通过改变的原则。

### 14.3 编码管道

中盘时段工作的务实观点，聚焦在程序员摆写程序代码上。项目向前走的唯一方式，就是把每行程序代码都写出来，让项目越来越接近完成（个人偏爱的功能、不必要的最佳化工作等，不会把项目带向前）。程序员摆写程序代码之前，会先进行各种规划和设计。无论规划和设计是程序员自己做，还是由其他人做，都可替他们在时钟滴答响时，仓创造一个有效率的工作序列。这就是所谓的编码管道（coding pipeline）。

PM 的工作，是确保编码管道运作顺畅。虽然程序员可能拥有管道的管理权，可决定谁来做什么，但确保程序设计团队有必要的支持使之运作，仍然是 PM 的职责这可能包括查询资料、安排会议、联络众人以做最终决定或者在某些情况下要解决乘余的设计问题（请参阅图 14-4）。PM 可能得跑在程序员前面几天，把设计内容定案，再交给那条管道。如果 PM 要负责好几位开发人员的工作，他得仔细排出时间的优先顺序，以确保他能处理好众多管道之间彼此竞争的需求（这就是为何首席程序员，应该对这类工作做一些努力或更多努力的另一个原因）。

图 14-4: 规范说明书/设计内容的最终细节，可以由 PM 或设计师同时验证或定案。这会对编码管道的价值有所贡献

在 Web Project Management:Delivering Successful Commerical Web Sites 这本书里（Morgan Kaufmann 出版，2001 年），作者 Ashley Friedlein 称此过程为向团队作简报（briefing the team），而团队要做的下个工作项目的细节就称为摘要（brief）。如同 Friedlein 所写的：「为了让开发的效率和速度放到最大，你准备的摘要都必须跑在当前工作进度的前面。只要一项工作完成，下一段工作的摘要就要准备好。」这些摘要都是从规范说明书衔生出来的（如果还是彼此有关），但是要包含任何程序员可能需要知道的新增或修改项目。如果没有在中盘时段积极地向程序员作简报，就可能会有一堆东东西堵住工作项目，使得管道慢了下来；可用性问题、视觉设计工作、其他程序员做完的工 作项目、营销问题，技术问题或外来的相依性问题。因为 PM 通常有最多方面的技能，他们是在编码管道上管理重点、在问题发生处插上旗帜或解决问题以及让事情顺畅运作的最佳人选，不用等到程序员去做这些事（其中还包括找出因受阻而沮丧，但又不承认或尚未察觉的程序员）。

有 4 个问题，定义了把这件事做好的方式：

1、哪些工作项目正在积极撰写程序代码？有任何问题会阻碍程序员，完成他们目前积极从事的工作项目吗？如果有，就把它们（造成阻碍的问题，不是工作项目）消除。这是项目碰上红色警戒的状态。如果程序员受阻，无法积极撰写程序代码，项就会停顿。没有比解决会阻碍程序员撰写程序码的问题更为重要的事。只要向问他们：「我要怎么做才能帮你解决这个问题？」如果你帮得上忙，他们会让你知道。如果造成阻碍的问题有相依关系（例如，Fred 得做完工作项目 6，Bob 才能天始做工作项目 7），可以考虑在阻碍移除前，有哪些其他工作可以让那个程序员做。

2、对于实现当前工作项目，满足规范说明书所需的一切事项，程序员都知道而且了解吗？总是有一些问题和落差，会在实现时刻才会出现。有些程序员比其他人更积极于以成熟方式解决这些差距。PM 或设计师必须随时都能做足够的参与，以协助找出并缩小这些落差。有时，这些落差是可预料的。例如，这个工作项目会出问题，是否所有问题都来自于规范说明书审查？

3、下一组要撰写程序代码的项目是什么？这里是真正的管道管理开始的地方：要跑在程序员前面一步（请参阅图 14-4）。如果目前积极从事的工作项目看起来很顺利，焦点就移往下一个要进入管道的工作项目。这个工作项目应该倾向于是项目的下一个最重要的工作。总是要先做最重要的工作，即使是最困难的工作。对每个管道里的项目，都要考虑将该项目分配给程序员时，是否有开放性问题（open isste），会使得程序员慢下来或停住。找出来，并且把它们解决掉。

4、最后完成的工作项目是否真的已完成？编码管道的输出结果才是要紧的事。要有人注意构建操作中签入程序的效应，确保从客户观点来看，达到了该达到的成果最。后的工作项目完成时，真的把必要的功能和行为加上去了吗？测试团队同意吗？所有单元测试（unit test）都通过了吗？是否至少有一个人去追踪有无遗漏的漏洞？每日构建操作（下一章会谈）是追踪此事的简单方式，因为你总是可以体验到，项目当前状态是否满足所需的结果（同时找出已完成工作的落差）。工作项目越大这件事就越重要。

有些程序员对他们的编码管道要负起比其他人更多的职责。很多程序员倾向于更积极寻找出特定问题（技术），而忽视或拖延其他问题（商业、政治）。你和每位程序员的部分关系是，了解你应当参与多深以管理他们的管道。谁来管理并不那么重要，只要做了同时有人积极去确认，以及保护这些工作项目的品质就行了（这是有关角色的讨论，如第九章所述）。

#### 积极管道和保守管道

通常、排在编码管道里的项目，只要比程序设计团队的进度领先两到三个项目就行了（如果每个项目需要两天，三个项目就需要一个礼拜以上）。PM 和程序员之间可简单讨论、以取得下个合理序列的共识（或者，如果有重要的关键路径（critical path）或甘转 1 图（Gantt chart）存在，而且实际上没有逾期数周，那么管道就可从中衍生出来）。这样就能给足润滑油，使得如果某个造成阻碍的问题无法及时解决时，程序员和 PM 有足够时间在那个造成阻碍的问题寻求解决的同时，找出另一个适当的工作项目并置人管道中。

态度积极的团队，可以大量依赖管道的操作，将问题分出优先级。团队没有做精致的 WBS（work breakdown structure），而是确信变动会时常发生，而且认为 PM 或首席程 序员有管理管道的能力。这里的风险比较高：如果管道往回退或者无法领先在团队之前，就会作出不良决策，而时间就被浪费掉。有关构建优质 WBS 并应用在项目进度安排上 的信息，可参考 Stephen Devaux 所著的 Total Project Control（Wiley 出版，1999 年），或者任何传统的优良项目管理参考书。

2『已下载书籍「2023031Total-Project-Control」。（2023-09-19）』

对态度保守的团队而言，管理管道就是对规划期间所做的最初工作项目列表做点柔和的精炼。利用最初的规划内容作为来源，替每个程序员排出管道，或许就能排出数周或数月的工作到管道中。也许会有小幅调整，但可预期的就是，原来的规划内容（至少）在这个里程碑里依然可用。当下个里程碑开始时，新的工作项目列表会在规划时产生，而流程就开始重复。所以，根据里程碑有多短或者项目有多稳定，就能先盘算一些管道的工作。

然而，管道的基本重点不是你怎么去做。每种方法论都提供了一种替代的做法。重要的是管道的管理要有效率，让对的工作项目以对的方式去做，同时，不用浪费太多时间，就能了解接下来要实现什么。

#### 编码管道变成漏洞修正管道

项目到了后期，所有工作项目都完成后，编码管道会维持下去。改变的是工作项目不见时（漏洞如何处理的决策流程），会再谈这一点。了，现在填满了要修正的漏洞/缺陷（bug/defect）。第十五章我们谈漏洞分类（triage）

#### 追踪进度

追踪中盘进度的最简单的记分板，就是工作项目列表；在每个排人进度表的工作都完成前（到达一定程度的品质），中盘时段都不算结束（请参阅图 14-5）。所有中盘策略都牵 涉到了解项目的状态，让团队保持在正确轨道上，并安排好一切以为成功的终局（end
-game）做好准备。已完成工作项目的分数高低，是下这些决断的最重要的数据。

图 14-5: 在所有排入进度表的工作都完成前中盘时段不算结束，只有在中盘阶段结束时终局阶段才会开始。不会影响工作项目完成率的任何事情都不应该比那些会有影响的拥有更高优先级

我建议采用非常简单的观点看待项目，如图 14-5 所示，并让团队尽量看看见（对较大项目，要分区显示工作项目的完成率）。如果团队有网站，就应该要明显展出工作项目进度的摘要并每日更新。在主要的走廊中替团队摆个大白板，同时，在那里放类似的图表。每周状态会议（status meeting）或大型团队会议时，开场都是快速查看团队的大致状态。因为工作项目都应该在 1-3 天内完成，像图 14-5 这样的图表可差不多以日为基础显示进度。应该鼓励众人时常到那里晃晃，找出哪些东西最近已经签入（check in）接下来又会签入些什么。

对于次要的状态数据（例如每个工作项目的剩余天数，每个程序员剩下的工作天数等）当然也应该追踪，但不要让那些数据遮蔽了简单的观点。在中盘时段，提供一些方法让团队能对项目进展有个整体感觉比较重要。个人通常会对他们的局部区域以及他们每天工作会碰到的区域有一定的感觉。

在如何有效追踪进度上，当然还有其他事情要知道。下一章我再深入探讨，到那时，漏洞和趋势会变得极为重要。

### 14.4 击中移动中的目标

"没有战争是根据规划而获胜的，但也没有战争能不靠规划就获胜。"

—— Dwight D.Eisenhower

XP 开发方法和其他方法之所以采用短循环的强力论证之一，就是方向随时在变。使用短期的开发循环，项目就能响应重大的方向变化而不会失去工作的平衡点，而且任何规划和设计工作都能聚焦于具体明确的短期需求。这些都很合理，因为致力于一致的短期胜利的根本态度也是如此。但还有一个额外的真相：较长期的规划（即使粗糙）会倾向于让短期和中期变动较为容易处理。

原因就是，当目标、需求或设计有改变时，原有的规划内容很少会被整个抛弃；相反地，改变（也就是 deltas）是相对于改变发生前的项目内容的一些基础想法去做的。原有规划越准确（即使粗糙），引用时就越有力并使得这些调整能加快进行。也就是说，对抗事情改变的最佳保险，就是从一开始就做个能用的规划内容，再随着项目的前进进行调整。

"就我的看法，战争从未照规划进行。规划只是一切改变的共同基准，每个人都应该知道规划内容才能轻易去修改。这一点很重要，因为现代战争变化万千，你得快速作出决策，而多半都不是根据规划内容。但至少，每个人都知道你从何而来，也多少知道你将去向何方。"

—— DanLaner 少将，以色列国防军指挥官

运用规划的技巧是，对于那些预期会变动的目标，绝不能长期不更新规划如果你能找出适当的时间间隔，移动中的目标就不会一次跑太远；他们会在此特定时间内，以特定速度朝特定方向行进。如果你的项目有好几个里程碑或阶段（请参阅第二章）这些就是你做调整的自然时间间隔（此外，如果各个阶段都有规划新的设计时间，你还可以回 顾前一里程碑里已做但需修改的事项）。即使是在三或六周的里程碑里，你也可以找出 1-2 中间点，根据任何可能会变动的目标或需求，重新评估项目的轨道。有鉴于此，里程碑的长度应该对应变动性；方向的变动性越高，里程碑的长度就越短。

图 14-6 是一个简单实例，说明进行调整以校正移动中的目标。项目从 A 开始，但做完时应该到达 B。如果项目做了两周之后（也许完成了一个短期的里程碑），团队领导者同意 B 的目标已经改变，项目必须经过调整才能继续往 B 走。又过了两周，得做更多的调整，因此，就进行新的更正行动。有些工作可能得被抛弃，尽早调整方向比起后来才调整方向，必须丢弃的工作会比较少。如果这些移动和里程碑的终点/起点一致，团队就有时间做些设计工作以补足变动所需，增加工作项目以修改先前的工作，然后迈开大步做调整。

图 14-6: 目标、需求以及限制条件会改变，但如果改变的速度和方向都已被理解，而且过程中采取了步骤追踪这些改变，就能控制改变

即使里程碑的安排无章法可言，编码管道仍可协助开发团队控制这些中期的调整。因为这些中期的变动就发生在程序设计团队面前的管道上，因此，变动发生时，就会有缓冲。管道领先的时间越多（请参阅图 14-7），缓冲就越大。当然，这是假设有人（PM 或首席）程序员花时间去管理管道，因此，团队不用完全停下来改变方向，管道中只要有足够的（对的）工作量就行了。

图 14-7: 每规划内容都有个能支撑的变异范围，规划的洞察力越深邃（预测可能的变动），涵盖的区域就越大

然而，这确实是假设 —— 变动并未和最初的规划相去甚远；规划的成果只能提供一定 范围的移动能力（参见图 14-7）。如果新的需求或目标跨过某个点，就必须做些新的重要设计工作和探索，而无论编码管道能撑住多久的领先时间（或者，就某些情况而言，无论下个里程碑里规划了多少设计时间）。例如，如果最初规划是要做面包烤箱，到中盘时可能会调整项目，改做中型烤箱，但不能改成粒子加速器或油罐车。

图 14-7 是一个粗糙的模型，显示项目的变化程度。有块区域代表变动的空间，而规划所行付出的努力就是让团队能把它找出来，以避免新的重要工作产生。每个工作项目也可在细微层次上画出类似的图形，根据程序员所采取的手法不同，他的规划可能会涵盖不同的层次，以考量需求/设计变动时对工作项目的影响。

图 14-7 中有件值得一提的蠢事。图中以垂直方式表达时间前后的排列，这意味着涵盖的区域随着时间前进，提供了更多移动的机会，但这并非事实。思索涵盖区域的更为准确的方式是，涵盖区域会随着项目行进而变动，根据项目的状态成长或萎缩。一般而言，涵盖区域会随时间而萎缩，因为工作项目会逐渐完成。但每次的移动都会改变有效的规划，并伴随着未来可能的移动范围。

#### 应付神秘的管理阶层

对健全组织中运作良好的项目而言，多数高层次的变动都会配合项目的各个里程碑（同样地，这是因为各个里程碑的长度，约略相对于项目或组织的变动性）。管理阶层必须有耐心并且成熟，在迫使团队重头来过及重新调整之前，一定要等到一个阶段完成才行。但即使是这些健全组织，还是会有来自管理阶层的指令逼迫团队于途中产生变动，连让 他们暴跳如雷的时间都没有。

多数时候，因实际决策变动而改变方向的情况比较少，多半是由于管理阶层、客户或竞争因素等而要做方向的更正。有时，召开会议改变方向是在你的权力范围内，而其他时候，你只能等人决策。无论是何种情况，你在思索时，得包含一个粗略的盘算，想到如果具威胁性的变动成真时，你该做什么。在重要决策从管理阶层那里传达，或者竞争者做了正确的转变之前，你会发现墙上所写的某些东西，通常都已提早几天或几周被考虑到（如果你去看过了的话）。你得依赖你的人际关系和政治手腕，去取得你所需的资讯，避免你的项目遭受袭击。这无法永远避开，但偶尔可以。

利用你有的信息，定期对方向可能往哪边转移，做出你的最佳猜测（要支持特定技术？新功能？新目标？），然后草拟出你到达那里所需的调整，这可以非常粗糙。例如和首席程序员简短对话，提到何者可能牵涉其中。「Fred，除了我们在用的那些以外，要支持 2.0API 的话，还要做些什么？」你的目标不是新的战斗规划，而是对你和你的团队应采取的手段的模样有个感觉。重新查看你对工作项目所排的优先级列表（请参阅第十三章），了解你是否对可能碰上的新工作已经做了一些思考。

探索变动的冲击

棋战略中，细算一步棋至少有两种不同方式：如果变动的几率变高，你可以调整编码管道中的工作，让你准备好面对变动。在国际象棋战略中，细算一步棋至少有两种不同方式：

1、保守。寻找能让你在未来有最多延伸以及选项的棋步。

2、积极。完全遵守你看得很清楚的战略，并逼迫对手回应。

对项目而言（或者下国际象棋），当你有信心而且觉得比对手（例如，神秘管理阶，层或竞争）强时，就要采取积极方式；当事情不确定或者你实力不足时，保守应该就是最佳手法。通知你的团队要保守应付，可能会让他们行动变得有点慢，但那是你买的保险偶尔，积极可迫使他人作决策。此外，如果你对结果毫不在意，只需要赶快有个决策，则积极行为就是你的得力助手，即使你的政治形势处于弱势。但要注意一点，考虑调整时，不见得是指需要额外的开发时间或降低程凡品质。也许有一样可靠的替代法则，且在某个重要方面更有灵活性。只要问问程序员团队：「你们听着。我担心客户/VP 会逼我们去支持另一种数据库结构。看一下你正在做什么，如果你在工作时有简单而且聪明的方式可以准备好面对这样的变动，就那样做。但不要因为这样，就做大变动或牺牲品质。了解了吗？」

有时，这是不可能的；也许得花好几个小时的调查，才能回答那个问题。但是，有些情况下，答案很容易就找得出来。例如，程序员也许已考虑过那个方向，或者根据他对程序的了解，已有了合理的意见。为了让你的团队在这个方向做好准备，或许代价就是五分钟的对话。也许，更重要的是：你对变动的可能代价了解得越多，你否决变动（或适当时支持变动）的论据就会越好。

变动的潜在可及范围

另外，请注意，项目越接近最初设定的那组目标（或上一个有效的目标），项目就越能进行任何调整或方向的改变。在图 14-8 中，项目正往 B 前进，但是，有很强的谣言指称方向会变动（图中以 "?" 表示）。PM 对变动为何以及因此产生的调整做了最佳的猜测。他和他的程序员做了轻便的规划，准备他们可能如何反应。

随着项目进展，神秘的变动依然是个谣言。变动的角度也随着项目持续往 B 进展而已变变得更加严苛而高风险。每写下一行程序，对另一种可能方向的援助就越少，当项目即将完成而抵达 B 时，相对于和 B 之间剩下的距离，项目与神秘变动之间的距离（图 14-8 中称为变动的可及范围）就变得更远了。项目行进时，团队等待变动的时间越长，代价就倾向于越高。

图 14-8: 如果你知道变动会来但不知何时会来，你还是可以追踪你对变动所做的最佳猜测

如果变动发生而你的预测没成功，你就没有选择：团队得重新来过。如果变动来临时，没有额外的时间资源可用，就回到你的优先级列表，找出可以砍掉的项目，齐你认为所需要的时间（请参阅第十一章）。

#### 管理变动（变动控制）

有些项目团队会积极地控制和追踪需要的新工作项目或删除现有的工作项目的设计变动（design change）（在仔细查看过规范说明书后，就开始这么做了）。他们害怕如果设计变动时没有引入一些流程，那么重大、槽糕、邪恶的决策，就会在没有应该知道的人知道的情况下发生。根据你的团队的文化和目标，你也许需要或不需要这么做。如同 Friedlein 所说的：「你管理项目变动的方式，是取决于项目的规格及本质。一般而言，项目越大越复杂，且规范说明书越不可撼动，你就越能控制变动。」如果你的团队对规范说明书的撰写流程不会感到困扰，也许有个变动管理流程也一样不会感到困扰 —— 标出 deltas 又没什么。

然而，即使团队只有少数的正式流程，项目越接近完成，要做变动就会越敏感。没有一些流程可供沟通、追踪以及管理变动，就很难把项目的门关上，这会令人感到沮丧。团队越成熟，就倾向于想越早控制变动，不一定是在某个终局流程里；只是随着终局时段的接近，风险会提高，一如想去控制变动、对抗风险的欲望那样。

管理变动最简单的方式，是使用超精简版本的规范说明书摆写流程。NASA 和微软都称此为 DCR 或设计变动请求（design change request）。其他常见名称是 ECR（工程变动请求）、ECO（工程变动要求），或最常见的 CR（变动请求）。

最简单的流程如下：

1、某人（PM）写下变动摘要，包括变动和项目目标或需求的关系（说明需要变动的原因），以及说明变动时所需的设计。（若能找出此 DCR 对项目冲击的可能风险，那就更棒了。）这份摘要应该很少会超过一页或两页。应该创建一个漏洞（或任何追踪问题的方法）来追踪这个 DCR，而这份文件应该附加在该漏洞的记录上。

2、程序员、测试员以及任何受到变动剧烈冲击的人，都必须对 DCR 摘要有所贡献，并同意此变动是必需的且需做适当的设计。程序员提供开发估计，而测试员提供测试估计（或粗略的测试计划）。

3、这个 DCR 会交由一小群团队领导者或群体经理审核（请参考第十五章的「作战团队」一节），他们会决定是否要做这个变动（go/no-go decision）。如果这个变动成立，就被视为项目的额外工作项目，此 DCR 就会被传播给整个团队知道（工作项目会被指派给适当的程序员）。进度表以及任何项目说明文件都应该更新，以反失在项目世界中。映此变动。如果变动被拒绝，DCR 就会爬至房间内最近的角落鸣咽吸泣，直到消失在项目世界中。

如果团队很小且权限高度分散，最后一步就可跳过，相关人士只要碰面讨论选项以及决定是否要变动即可。但如果变动会迫使项目落后、冲击其他程序员或者需要其他资源，团队领导者就必须介入。

DCR 总是比它们的程序设计估算和测试估算的结果更为昂贵。DCR 对工程团队有不可预测的间接边际效应（side effects），把 PM 关注于编码管道和其他重要活动的注意力分散掉。因为 DCR 的设计工作会加倍费时，所以犯错和不良设计抉择的几率很高。一个 DCR 造成需要其他 DCR 的情况很常见。就此而言，我通常的态度是这样的：最好是采用短期开发循环，配上强健的设计流程，但只容许少数 DCR，而不是去规划一个预期很多 DCR 变动的进度表。团队中的人应该要有很强的动机，想尽早解决他们的设计问题并避开 DCR 流程。

### 摘要

1、中盘时段和终局时段对应到项目的中间和结尾部分。

2、如果任何时候项目做得不顺利，你的工作应当是了解哪里出了错并加以解决在中 盘时段，这个过程会一直重复。

3、项目是复杂的非线性系统，且有很大的惯性。如果你要看到问题严重时才出手就太晚了，可能会让事情变得更糟。

4、当你的项目失控时，你就是没有掌握状况，这是很糟的地方。健康检查是掌握状况的最简单方式，分战术和策略两种。

5、要考虑如何采取行动，以尽可能安全的方式更正状况。行动越大且项目走得越远，行动就越危险。

6、编码管道是实现期间工作项目如何被管理的方式。对于管道的管理，有积极和保守两种方式。

7、以里程碑为基准的规划和编码管道，可提供各种机会，让项目能进行安全的更正。变动控制（DCR）是调节项目里中等和低等变动比率的方式。

### 附注

1 Karl von Clausewitz 是 19 世纪最有影响力的普鲁士军事思想家。请参阅 http://en.wikipedia.org/wiki/Clausewitz。

2 CMM（能力成熟度模型）是软件工程学会针对软件开发发展出来的东西，定义了几种中盘时段中的项目层次管理的最佳实践。请参阅 http://www2.umassd.edu/SWPI/sei/tr25/tr25.html 或 http://www.sei.cmu.edu/cmm/。

3 有些正式的方式可用。有些团队每周开会一次，简单讨论每位程序设计所拥有的管道：每个人都知道团队有什么工作项目，以及个人在当周又有什么工作项目。PM 要确保每个有时限的问题都被排进管道内。

4 对于那些 UI 很重要的项目而言，对编码管道予以控制，才能让我们对设计内容进行反复设计。我们要设法让管道去做工作项目 A 的部分工作，使其能在可用性实验室中运作，从中了解各种问题，再精炼设计内容，然后，再把 A 的剩余部分做完。只要我我们让管道一直处于满载的状态，开发时间或里程碑不要超出预算，设计师就能做好低等/中等的 UI 设计工作，和程序设计团队平行进行。