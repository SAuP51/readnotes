## 内容简介

本书主要围绕 Orange Can 项目展开一系列编码工作，用几近真实的项目介绍小程序的各个 AP、组件用法，并附带一些小程序开发的经验、技巧以及常见的误区说明。整个 Orange Can 项目分为三部分：文章阅读、电影资讯以及设置。文章阅读包括文章列表、文章详情以及评论通过编写文章阅读功能的代码，读者将学会 Swiper 组件的裁剪模式、image 组件的裁剪模式、缓存的使用技巧、列表渲染、数据绑定、模板、音乐播放、录音、分享等知识。除此之外，读者将对小程序页面的生命周期有一个大致了解。学习完这部分内容，读者将可以轻松做出一个内容型小程序应用。电影资讯功能主要介绍如何调用服务器数据及 template 模板的使用技巧。设置页面功能包含大量功能示例，包括获取硬件设备信息、罗盘与重力感应的应用、扫描二维码、用户登录、用户信息校验、解析用户加密数据、获取用户 openid、发送模板消息、微信支付等功能。

本书还提供部分服务器的 PHP 代码，主要供用户登录、校验、解析加密数据、模板消息、微信支付等功能调用。本书内容丰富、注重实战，讲解通俗易懂。适合小程序开发人员、培训机构和企业内部培训使用。

## 推荐序

什么是小程序？小程序在内测的时候，微信之父张小龙曾写了这样一段文字：「小程序是一种不需要下载、安装即可使用的应用，它实现了触手可及的梦想，用户扫一扫或搜一下就能打开应用，实现了用完即走的理念，用户不用安装太多应用，应用随处可用，但又无须安装卸载」。

有些人说：「轰轰烈烈的小程序其实也就真正火了一天。」2016 年，小程序预热，张小龙第一次提前一年高调把小程序拿出来讲（当时还叫应用号），被媒体炒得沸沸扬扬。一年后，上线的当天刷爆朋友圈和微信群。一周以后，当初轰轰烈烈的小程序并没有带来想象中的轰动，很少见到讨论它的内容。上线オ 4 天「罗辑思维」就宣布撒出，「今日头条」的小程序暂停了又恢复，剧情变化得太快，让人看不清小程序的前景，于是「小程序已死，张小龙或走下神坛」的论调随处可见。

但真的是这样的么？我认为还言之过早。第一批尝鲜小程序的开发者大多是互联网 App 的开发者，已经习惯了从平台获取流量的思路，在日活跃用户 7 亿的微信平台上推出新产品，大家都想占据先机，获取用户和流量。然而小程序不提供入口，不提供推荐，分享也不能分享到朋友圈。这无疑让早期抱着「蹭」流量目的的小程序开发厂商大失所望。

小程序适合的是场景化、服务型的产品。张小龙在演讲中清楚地描述了他想象中小程序应用的典型场景：在汽车站购买车票的时候扫码购票，无须在售票窗口排队；等公交时扫码启动程序，查询一下一辆车到达的时间。「摩拜」单车的小程序就是一个很好的基于场景化的应用。当你在马路上走累了看到一辆「摩拜」单车时，可直接通过微信的「扫一扫」扫描「摩拜」单车上的二维码，进入摩拜小程序页面，轻松解锁身边的「摩拜」单车开始使用，而不用从 App Store 里下载一个几十兆的 App 安装。

在我看来，小程序是张小龙对未来应用程序形态的希望。如今 App 实在是太多了，正如 2009 年 Phone 广告语所说「there's an app for that」。2016 年 6 月，IOS Appt 已经超过 200 万个，几乎做到了「there is an app for just about anything」。作为ー个智能手机的重度使用者，我的 Phone 手机里安装的 App 超过了 400 多个，很多 App 需要通过搜索找到后启动，但是常用的不超过 20 个，每天都使用的不超过 10 个。很难想象 5 年后、10 年后的应用程序还是这种形态，最好的状态莫过于当我有需要的时候它出现，解決我的需求之后它消失，大概就是张小龙所谓的「触手可及、用完即走」吧。

小程序不论后面的发展怎么样，都是微信团队对于未来应用形态的一种探索和尝试。难怪张小龙在小程序内测的时候在朋友圈晒了一张图，并配文说「程序猿的一小步，程序的一大步」。作为开发者，要时刻保持学习，保持对技术的敏感、对变革的敏感，只有这样在未来才不会掉队。

雷磊是我认识多年的好朋友，资深技术专家，学习能力极强，时刻对新技术保持敏感，特别善于独立思考、分析、解決问题。他的第一本书《微信小程序开发入门与实践》一定会给想要尝试程序的你很多收获。更重要的是，本书渗透很多雷磊自己学习的「套路」，遇到一个问题，先用最简单粗暴的方式解決，然后分析这个方案的优缺点，再找出更优秀的解決方案，通过不断「重构」，漸进式地加入对知识的理解。学会这种思维方式之后，在自身技术成长的道路上必将终身受用。

石墨文档联合创始人陈旭

2017 年 3 月

## 我眼中的小程序

这本书的编写历史很有意思。从 2016 年 10 月中旬开始构思本书的内容，到 2017 年 3 月定稿，历时 5 个月的时间。这中间小程序的大起大落颇值得我们认真回味一下。

2016 年 9 月，小程序内测后迅速引爆了整个互联网圈，含着金钥匙出生的小程序，甚至还没有展现其全貌就已被捧上了天。App 完了、微信要成操作系统、厉害了我的大 Web 前端，各种不着调儿的声音甚嚣尘上。不过，作为一个技术开发者，我深刻明白，没有完美的技术，更不会有突然就消亡的产品，小程序不会一统江湖，App 也不会销声匿迹，小程序一定是以一种和 App 互补的姿态出现在人们的视野，至少短期之内一定是这样。

2016 年 9 月到 12 月 28 日这段时间，所有人都看不透小程序，连入口、发现机制都不知道，如何能够精准地定位小程序？

直到 2016 年 12 月 28 日微信公开课上，张小龙终于用一连串「没有」告诉了所有媒体和开发者，你们都是错的。小程序并不是你们想的那样：我说它只是用完即走的服务，那它就一定是用完即走的服务，不会帯有很强的媒体属性；我说没有应用市场，那官方就没有应用市场；我说扫一扫、搜一下就能打开小程序，那就没有第三种途径可以触及小程序。在当时，这些「没有」确实让很多开发者大吃一惊。

官方没有应用市场，只支持有限能力的搜索（目前，微信已开放了小程序的模糊搜索），不能分享到朋友圈，不能被关注，没有主动推送消息的能力，这是官方在 2016 年末时向开发者所描绘的小程序肖像。很多产品经理、创业者在看完微信公开课后，都默默地在想，那我要小程序干什么？

在 2016 年 12 月 28 日的微信公开课上，张小龙还公布了小程序正式开放上线的日期：2017 年 1 月 9 日。10 年前的 1 月 9 日，乔布斯公布了第一代 iphone，这个产品重新定义了智能手机；10 年后的 1 月 9 日，微信发布了小程序，这个产品能重新定义应用程序吗？

诸多限制并没有让开发者特别沮丧，无数创业者依然坚信小程序是一个巨大的红利，不试试怎么矢知道呢？

2017 年 1 月 9 日凌晨整点刚过，积压了一年多（早在 2016 年 1 月，张小龙就公布了微信应用号）热情的开发者迅速上线了自己的小程序，无数早已审核完毕的小程序如潮水般涌来。可创业者失望了，原来小程序并不如大家想得那般美好，信守承诺的微信不仅没有放开任何一个限制，反而屏蔽了长按二维码识别小程序的功能（目前已开放）。长按二维码是当时可以很方便地在线上推广小程序的途径，可这条路也被微信无情地斩断了。

顿时互联网圈子不淡定了，许多人在前两个月对小程序的看法还是「万紫干红总是春」，但转眼间却发现小程序并不像想得那样美好。线上的推广渠道几乎没有、搜索必须输入完整的名字（目前已解除这个限制，支持模糊搜索）、不能和公众号同名、用户只能从历史中打开曾经使用过的小程序、不对个人开发者开放，这些都是小程序的真实「模样」。所谓「人生若只如初见，何事秋风悲画扇」大抵就是这样的心情。很多创业者、开发者不再认可小程序的模式，整个互联网对于小程序的评价来了一个 180 度的急转弯。创业者认为小程序不利于推广，开发者认为这就是一个 Web 网页，并没有什么新意，很多普通用户甚至根本不知道有小程序这个东西。

完全摒弃线上入口，真的好吗？开放模糊搜索、允许公众号关联小程序，这明明在技术上并不难实现，为何要如此固执。也许是微信已经习惯了低调与克制，只是这次的「克制」却显得如此的生硬。当然，也许微信有自己的考虑与布局，只是我们局外人不得而知。

2017 年 3 月 27 日，画风突変，微信公布了小程序的若干新特性：对个人开发者开放注册；公众号自定义菜单与模板消息可以绑定小程序，用户点击后可直达小程序；移动 App 可分享小程序；不再需要扫描小程序特定的二维码，直接扫描商户原有普通二维码也可以直接打开小程序。小程序开始尝试借助微信现有资源来推动小程序的发展。

很明显，小程序的入口逐渐丰富了起来。借助微信公众号那惊人的体量与访问量，被开发者一直诟病的没有传播途径这个问题，也得到了较好的解決。在没有放开这些能力之前，我曾经一度认为小程序和微信并没有什么联系，它完全是一个游离于微信体系之外的产品，和微信的关联感太弱了。但这次新能力的放出，让我感觉到了小程序真的变成了微信「的」小程序。

现在的小程序已初步具备了线上线下同步的維形。微信绕了一大圏儿，最终还是回归到了线上线下结合这个互联网运营的经典套路。此次推出新特性的意图也较为明显线下开疆拓土，线上现固固有优势和辅助线下发展。至于开发者到底是重线上还是重线下，或是二者结合，这就在于开发者的抉择了。反正线上线下都给了开发者，那就自己看着办吧。

但以现在线上产品的完备程度来看，留给新产品的空间已经很小了。尝试着将目光投向线下也许是一个不错的选择，转变ー下思维也许会有一片新天地。

以前我们的思维是线下什么不方便，那就把线下移植到线上。比如交水电费不方便，那就线上交；火车飞机出行购票不方便，那就线上买。这些服务亳无疑问是互联网发展的必然衍生物。可还有很多活动是线上做不了的，或者说很多线下活动如果放在线上，就会变得索然无味。比如看电影，如果线上能代替线下，为什么还有那么多人购买电影票去看大荧幕？因为电影是一门光与影结合的艺术，需要环境和氛围的辅助才能体会光、影、音结合的美妙和震撼；再比如朋友聚会、同学聚会，大家在线上用微信视频一起聊个天行吗？这自然不行，因为感觉不到位。我们无法脱离线下，却又被线下的不方便所困扰。

在我看来，线上线下结合是一个必然趋势，微信希望的也是从线下挖掘新的流量与场景。线上的服务虽然很方便，但场景有限，人不可能纯粹地活在线上环境里，我们依然有大量线下活动。目前，互联网所能提供的服务品质和服务种类其实已经达到了一个极限，在科技没有革命性进步的情况下，还想从线上有所突破是不太现实的。看似 AI、物联网、VR 很火热，但它们离真正的普及还有很长一段路要走。当然，哪天人类的科技真能发展到像电影《星际穿越》中所描绘的智能、多维的层级，这就另当别论了。目前来看，线下的活动场景和机会还是挺多的，只不过还没有被充分挖掘。

所以，不要太过于执着于线上，换一种思路，挖掘一下线下的场景，也许是创业的一个突破口。线下有太多小程序非常适合的场景，拥有巨大的想象空间。虽然现在有不少 H5 服务于线下场景（如很多餐饮业提供的排号及点餐服务），但无论是从体验还是产品闭环上，都远远不及小程序。这点希望开发者能够去思考一下，不要强行用固化的思维看待小程序。这和技术无关，只和场景有关。

那么原生 App、H5 和小程序该如何抉择？至少从目前来看，如果只是一个纯粹的单一的线上小程序，相比于原生 App 还是有一定的劣势的，但在微信将小程序与公众号做了「强绑定」后，小程序的应用又变得非常的多元化，它们之间不再是「非此即彼」了；而在对比 H5 页面时，小程序的体验（使用体验与服务体验）还是要略有优势的，毕竟小程序是一个体系，但缺点是没有 H5 开放和自由，H5 依然是最佳的粘合剂，很适合嵌入到各个种类的产品与应用中。

无论创业者选择 App 还是小程序，或者二者齐头并进，都应当把做好产品放在第一位。不是说选择不重要，而是过分在意选择载体而忽略了本质，多少有些舍本逐末。回归产品本质，解決用户的问题也许才是每个开发者应该斟酌和思量的事情。

对于小程序，更多时候我只是一个看客，它发展得好与不好对我而言没有太大影响。它发展得好，我这本书就有一定价值和意义，它发展得不好，未来这本书就如废纸一般，被读者丢弃在角落，蒙上一层厚厚的灰尘。我只是一个普通的开发者，这本书的内容也主要是讲解和技术本身相关的知识。它不是一本运营手册，仅仅是一本技术书籍，无论小程序未来发展如何，读者都可以从这本书里获取一些有用的知识。平台是多变的，但技术思维是相通的。

抛开繁杂的因素，仅从开发体验上讲，我非常喜欢小程序的灵巧。下载源代码后，不用配环境，只需要一个开发工具就能跑起小程序，这在现在越来越复杂的开发平台中是不多见的。也许小程序以后专业用来做原型代替 Axure 也不是不可能。此外，小程序非常适合开发者去践行自己的想法，以前移动端的开发成本太高，有很多想法因此都无法实现。但现在有了小程序就不同了，完全可以快速编写一个 MVP 产品，然后迅速投向市场去试错，再逐步送代、完善，最终考虑是否要推出自己的原生 App。

也许未来真的像张小龙所言，处处都是二维码；也可能未来的小程序就像历史上无数被技术更迭的浪潮所淹没的语言和平台一样，通于无形。可谁又能预测未来呢？互联网每天都有新贵诞生，也有王者陨落，成与败都在弹指之间，这在互联网的世界里是再平常不过的事情。对于一个寄生于超级 App 的平台而言更是如此，一切都是未知数。

但无论如何，小程序这种即用即走的理念确实是现今主流 App 所缺失的。世界和科技总在不断变迁和进步，小程序这种形态的应用能否打破现在移动端的格局，我们目前还不得而知，但我相信这种理念确实值得认真思考一下，至于移动端的未来，还是交给时间吧。

最后，我花了很多时间思考这本书应该起个什么名字。从入门到精通？从来没有一本书能让你真的精通一项技术，精通一项技术是需要经年累月的持续学习的；零基础学习小程序？这也不太实际，本书不是讲解 Javascript 等基础语言，很难做到零基础学习；从入门到实战？好像挺符合本书的定位。但我思忖，实战这个词汇太噱头，哪有在书里就能实战的，书里谈的代码从来都无法模拟真实的运行环境，何能称为实战？我诚惶诚恐，不敢用「实战」二字，思来想去，最后还是用「实践」落笔书名。以实例践行小程序的应用，同读者一起探讨小程序的开发。

雷磊 2017 年 2 月初稿

3 月修订

## 前言

### 1. 本书的特点与特色

兴许是我向来不喜欢很多编程书籍开篇就大篇幅罗列知识点的做法，从业八年以来，每每翻阅技术类书籍，看到连篇累牍的概念理论就头疼不已。接到清华大学出版社的邀约后，我长久思忖如何组织小程序开发这本书的编写思路，写出一本我自己也喜欢看的书籍。

如果能让读者身临其境地开发一个几近真实的项目，在不知不觉中就可以学会小程序开发，那该多好。庆幸的是，小程序不是一门语言，它不需要像 Java、Python、Javascript 等基础语言教学一样罗列一个个基础语法，它最好的学习方式就是本书的「实践式」学习。因此，本书将用一个较为完整的「案例项目」把小程序的各个知识点「串接」起来，一边做项目，一边学习小程序的开发。做完一个项目就可以入门小程序是本书的目的。

我喜欢这种「实践式」学习所带来的「代入感」（如果你玩过各类角色扮演游戏，你就明白什么是代入感），跟着本书一步步 coding，你不仅收获了知识，更是直接完成了一个像模像样的小程序，这种成就感是学习编程最大的动力。即使你是一个基础较好的开发者，只看官方的文档也能学会小程序的开发，我依然建议你认真阅读本书，因为本书将为你节约大量「试错」时间。

本书在很多时候并没有直接给出一个问题的最优解決方案，而是首先给出一个看似很蠢的思路来解決问题。因为这是我们最直接的思维，也是最简单的解決方案。通过分析这个解決方案有什么缺点，最后给出一个更加优秀的解決问题的建议。我想，这符合我们编程里「重构」的概念。相比于直接给出最优解（事实上编程里很难有最优解，只是相对「优秀」），渐进式的解決问题更加能让读者体会到优秀解决方案的优势，避免对知识的生搬硬套。

我一直认为，本书的编写思路也是程序员自学的思路，由点及面、由具体到抽象。在工作中遇到了问题，想办法解决问题，查阅资料学习这个问题的相关知识点，最后把这些知识点总结、归纳，形成自己的知识体系，这是一个通用的学习「套路」。编程的各类语言、框架太多了，技术发展的速度也快得惊人，即使类似功能的框架也多达十几个，我们很难像学习经典数学、基础物理学、现代经济学这样先学习理论再付诸实践。Coder 有时就要有这种直面未知的勇气：先解决再学习，管它三七ニ十。

本书虽然定位于入门，但其中不乏一些小程序的进阶知识，这主要体现在微信开放接口上。学习微信开放接口不仅需要你拥有前端的知识，更要有一定的服务器编程经验，否则你很难理解为什么微信要这么设计开放接口的调用流程？为什么需要这么复杂的签名与令牌体系？

退一步讲，不理解也没关系，遇到类似问题和功能时，你知道怎么去解決即可。在编程里，我们不理解的东西太多了，谁能保证我们将做过的项目、产品每一个细节都理解得清清楚楚、明明白白？有时候记住怎么去做，比为什么这么做更加重要。理解清楚只是一个相对的概念，没人能够准确定义理解到什么程度才能称为「理解清楚」，也没有人能够说明深入到什么程度才算是「深入学习」。所以，有选择地学习原理，把更多精力放在解决问题上，我认为是一个正确的选择。

在本书中，当遇到你不熟悉的知识体系时，没有关系，先写上去，实现这个功能。当以后有了更丰富的经验再回过头来看看这些知识点即可。本书的详细程度完全可以让你即使不懂某个知识点，也可以完成整个 Drange Can 项目。

### 2. 小程序开发需要的前置技能

如果不考虑服务器，小程序开发只需要开发者具有 Javascript 和 CSS 相关知识即可。

有很多文章说，开发者开发小程序还需要掌握 Vue、Angularjs，这有些强人所难了。小程序确实有很多和 Vue、Angularjs 相似的地方，这主要体现在数据绑定上。但 Vue 和 Angularjs 远比微信小程序要复杂得多，为了开发一个简单的小程序，学习远比这个简单的东西复杂多倍的框架实在没有必要。

从先来后到的角度看，Vue、Angularjs 等经典 MM 框架确实先于小程序出现，且小程序借鉴了许多这些 MVM 框架中的经典思想。但对于既没有开发过小程序，也没有任何 Angularjs、Vue 经验的开发者，这个先来后到的理念对你没有任何意义。反正都不会，自然是优先学习简单的，再进阶复杂的框架。如果你是一个 iOS 和 Android 转型过来的开发者，完全没有必要理会 Vue 和 Angularjs，小程序开发中的很多思想相信你在自己的 iOS 和 Android 领域已有体会。

如果你只是为了开发小程序前端部分，更没有必要学习 Nodejs。前端是前端，服务器是服务器，我们能把一端做到极致就已经非常了不起了。如果你想一个人开发一个完整的小程序，那服务器语言也没有规定必须是 Nodejs。选择一个你喜欢的服务器语言，PHP、Nodejs、Python、Java、C#、Ruby 都是可以的。

小程序开发需要掌握什么，在我看来是一个伪命题。小程序应该成为零基础入门开发者学习前端的首选开发平台（以学习与实践为目的），因为它足够简单，又同现在的主流 MVVM 框架非常类似，学习曲线很平滑。它应该成为入门其他更复杂、功能更强大的框架的「垫脚石」。

对于一个传统的 Web 开发者，在编写小程序时只需要注意以下两点：

1）小程序中没有 DOM，请放弃「首先获取 DOM，再操作 DOM」的思维。

2）替代 DOM 操作的方法是「数据绑定」。控制组件显示隐藏、切换 CSS 样式、控制滚动条，这些很容易用 DOM 思维思考常见功能在小程序中都是通过「数据绑定」实现的。

如果你想将代码写得更加优美和简洁，那么补充一些 ES6 和 LESS 的知识就更好了。

### 3. 小程序开发难吗

说小程序是所有开发框架 / 平台里最简单的可能略微有些夸张，但说小程序是目前所有主流移动开发技术中最简单的亳不夸张。这种简单来自于两个方面：

第一，编写小程序只需要掌握 Javascript 和 CSS 两门语言。前端最难的是有太多 Web 前端框架、类库需要学习。但是，小程序里的 Javascript 是「裸奔」的，我们在 Web 开发中常用的各类框架 / 类库在小程序中统统无法使用。jquery、Zepto、Angularjs、Hightcharts、Echarts，这些 Web 前端学习中的一座座大山，小程序已经全部「干掉了」——小程序运行在一个 JSCore 中，它本身不支持 Web 中的 window 及 DOM 对象。有些 Javascript 库还是可以使用的，但真的没有必要了，小程序已经提供了简单的架构和内置的特性避免使用这些框架。例如，小程序默认使用 babel 将开发者代码所使用的 ES6 语法转换成三端都能很好支持的 ES5 代码，帮助开发者解决环境不同所带来的开发问题。你所需要掌握的是 Javascript 和 CSS，原则上讲，不再需要学习各类框架和库了。这无疑减轻了很多初学者的负担。

第二，小程序本身就是为轻量级应用所设计的平台，无论是开发工具、设计规范、API 设计，无不散发出一种「大道至简」的气息。你只需要从官方下载一个开发工具即可立即开始开发小程序，没有复杂的安装环境，没有复杂的目录结构，也没有复杂的打包、部署流程。小程序很多近似死板的规范无疑让开发者減少了很多工作量（不给你选择，自然简单）。关于对于开发者的约束，这个仁者见仁、智者见智，有人喜欢它的简单，也有人憎恨它的「不自由」。

我甚至认为小程序完全可以成为那些完全没有编程经验又想进入前端开发领域的人最好的入门平台。完全可以从小程序入手，通过小程序平滑的学习曲线，在熟悉编程逻辑后，再反向学习 Web 前端庞大的知识体系，从而进入这个行业。

### 4. 处于早期阶段的小程序

小程序从 2016 年 9 月 22 日公布后，在短短的 3 个月中连续更新了 8 个版本。更新速度非常快。但在 2017 年 1 月 9 日正式开放后，版本迭代速度逐步放慢下来。预计正式上线后，小程序的接口会逐步趋于稳定。

小程序目前还处于极为早期的发展阶段，但其主要的框架、AP 都已成型，并不影响我们学习本书无法保证书籍出版前所使用的 API 不会在出版后有所调整，这个是我不能控制的。本书中所描述的知识与小程序的行为都只在 130400 版本中测试和验证，无法保证以后小程序会不会更改这些行为。事实上，从最开始的内测版本到现在的 130400 版本，小程序不仅调整 APl，甚至经常会更改一些 MINA 框架的运行机制和行为，这将导致原本可以正常运行的代码突然变得有问题，需要重新调整。

除此之外，本书的 Drange Can 项目是一个接近于真实项目的小程序，还是有一定复杂度的，我无法保证不出现「任何」bug。事实上，也没有任何人能保证自己的项目不出现「任何」bug，我们能做的就是严格测试、尽量減少 bug 的数量，并在发现 bug 后第一时间做出修正。

虽然无法保证书籍中的代码和 API 完全不会变更，但我会通过微信公众号、知乎专栏等方式同读者交流，保持对书籍的网络更新。同时，也会持续维护 Drange Can 示例项目的源代码，保证项目能够正确、稳定的运行。

截止本书出版之前，小程序最新版本为 0.14.140900。从 130400 到 140900 的版本更迭中，没有再出现因版本更新而造成的问题，项目代码运行良好。可以看到，小程序从 1 月 9 号正式开放后，APl 日趋成熟，基本能够保持稳定。

### 5. 本书与官方文档的区别

本书并不想成为官方开发文档的「搬运工」，除了一些非常必要的地方会引用官方文档的说明，本书几乎不会大段复制官方文档。本书更多使用官方 API 文档完成一个项目，对官方文档的主要内容做详细的补充说明，并附带对文档内容的经验性总结。

官方的 API 文档通常定位于工具类的速查手册而非教程。当然对于开发功底深厚的开发者，只靠开发文档也可以完成一个小程序项目，但通常需要耗费较长时间。开发文档只会告诉开发者有哪些能力，但这些能力如何使用还需要开发者自己探索。

本书可以告诉开发者如何使用官方 API 完成我们自己的业务逻辑，并在这个过程中逐步熟悉官方 APl，从而达到入门小程序并自己开发一个小程序的目的。

除此之外，目前来说，小程序的开发还是有不少「坑」的。本书尝试为开发者提前把这些「坑」踩踩，填实了，以帮助开发者集中精力开发业务，减少浪费在小程序 bug 上的时间。

本书是永远不可能替代官方 API 文档的。即使想成为官方文档的替代品也是不可能的，因为最新最全的资料永远都由官方文档率先公布，书籍总会有一定的滞后性，这也是我为什么没有在本书中大量引用官方文档的原因。本书的价值在于让开发者快速入门小程序，并讲解小程序的各个特性，降低开发者的学习成本，快速入门开发自己的应用。

官方文档总体来说还是非常全面优秀的，但也有很多讲得不清楚的地方，对于官方文档中错误、遗漏或者没有讲清楚的地方，本书会做详细的补充说明。建议开发者将本书与官方文档结合起来阅读，学习阶段以本书为主，文档为补充；而在开发阶段以文档为主，本书的补充说明为辅。

此外，官方为所有开发者准备了一个非常详尽的 demo，可在微信中搜索「小程序示例」这几个关键字。官方示例 demo 源代码下载地址:

### 6. 下载项目资源文件、源代码

本书难以详尽讲解小程序的所有知识点，也无法回答开发中的所有问题，更加难以应对不断更新的小程序版本。这是一个互联网的时代，我们将尝试用书籍 + 网络的方式来维护本书，并对小程序最新的变更做出代码上的改动，以保证我们的示例代码可以正常运行。读者朋友也可以通过我的微信公众号向我提供反馈，并收到书籍、源代码变更的更新消息。此外，我的知乎专栏也会经常发布一些关于编程和互联网方面的文章。

所有项目源代码、资源文件等内容都将在微信公众号中提供下载地址。读者可以从我的微信公众号中获取项目效果图和最新版本源代码。代码包括 Orange Can 项目的小程序代码及部分功能的服务端 PHP 代码。

微信公众号：小楼昨夜又秋风

知乎专栏：小楼昨夜又秋风

知乎 ID：七月在夏天

读者可以访问地址：http://pan.baidu.com/s/1cxQXie (注意区分数字和英文字母大小写）获得本书源代码。如果在下载过程中遇到问题，请发电子邮件至 booksagad@126.com，邮件主题设置为「微信小程序开发入门与实践配书资源」。

### 7. 如如何阅读本书

如果你是拥有多年丰富开发经验的开发者，并且已经对小程序有一定了解，建议快速浏览章节目录，找到你感兴趣的主题，然后只看这一小节。

如果你有一定的前端开发基础，但没有小程序的开发经验，建议从头开始做完 Orange Canl 项目，深入理解书中的每一个开发技巧。建议先看每个页面的效果图，或者下载最新源代码，在熟悉功能后，自己尝试编写项目功能，再对比源代码的实现方式。也许你写的项目代码比本书中的还要优秀。

如果你想用小程序来入门前端，那么请先熟悉 Javascript 和 CSS 的基础知识，然后把 Orange Can 顼目当作一个真实项目，一边做一边实践所学习的 Javascript 和 CSS 知识。遇到不太明白的地方努力搞懂它，实在不懂也没关系，先写上去，等有一定经验后再回过头来看。但无论如何定要完成 Orange Can 项目的文章和电影这两个部分。

如果你是一个纯粹的技术开发者，那么请直接从第 2 章开始屺读。

总体的建议是，对于 Orange Can 顼目的文章和电影部分，应该一步步跟着书籍逐步实现这两个核心功能；而对于「设置」页面，结合源代码「看懂」本书中的内容即可。当然，如果整本书你都能亲手敲打每一行代码，我相信你收获的绝对不仅仅是小程序开发的知识点。

此外，对于 Orange Can 项目的 CSS 样式，建议开发者不要完全照搬本书的 CSS 样式，每个人编写 CSS 样式的思路干差万别，本书无法保证所有 CSS 样式都是有意义的，少部分 CSS 样式是为了「防御性」而编写的。重点是小程序相关的知识点和 Javascript 代码。

### 8. 做信官方开发者社区

微信官方开放了一个开发者社区，开发者可以在社区里向微信官方反馈 bug 及提出问题。开发者 社区地址

[小程序交流专区 | 微信开放社区](https://developers.weixin.qq.com/community/develop/mixflow)

[微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)