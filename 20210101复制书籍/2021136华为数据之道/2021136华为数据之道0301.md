# 0301. 差异化的企业数据分类管理框架

## 本章小结

华为经过多年实践，已经建立了相对完整的数据分类管理框架，为数据治理奠定了基础。随着数字化转型的深入开展，尤其是面向未来海量的非结构化数据、IoT 场景的观测数据、外部合规日趋严格的外部数据等，华为将不断丰富每一类数据的治理实践。

## 3.0

不同的企业或组织基于不同的目的，可以从多个角度对数据进行分类，如结构化数据和非结构化数据、内部数据和外部数据、原始数据和衍生数据、明细数据和汇总数据等。华为在业界的数据分类基础上，结合自身多年的实践，已形成完整的数据分类管理框架。华为对数据进行分类的目的，是为了针对不同特性的数据采取不同的管理策略，以期实现最大的投入产出比。

## 3.1 基于数据特性的分类管理框架

华为根据数据特性及治理方法的不同对数据进行了分类定义：内部数据和外部数据、结构化数据和非结构化数据、元数据。其中，结构化数据又进一步划分为基础数据、主数据、事务数据、报告数据、观测数据和规则数据。华为数据分类管理框架如图 3-1 所示。

图 3-1 华为数据分类管理框架

对上述数据分类的定义及特征描述见表 3-1。

表 3-1 数据分类定义及特征描述

| 分类维度 | 数据分类名称 | 定义 | 特征 | 举例 |
| --- | --- | --- | --- | --- |
| 按数据主权所属华为外部/内部分类 | 外部数据 | 华为通过公共领域获取的数据 | 客观存在，其产生、修改不受我司的影响 | 国家、币种、汇率 |
| - | 内部数据 | 企业内经营产生的数据 | 在企业的业务流程中产生或在业务管理规定中定义，受企业经营影响 | 合同、项目、组织 |
| 从数据存储特性为结构化或者结构化分类 | 结构化数据 | 可以存储在关系数据库里，用二维表结构来表达实现的数据 | 1）可以用关系数据库存储；2）先有数据结构，再产生数据 | 国家、币种、组织、产品、客户 |
| - | 非结构化数据 | 形式相对不固定，不方便用数据库二维逻辑表来表现的数据 | 1）形式多样，无法用关系数据库存储；2）数据量通常较大 | 网页、图片、视频、音频、XML |
| - | 基础数据（参考数据） | 用结构化的语言描述属性，用于分类或目录整编的数据，也称作参考数据 | 1）通常有一个有限的允许/可选值范围；2）静态数据，非常稳定，可以用作业务 IT 的开关、职责/权限的划分或统计报告的维度 | 合同类型、职位、国家、币种 |
| - | 主数据 | 具有高业务价值的、可以在企业内跨流程跨系统被重复使用的数据，具有唯准确、权威的数据源 | 1）通常是业务事件的参与方，可以在企业内跨流程、跨系统重复调用；2）取值不受限于预先定义的数据范围；3）在业务事件发生之前就客观存在，比较稳定；4）主数据的补充描述可归人主数据范畴 | 实体型组织、客户、人员基础配置 |
| - | 事务数据 | 用于记录企业经营过程中产生的业务事件，其实质是主数据之间活动产生的数据 | 1）有较强的时效性，通常是一次性的；2）事务数据无法脱离主数据独立存在 | BOQ、支付指令、主生产计划 |
| - | 观测数据 | 观测者通过观测工具获取观测对象行为/过程的记录数据 | 1）通常数据量较大；2）数据是过程性的，主要用作监控分析；3）可以由机器自动采集 | 系统日志、物联网数据、运输过程中产生的 GPS 数据 |
| - | 规则数据 | 结构化描述业务规则变量（一般为决策表、关联关系表、评分卡等形式）的数据，是实现业务规则的核心数据 | 1）规则数据不可实例化，只以逻辑实体形式存在；2）规则数据的结构在纵向和横向两个维度上相对稳定，变化形式多为内容刷新；3）规则数据的变更对业务活动的影响是大范围的 | 员工报销遵从性评分规则、出差助规则 |
| - | 报告数据 | 是指对数据进行处理加工后，用作业务决策依据的数据 | 1）通常需要对数据进行加工处理；2）通常需要将不同来源的数据进行清洗、转换、整合，以便更好地进行分析；3）维度、指标值都可归入报告数据 | 收入、成本 |
| 从描述数据的手段上分类 | 元数据 | 定义数据的数据，是有关一个企业所使用的物理数据、技术和业务流程、数据规则和约束以及数据的物理与逻辑结构的信息 | 是描述性标签，描述了数据（如数据库数据元素、数据模型）、相关概念（如业务流程、应用系统、软件代码、技术架构）以及它们之间的联系（关系） | 数据标准、业务术语、指标定义 |

不同分类的数据，其治理方法有所不同。如基础数据内容的变更通常会对现有流程、IT 系统产生影响，因此基础数据的管理重点在于变更管理和统一标准管控。主数据的错误可能会导致成百上千的事务数据错误，因此主数据的管理重点是确保同源多用、重点进行数据内容的校验等。

2『不同数据类型及特性，做一张信息数据卡片。（2021-07-23）』—— 已完成

## 3.2 以统一语言为核心的结构化数据管理

结构化数据包括基础数据、主数据、事务数据、报告数据、观测数据、规则数据。结构化数据的共同特点是以信息架构为基础，建立统一的数据资产目录、数据标准与模型。本节将重点介绍六类结构化数据的治理方法。

2『以统一语言为核心的结构化数据管理。做一张主题卡片同时做一张金句卡片。（2021-07-23）』—— 已完成

### 3.2.1 基础数据治理

基础数据用于对其他数据进行分类，在业界也称作参考数据。基础数据通常是静态的（如国家、币种），一般在业务事件发生之前就已经预先定义。它的可选值数量有限，可以用作业务或 IT 的开关和判断条件。当基础数据的取值发生变化的时候，通常需要对流程和 IT 系统进行分析和修改，以满足业务需求。因此，基础数据的管理重点在于变更管理和统一标准管控。

基础数据在支撑场景分流、流程自动化、提升分析质量方面起着关键作用，治理基础数据的价值如图 3-2 所示。

外部协同有效性：使得对外部世界的描述统一，满足外部遵从性。例如：基础数据「贸易术语」在国际贸易中用于说明买卖双方在交接货物方面彼此应承担的责任、费用和风险的统一术语。

业务场景数字化：结构化分流业务场景，提高业务敏捷性。例如：基础数据「采购业务类型」被用于结构化的描述采购业务场景（生产采购类、综合采购类、工程采购类、基建采购类、后勤采购类等），以承载不同的业务流程及运作。

业务规则自动化：简化业务规则判断，业务规则可配置。例如：基础数据「供应商认证类型」被用于判断在履行系统中是否可以对该供应商下发采购业务负责人。

业务分析准确性：减少分析前的清洗和转换，支撑 E2E 的业务分析和決策。例如：基础数据「BG」是华为经营和运营报告常见的维度之一，在交易链条上使用相同的 BG 简码，才能免去对数据多余的清洗和转换。

因此，有效地管理基础数据对企业来说可以产生巨大的收益。以「运输方式」为例，基础数据的管理收益如图 3-3 所示。

1、减少运作风险。1）使得企业在经营过程中使用一致的方式对「运输」相关数据进行分类或描述；2）减少转换带来的成本和风险。

2、提高业务敏捷性。1）结构化支撑多个业务场景，支撑流程拉通。2）使得信息链路清晰，筒化业务处理规则。3）为直接基于基础数据「运输方式」的业务规则自动化提供可能。

1-3『因为从 0 到 1 做了设计流数据一体化，对这点太有感触了，只有先把业务数据结构化，我们才能实现业务规则的自动化（设计作业算法）。（2021-07-23）』

3、提高遵从度。1）统一「运输方式」数据标准，提高外部协同的遵从度，提交不合规的允许值时无法与海关连通。

4、提升报告质量。1）减少基础数据「运输方式」分析前的清洗和转换；2）支撑端到端的业务分析和决策。3）不需要做 Mapping，增加业务的确定性。

5、降低 IT 成本。1）减少 Mapping 的开发；2）减少维护成本。

华为建立了一个完整的基础数据管理框架（如图 3-4 所示），通过明确各方的管理责任、发布相关的流程和规范以及建立基础数据管理平台等来确保基础数据的有效管理。

图 3-4 基础数据治理框架

### 3.2.2 主数据治理

主数据是参与业务事件的主体或资源，是具有高业务价值的、跨流程和跨系统重复使用的数据。主数据与基础数据有一定的相似性，都是在业务事件发生之前预先定义；但又与基础数据不同，主数据的取值不受限于预先定义的数据范围，而且主数据的记录的增加和减少一般不会影响流程和 IT 系统的变化。但是，主数据的错误可能导致成百上千的事务数据错误，因此主数据最重要的管理要求是确保同源多用和重点进行数据内容的校验。华为的主数据管理策略如图 3-5 所示。

图3-5 主数据治理策略

唯一性：主数据应该代表企业中的某个业务对象的唯一实例，以对应真实世界的对象。重复创建实例将导致数据的不一致，进而给业务流程和报告带来问题。

联邦管控：联邦管控模型代表在中央制定政策、标准和模型，在地方由数据管家和用户一起在流程的各个层级中来实施这些政策、标准和模型。

单一数据源：为确保数据跨系统、跨流程的唯一性和一致性，需要为每个属性的创建、更新和读取确定一个应用系统作为数据源。

数据、流程、IT 协同：正确的数据需要在正确的流程中创建、更新和使用，并在正确的应用系统中落地，这种协同将确保全公司范围内的数据质量。

事前的数据质量策略：应该在数据创建阶段就主动管理数据质量，而非在问题出现后被动解决。

华为的主数据范围包括客户、产品、供应商、组织、人员主题，每个主数据都有相应的架构、流程及管控组织来负责管理。

鉴于主数据管理的重要性，对于每个重要的主数据，都会发布相应的管理规范，数据管家依据数据质量标准定期进行数据质量的度量与改进。同时，对于主数据的集成消费按照如下管理框架进行管理，如图 3-6 所示。

图 3-6 主数据治理框架

1、数据消费层：数据消费层包括所有消费数据的 IT 产品团队，负责提出数据集成需求和集成接口实施。

2、主数据服务实施层：负责主数据集成解决方案的落地，包括数据服务的 IT 实施和数据服务的配置管理。

3、主数据服务设计层：为需要集成主数据的 IT 产品团队提供咨询和方案服务，负责受理主数据集成需求，制定主数据集成解决方案，维护主数据的通用数据模型。

4、管控层：管控层由信息架构专家组担任，负责主数据规则的制定与发布，以及主数据集成争议或例外的决策。

接下来介绍客户主数据治理的实践。客户数据是企业最重要的主数据之一，几乎贯穿所有业务经营活动。客户数据在全流程中的及时性、准确性、完整性、一致性、有效性、唯一性是业务高效运作、经营可控的重要保障。随着业务发展，华为客户数量迅速增长，客户数据种类复杂多样，因此要构建客户数据管理和服务化能力，以满足经营分析、交易打通、内外部遵从、客户价值挖掘等核心要求，支撑面向多 BG 的战略转变。

在客户数据治理和服务化改造前，客户历史数据质量较差，一个客户编码存在多个 BG 属性，导致无法直接基于客户维度生成 BG 报告，同时无法支持基于不同业务特点对同一客户授信、控制备发货。

下游系统违规录入客户数据会影响财报的准确性，风险等级高。财报内控管理建议书中指出，「风险等级评定高，部分同源的主数据在不同系统中维护，可能导致各系统间不一致，增加维护的工作量」。

经过对 3 大 BG，财经、供应链、变革项目组等 24 个部门的情况进行收集和分析，客户数据的问题根源在以下几个方面。

1、客户信息不完整，且下游系统未严格遵循数据源头所定义的标准。

2、数据架构不灵活、紧耦合，不能有效支撑多 BG 的业务管理。

3、下游系统集成管理不严格，存在多源头录入。

4、客户数据源头的数据质量管理控制点无法延伸到下游的各集成 IT 系统中。

为彻底解决客户数据问题，华为制订了客户数据管理及服务化架构方案，以客户数据质量为核心，严控数据流入与流出两个端口，搭建客户数据管理及服务平台，统一数据架构和标准，通过服务化架构实现「数出一孔」，提升财报准确性、提升运作效率、降低运营风险（如图 3-7 所示）。

图 3-7 客户主数据治理框架

以客户数据架构的重构和管理为基础，制订了 Account & Legal Entity 两级架构。Account 用于华为公司市场拓展、销售管理及数据归集等内部经营管理，是不具备与华为公司签约资格的对象；Legal Entity（法人客户）是依法具有民事权利能力和民事行为能力，依法独立享有民事权利和承担民事义务，具备与华为公司签约资格的对象，包括企业、国家机关、事业单位和社会团体等。Account 数据确保客观、稳定，各 BG、各流程、各系统一致；而 Legal Entity 基于 BG 分层解耦，按内容性质区分「身份证」信息和其他业务信息，满足多 BG 业务管理。客户主数据架构如图 3-8 所示。

以客户数据架构的优化为基础，重点通过数据服务化方式对整个华为公司原有的集成方式进行改造，包括下游的 136 个 IT 系统和应用，3 大类近 2000 个改造点，从根本上消除了原有的不合理的数据集成方式，具体包括如下 4 点。

1、确保下游 IT 系统或应用不从非数据源系统集成客户数据。例如：A 系统从 B 系统（非数据源）集成主数据，并且在 A 系统落地了物理表。

2、确保下游 IT 系统或应用集成合法数据源且不修改属性。例如，修改了展现业务含义的字段，将编码改为编号。

3、确保下游 IT 系统或应用中不补录数据。例如，客户数据从合法的数据源集成，集成后对客户数据进行行记录的新增或补录。

4、确保下游 IT 系统或应用不向后传递数据。例如，某系统未以数据服务方式从数据源获取数据，而是直接调用中间系统（非数据源）的客户数据。

通过服务化改造提升了全流程数据的一致性，同时为各个环节带来了明显的业务价值，包含如下几点。

1、实现「数出一孔」，提高数据质量。提高数据准确性与及时性，减少不同部门之间的对账成本，帮助提高财经等报告的准确性。

2、满足内外部应遵从的要求，降低华为公司风险。实现数据「一点录入，多点调用」，满足财报内控及内外部审计要求，提高客户数据真实性，降低合同造假等业务运营风险。

3、支持交易流打通，提升运营效率。满足各流程对客户数据的要求，降低合同非正常变更及退票风险。

4、支持经营分析和价值评价。支持基于客户视角生成 BG 管理报告与各业务部门经营管理分析。

5、支持价值挖掘，聚焦优质客户。支持客户 360 度分析，驱动优质资源瞄准优质客户，提高市场响应效率。

### 3.2.3 事务数据治理

事务数据在业务和流程中产生，是业务事件的记录，其本身就是业务运作的一部分。事务数据是具有较强时效性的一次性业务事件，通常在事件结束后不再更新。

事务数据会调用主数据和基础数据。以客户框架合同为例，核心属性有 32 个，其中调用基础数据和主数据 24 个，占 75%；客户框架合同本身特有的属性 8 个，占 25%。同时，框架合同也引用了机会点的编码和投标项目的编码等事务数据的信息。

因此，事务数据的治理重点就是管理好事务数据对主数据和基础数据的调用，以及事务数据之间的关联关系，确保上下游信息传递顺畅。在事务数据的信息架构中需明确哪些属性是引用其他业务对象的，哪些是其自身特有的。对于引用的基础数据和主数据，要尽可能调用而不是重新创建。

### 3.2.4 报告数据治理

报告数据是指对数据进行处理加工后，用作业务决策依据的数据。它用于支持报告和报表的生成。

用于报告和报表的数据可以分为如下几种。1）用于报表项数据生成的事实表、指标数据、维度。2）用于报表项统计和计算的统计函数、趋势函数及报告规则。3）用于报表和报告展示的序列关系数据。4）用于报表项描述的主数据、基础数据、事务数据、观测数据。5）用于对报告进行补充说明的非结构化数据。

报告数据涵盖的范围较广，如主数据、基础数据等，这些数据类别本身已经有相应的管理机制和规范，这里我们重点对部分新的细分数据类型进行说明。

1、事实表：从业务活动或者事件中提炼出来的性能度量。其特点为：1）每个事实表由颗粒度属性、维度属性、事务描述属性、度量属性组成；2）事实表可以分为基于明细构建的事实表和基于明细做过汇聚的事实表。

2、维度：用于观察和分析业务数据的视角，支持对数据进行汇聚、钻取、切片分析。其特点为：1）维度的数据一般来源于基础数据和主数据；2）维度的数据一般用于分析视角的分类；3）维度的数据一般有层级关系，可以向下钻取和向上聚合形成新的维度。

3、统计型函数：与指标高度相关，是对指标数量特征进一步的数学统计，例如均值、中位数、总和、方差等。其特点为：1）通常反映某一维度下指标的聚合情况、离散情况等特征；2）其计算数值在报告中通常呈现为图表中的参考线。

4、趋势型函数：反映指标在时间维度上变化情况的统计方式，例如同比、环比、定基比等。其特点为：1）通常将当期值与历史某时点值进行比较；2）调用时，需要收集指标的历史表现数据；3）其计算数值在报告中通常呈现为图表中的趋势线。

5、报告规则数据：一种描述业务决策或过程的陈述，通常是基于某些约束下产生的结论或需要采取的某种措施。其特点为：1）将业务逻辑通过函数运算体现，通常一个规则包含多个运算和判断条件；2）规则的计算结果一般不直接输出，需要基于计算结果翻译成业务语言后输出；3）规则通常与参数表密切相关。

6、序列关系数据：反映报告中指标及其他数据序列关系的数据。

### 3.2.5 观测数据治理

观测数据是通过观测工具获取的数据，观测对象一般为人、事、物、环境。

相比传统数据，观测数据通常数据量较大且是过程性的，由机器自动采集生成。不同感知方式获取的观测数据，其数据资产管理要素不同。

观测数据的感知方式可分为软感知和硬感知。软感知是使用软件或者各种技术进行数据收集，收集的对象存在于数字世界，通常不依赖于物理设备，一般是自动运行的程序或脚本；硬感知是利用设备或装置进行数据收集，收集的对象为物理世界中的物理实体，或者是以物理实体为载体的信息，其数据的感知过程是数据从物理世界向数字世界的转化过程。

观测数据的特征有如下几点：1）观测数据通常数据量较大且是过程性的，主要用作监控分析。例如，视频监控器产生的视频数据、操作系统产生的日志记录数据等；2）观测数据由机器自动采集生成。例如，各种传感器或探针记录观测对象产生的数据；3）观测数据是观测工具采集回来的原始数据（Raw Data），仅转换结构和格式，不做任何业务规则解析。

观测数据的管理模型如图 3-9 所示。

图 3-9 观测数据管理模型

观测工具的元数据可以作为数据资产管理：软感知（埋点、日志收集、爬虫）观测工具抽象成业务对象，由 IT 部门担任数据 Owner 进行统一管理；硬感知观测工具作为资源类数据，也建议作为业务对象由相应的领域担任数据 Owner 进行管理。

原则上，观测对象要定义成业务对象进行管理，这是观测数据管理的前提条件。

观测数据需要记录观测工具、观测对象。针对不同感知方式获取的观测数据，其资产管理方案也不尽相同。例如，以用户界面浏览记录为例，如果是对销售机会点的查询访问观测，应当归属到相应业务领域；如果是对页面性能、页面 UV、PV 的观测，应当归属到 IT 部门。

### 3.2.6 规则数据治理

在业务规则管理方面，华为经常面对「各种业务场景业务规则不同，记不住，找不到」「大量规则在政策、流程等文件中承载，难以遵守」「各国规则均不同，IT 能否一国一策、快速上线」等问题。

规则数据是结构化描述业务规则变量（一般为决策表、关联关系表、评分卡等形式）的数据，是实现业务规则的核心数据，如业务中普遍存在的基线数据。

规则数据主要有以下特征：1）规则数据不可实例化；2）规则数据包含判断条件和决策结果两部分信息，区别于描述事物分类信息的基础数据；3）规则数据的结构在纵向（列）、横向（行）两个维度上相对稳定，变化形式多为内容刷新；4）规则数据的变更对业务活动的影响是大范围的。

其基本原则为：

1、规则数据的管理是为了支撑业务规则的结构化、信息化、数字化，目标是实现规则的可配置、可视化、可追溯。

2、不同于标准化的信息架构管理，规则数据的管理具有轻量化、分级的特点。重要的、调用量大、变动频繁的业务规则需要通过规则数据管理，使其从代码中解耦，进行资产注册；使用广泛的、有分析需求的规则数据需要通过注册入湖，实现共享和复用。

3、业务规则在架构层次上与流程中的业务活动相关联，是业务活动的指导和依据，业务活动的结果通过该业务活动的相关业务对象的属性来记录。业务规则通过业务活动对业务事实、业务行为进行限制，业务人员可以根据业务规则判断业务情况，采取具体行动。

4、业务规则包含规则变量和变量之间的关系，规则数据主要描述规则的变量部分，是支撑业务规则的核心数据（如图 3-10 所示）。

图 3-10 业务规则与规则数据之间的关系

此外，运行规则所需要的输入数据、输出数据，包括动态数据库访问对象、内存表缓存、Excel、XML 处理类等，主要起支撑作用，不在规则数据的范畴。

规则数据必须有唯一的数据 Owner，其负责开展规则数据的信息架构建设与维护、数据质量的监控与保障、数据服务建设、数据安全授权与定密等工作。相应的数据管家支持数据 Owner 对所管辖的业务中的规则数据进行治理，包括建设和维护信息架构、确保架构落地遵从、例行监控数据质量等。

规则数据的元数据要记录与业务规则的关系（规则数据定义前应先完成业务规则的识别和定义）。一个业务规则可以包含零个、一个或多个规则数据，一个规则数据在信息架构上对应一个逻辑数据实体，在物理实现上一般对应一个物理表。规则数据要遵从信息架构资产管理要求（包括明确规则数据的 Owner、制定数据标准、明确数据源等），按照信息安全要求定密，以方便规则数据的管理、共享和分析。

## 3.3 以特征提取为核心的非结构化数据管理

随着业务对大数据分析的需求日益增长，非结构化数据的管理逐渐成为数据管理的重要组成部分。非结构化数据包括无格式文本、各类格式文档、图像、音频、视频等多种异构的格式文件，较之结构化数据，其更难标准化和理解，因此在存储、检索以及消费使用时需要智能化的 IT 技术与之匹配。华为的非结构化数据包括文档（邮件、Excel、Word、PPT）、图片、音频、视频等。

相较于结构化数据，非结构化元数据管理除了需要管理文件对象的标题、格式、Owner 等基本特征和定义外，还需对数据内容的客观理解进行管理，如标签、相似性检索、相似性连接等，以便于用户搜索和消费使用。因此，非结构化数据的治理核心是对其基本特征与内容进行提取，并通过元数据落地来开展的。

非结构化数据的管理模型如图 3-11 所示。

图 3-11 非结构化数据管理模型

非结构化数据的元数据可以分为基本特征类（客观）和内容增强类（主观）两类。1）基本特征类：参考都柏林十五个核心元数据，实现对非结构化数据对象的规范化定义，如标题、格式、来源等。2）内容增强类：基于非结构化数据内容的上下文语境，解析目标文件对象的数据内容，加深对目标对象的客观理解，如标签、相似性检索、相似性连接等。

非结构化数据的元数据管理采用统分统管的原则，即基本特征类属性由公司进行统一管理，内容增强类属性由相关承担数据分析工作的项目组自行设计，但其分析结果都应由公司元数据管理平台自动采集后进行统一存储。

元数据管理平台通过「基本特征类元数据流」和「内容增强类元数据流」两条线来实现对非结构化数据的元数据管理和消费使用。

1、基本特征类元数据流。元数据管理平台基于收集到的各类非结构化数据源信息，自动完成基础特征类元数据的采集工作，按照管理规范和要求通过标准化、整合后存储在元数据管理平台中，并在完成元数据过滤、排序后将结果在元数据报告中进行可视化展示，以供用户消费使用。

2、内容增强类元数据流。基于元数据管理平台中基本特征类元数据的信息，各数据分析项目组解析目标非结构化对象的数据内容，并将分析结果通过元数据采集、元数据标准化 & 整合后统一存放在元数据管理平台中，以供用户一并消费使用，增强用户体验。

非结构化数据的处理过程如图 3-12 所示。

## 3.4 以确保合规遵从为核心的外部数据管理

外部数据是指华为公司引入的外部组织或者个人拥有处置权利的数据，如供应商资质证明、消费者洞察报告等。外部数据治理的出发点是合规遵从优先，与内部数据治理的目的不同。

外部数据的治理主要遵循以下原则。

1、合规优先原则：遵从法律法规、采购合同、客户授权、公司信息安全与公司隐私保护政策等相关规定。

2、责任明确原则：所有引入的外部数据都要有明确的管理责任主体，承担数据引入方式、数据安全要求、数据隐私要求、数据共享范围、数据使用授权、数据质量监管、数据退出销毁等责任。

3、有效流动原则：使用方优先使用公司已有数据资产，避免重复采购、重复建设。

4、可审计、可追溯原则：控制访问权限，留存访问日志，做到外部数据使用有记录、可审计、可追溯。

5、受控审批原则：在授权范围内，外部数据管理责任主体应合理审批使用方的数据获取要求。

在以上原则指导下，我们要求所有采购的外部数据要注册，在合规的前提下鼓励数据共享，避免重复采购。其他方式引入的外部数据，由管理责任主体决定登记方式。根据法律条款和授权范围，外部数据管理责任主体有权决定外部数据是否入数据湖，如果需要入数据湖，必须遵从数据湖建设相应的流程和规范。同时，外部数据管理责任主体有义务告知使用方合规使用外部数据，对于不合规的使用场景，不予授权；数据使用方要遵从外部数据管理责任主体的要求，对不遵从要求所引起的后果承担责任。

## 3.5 作用于数据价值流的元数据管理

无论结构化数据，还是非结构化数据，或者外部数据，最终都会通过元数据治理落地。华为将元数据治理贯穿整个数据价值流，覆盖从数据产生、汇聚、加工到消费的全生命周期。

### 3.5.1 元数据治理面临的挑战

华为在进行元数据治理以前，遇到的元数据问题主要表现为数据找不到、读不懂、不可信，数据分析师们往往会陷入数据沼泽中，例如以下常见的场景。

1、某子公司需要从发货数据里对设备保修和维保进行区分，用来不对过保设备进行服务场景分析。为此，数据分析师需面对几十个 IT 系统，不知道该从哪里拿到合适的数据。

2、因盘点内部要货的研发领料情况，需要从 IT 系统中获取研发内部的要货数据，面对复杂的数据存储结构（涉及超过 40 个物理表和超过 1000 个字段）、物理层和业务层脱离的情况，业务部门的数据分析师无法读懂物理层数据，只能提出需求向 IT 系统求助。

3、某子公司存货和收入管理需要做繁重的数据收集与获取工作，运行一次计划耗时超过 20 个小时。同时，由于销售、供应、交付各领域计划的语言不通，还需要数据分析师进行大量人工转换与人工校验。

以上场景频繁出现在公司日常运营的各个环节，极大地阻碍了公司数字化转型的进行，其根本原因就在于业务元数据与技术元数据未打通，导致业务读不懂 IT 系统中的数据。并且缺乏面向普通业务人员的准确、高效的数据搜索工具，业务人员无法快速获取可信数据。元数据管理的痛点如图 3-13 所示。

图 3-13 元数据管理痛点

为解决以上痛点，华为建立了公司级的元数据管理机制。制定了统一的元数据管理方法、机制和平台，拉通业务语言和机器语言。确保数据「入湖有依据，出湖可检索」成为华为元数据管理的使命与目标。

基于高质量的元数据，通过数据地图就能在企业内部实现方便的数据搜索。

元数据是描述数据的数据，用于打破业务和 IT 之间的语言障碍，帮助业务更好地理解数据。元数据通常分为业务、技术和操作三类。

1、业务元数据：用户访问数据时了解业务含义的途径，包括资产目录、Owner、数据密级等。

2、技术元数据：实施人员开发系统时使用的数据，包括物理模型的表与字段、ETL 规则、集成关系等。

3、操作元数据：数据处理日志及运营情况数据，包括调度频度、访问记录等。

在企业的数字化运营中，元数据作用于整个价值流，在从数据源到数据消费的五个环节中都能充分体现元数据管理的价值。

1、数据消费侧：元数据能支持企业指标、报表的动态构建。

2、数据服务侧：元数据支持数据服务的统一管理和运营，并实现利用元数据驱动 IT 敏捷开发。

3、数据主题侧：元数据统一管理分析模型，敏捷响应井喷式增长的数据分析需求，支持数据增值、数据变现。

4、数据湖侧：元数据能实现暗数据的透明化，增强数据活性，并能解决数据治理与 IT 落地脱节的问题。

5、数据源侧：元数据支撑业务管理规则有效落地，保障数据内容合格、合规。

### 3.5.2 元数据管理架构及策略

元数据管理架构包括产生元数据、采集元数据、注册元数据和运维元数据。

1、产生元数据：制定元数据管理相关流程与规范的落地方案，在 IT 产品开发过程中实现业务元数据与技术元数据的连接。

2、采集元数据：通过统一的元模型从各类 IT 系统中自动采集元数据。

3、注册元数据：基于增量与存量两种场景，制定元数据注册方法，完成底座元数据注册工作。

4、运维元数据：打造公司元数据中心，管理元数据产生、采集、注册的全过程，实现元数据运维。

5、元数据管理方案：通过制定元数据标准、规范、平台与管控机制，建立企业级元数据管理体系，并推动其在公司各领域落地，支撑数据底座建设与数字化运营。

华为元数据管理整体方案如图 3-14 所示。

### 3.5.3 元数据管理

3.5.3.1 产生元数据

1、明确业务元数据、技术元数据和操作元数据之间的关系，定义华为公司元数据模型，如图 3-15 所示。

2、针对找数据及获取数据难的痛点，明确业务元数据、技术元数据、操作元数据的设计原则。

1）业务元数据设计原则。

一个主题域分组下有多个主题域，一个主题域下有多个业务对象，一个业务对象下有多个逻辑实体，一个逻辑实体下有多个属性，一个属性有一个数据标准。

每个数据标准可被一个或多个属性引用，每个属性归属于一个逻辑实体，每个逻辑实体归属于一个业务对象，每个业务对象归属于一个主题域，每个主题域归属于一个主题域分组。

2）技术元数据设计原则。

物理表设计须满足三范式，如为了降低系统的总体资源消耗，提高查询效率，可反范式设计。

物理表、视图和字段的设计须基于用途进行分类。

承载业务用途的物理表、虚拟表、视图必须与逻辑实体一一对应，承载业务用途的字段必须与属性一一对应。

系统间的数据传递须优先采用数据服务。

3）操作元数据设计原则。

日志目的不同的进行分类设计，日志目的相同的进行相同设计（非自研场景按软件包适配）。

3、规范数据资产管理，设计数据资产编码规范。

1）数据资产编码规范。华为数据资产编码的主要包括业务元数据和技术元数据两大类，其中业务元数据包含主题域分组、主题域、业务对象、逻辑实体、属性、数据标准；技术元数据包含物理数据库、Schema、表、字段。具体的定义与描述如表 3-2 所示。

表 3-2 数据资产编码规范

2）数据资产编码原则。数据资产编码（DAN）是通过一组数字、符号等组成的字符串去唯一标识华为公司内部每一个数据资产，基于此唯一标识，保证各业务领域对同一数据资产的理解和使用一致，它的设计遵循以下原则。

统一性原则：华为公司内部只能使用一套数据资产编码，以方便不同业务部门之间的沟通和 IT 应用之间的数据交换。

唯一性原则：每一个数据资产只能用唯一的数据资产编码进行标识，不同数据资产的编码不允许重复，同一个编码也只能对应到一个数据资产上。

可读性原则：数据资产编码作为数据资产分类、检索的关键词和索引，需要具备一定的可读性，让用户通过编码就能初步判断其对应的数据资产类型。

扩展性原则：数据资产的编码要从数据管理角度适当考虑未来几年的业务发展趋势，其编码长度要能适当扩展，同时不影响整个编码体系。

3）业务元数据资产编码规则。

业务元数据资产编码规则主要包含三个部分：第一部分为主题域分组的编码规则，主题域分组的编码由公司统一分配；第二部分为主题域、业务对象、逻辑实体、属性的编码规则，这部分主要由数据治理平台按照编码规则自动生成；第三部分主要为业务元数据包含的子类对应的数据资产类型代码。

3.5.3.2 采集元数据

元数据采集是指从生产系统、IT 设计平台等数据源获取元数据，对元数据进行转换，然后写入元数据中心的过程。元数据的来源可分为如表 3-3 所示的六类。

表 3-3 元数据来源

1、选择适配器。适配器是指针对不同的元数据来源，采用相应的采集方式获取元数据的程序，元数据的来源种类繁多，因而须选择相对应的适配器及元模型。

2、配置数据源。配置数据源是采集元数据的关键，在确定数据源所选择的适配器类型、适配器版本、元模型的基础上，配置数据源的名称、连接参数和描述。

3、配置采集任务。采集任务为自动调度的工作单元，为元数据的采集提供自动化的、周期性的、定时的触发机制。

3.5.3.3 注册元数据

大多数企业的数字化建设都存在增量和存量两种场景，如何同时有效地管理这两种场景下的元数据就成了问题的关键。华为通过标准的元数据注册规范和统一的元数据注册方法，实现了两种场景下业务元数据和技术元数据的高效连接，使业务人员能看懂数据、理解数据，并通过数据底座实现数据的共享与消费。

1、元数据注册原则。元数据注册的原则包括如下三点：

数据 Owner 负责，是谁的数据就由谁负责业务元数据和技术元数据连接关系的建设和注册发布；

按需注册，各领域数据管理部根据数据搜索、共享的需求，推进元数据注册；

注册的元数据的信息安全密级为内部公开。

2、元数据注册规范。通过「元数据注册三步法」完成元数据注册，如图 3-16 所示。

图 3-16 元数据注册方法

1）准备度评估项包括如下检查要点：IT 系统名称必须是公司标准名称；数据资产目录是否经过评审并正式发布；数据 Owner 是否确定数据密级；物理表 / 虚拟表 / 视图名。

2）元数据连接需遵从以下规范。

逻辑实体和物理表 / 虚拟表 / 视图一对一连接规范：在业务元数据与技术元数据连接的过程中，必须遵从逻辑实体和物理表 / 虚拟表 / 视图一对一的连接原则，如果出现一对多、多对一或多对多的情况，各领域需根据实际场景，参照元数据连接的设计模式进行调整。

业务属性与字段一对一连接规范：除了逻辑实体与物理表 / 虚拟表 / 视图要求一一对应外，属性和非系统字段（具备业务含义）也要求遵从一对一的连接原则，如出现属性与字段匹配不上的情况，可参考元数据关联的设计模式进行调整。

完成元数据注册后，通过元数据中心自动发布。

3、元数据注册方法。元数据注册分为增量元数据注册和存量元数据注册两种场景。

增量场景相对容易，在 IT 系统的设计与开发过程中，落实元数据的相关规范，确保系统上线时即完成业务元数据与技术元数据连接，通过元数据采集器实现元数据自动注册。

针对存量场景，华为设计了元数据注册的四大模式。在符合元数据设计规范的前提下，进行业务元数据与技术元数据的连接及注册。

模式一：一对一模式。

适用场景：适用于数据已发布信息架构和数据标准且物理落地，架构、标准与物理落地能一一对应的场景。

解决方案：1）将逻辑实体和物理表一对一连接。2）逻辑实体属性和物理表字段一对一连接。

应用实例：具体的应用实例如图 3-17 所示。

图 3-17 元数据注册一对一模式样例

模式二：主从模式。

适用场景：适用于主表和从表结构一致，但数据内容基于某种维度分别存储在不同物理表中的场景。例如，按时间或项目归档，或按区域进行分布式存储。

解决方案：1）识别主物理表和从属物理表。2）以主物理表为核心，纵向 UNION 所有从属物理表，并固化为视图。3）将视图、逻辑实体、字段和业务属性一对一连接。

应用实例：具体的应用实例如图 3-18 所示。

模式三：主扩模式。

适用场景：适用于逻辑实体的大部分业务属性在主物理表，少数属性在其他物理表中的场景。

解决方案：1）识别主物理表和扩展物理表。2）以主物理表为核心，横向 JOIN 所有扩展物理表，完成扩展属性与主表的映射，并固化为视图。3）将视图、逻辑实体、字段和业务属性一对一连接。

应用实例：具体应用实例如图 3-19 所示。

图 3-19 元数据注册主扩模式样例

模式四：父子模式。

适用场景：适用于多个逻辑实体业务属性完全相同，按不同场景区分逻辑实体名称，但落地在同一张物理表的场景。

解决方案：1）识别一张物理表和对应的多个逻辑实体。2）将物理表按场景拆分和多个逻辑实体一对一连接。3）将物理表字段和多个逻辑实体属性一对一连接。

应用实例：具体应用实例如图 3-20 所示。

3.5.3.4 运维元数据

运维元数据是为了通过对元数据进行分析，发现数据注册、设计、使用的现状及问题，确保元数据的完整、准确。通过数据资产分析，了解各区域 / 领域的数据注册情况，进而发现数据在各信息系统使用过程中存在的问题。通过业务元数据与技术元数据的关联分析，反向校验架构设计与落地的实施情况，检查公司数据管理政策的执行情况。

主要分为如下四个场景。

场景一：基于数据更新发现，数据源上游创建，下游更新。

场景二：通过数据调用次数发现，某数据源上游调用次数 < 下游调用次数。

场景三：虽制定了架构标准，但不知落地情况，比如某个属性建立了数据标准，但是却找不到对应落地的物理表字段。

场景四：通过物理表的字段分析，发现很多字段缺少数据标准。