# 2020005MDN的Web开发R01

## 记忆时间

### 0101. 反常识卡——

这本书的主题核心，就是最大的反常识卡，并且注意时间脉络。

#### 01. 常识

#### 02. 反常识

#### 03. 知识来源

比如提出者，如何演化成型的；书或专栏具体出现的地方。

#### 04. 例子

### 0201. 术语卡——文件夹和文件名命名

文件夹和文件名命名使用小写，并且使用短横线，别用空格、下划线。一定要养成习惯。

一些关于大小写和空格的提示。你会注意到，文中所有的文件夹名和文件都使用小写字母，且没有空格。这是因为：1）很多计算机，特别是 Web 服务器，是对大小写敏感的。举个例子，如果你将一张图片放在 test-site/MyImage.jpg，然后在一个不同的文件里你试图以 test-site/myimage.jpg  引用这张图片，这将不会起作用。2）浏览器，Web 服务器，还有编程语言不能一致处理空格。举个例子，如果你在文件名里使用空格，一些系统会把它这个文件名视为两个文件名。一些服务器将会把你的文件名里的空格替换为「%20」（URI 里空格的编码），破坏你所有的链接。最好使用横线，而不是下划线来分离单词：对比 my-file.html 和 my_file.html 。简单地说，你应该在文件名中使用连字符。谷歌搜索引擎把连字符当作一个词的分隔符，但不会以这种方式处理下划线。基于这些原因，至少在你知道自己在做什么之前，最好养成在文件夹和文件名中使用小写，并且使用短横线而不是空格来分隔的习惯。这样可以避免你在以后碰到一些问题。

### 0202. 术语卡——undefined

用 var 或 let 语句声明的变量，如果没有赋初始值，则其值为 undefined 。如果访问一个未声明的变量会导致抛出一个引用错误（ReferenceError）异常；你可以使用 undefined 来判断一个变量是否已赋值。在以下的代码中，变量 input 未被赋值，因此 if 条件语句的求值结果是 true 。undefined 值在布尔类型环境中会被当作 false 。例如，下面的代码将会执行函数 myFunction，因为数组 myArray 中的元素未被赋值。

### 0203. 术语卡——

### 0301. 金句卡——

最后根据他写的非常震撼的话语——产生一张金句卡。

## 0101. Web 入门1

Web 入门是一门介绍 Web 开发实用性的简洁系列课程。在这里你将学会如何设置构建简单网页所需的工具并发布你自己的简易代码。构建一个专业的网站需要大量的工作，所以如果你是新手，我们鼓励你从小事做起。你不会直接建立另一个 Facebook，但建立一个个人的简单在线网站并不难。

### 1. 逻辑脉络

1、安装基础软件。当提到建站工具的时候，网上有着一大堆工具可供选择。如果你才刚刚起步，你可能会在各种各样的代码编辑器、框架以及测试工具中困惑不已。 在安装基础软件中我们将一步一步地展示如何安装一些你所需要的基础 Web 开发软件。

2、你的网站看起来是什么样的？在开始为你的网站写代码之前，你应该先做好规划。包括：1）我的网页要呈现什么信息？2）我想要什么字体和颜色？3）我的网页有什么用处？

3、文件处理。一个网站包含很多文件：文本内容、代码、样式表、媒体内容等。当你建立一个网站，你需要给这些文件安排一个合理的结构，并确保它们能够相互联系。文件处理这块内容将向你解释如何给你的网站建立一个合理的文件结构以及一些你应该要注意的问题。

### 2. 摘录及评论

### 0101. 安装基础软件

计算机；文本编辑器；浏览器；图像编辑器；版本控制系统；FTP 工具软件；自动化构建工具；模板，库，框架等等；还有更多工具！

安装本地 Web 服务器。一些示例需要通过 Web 服务器运行才能正常工作。你可以通过阅读 [如何设置一个本地测试服务器？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/set_up_a_local_testing_server) 了解更多。

本地文件与远程文件。在大多数示例中，我们告诉你只需在浏览器中直接打开您的示例，有很多方法可以实现这一点，你可以通过双击 HTML 文件或将其拖拽到浏览器窗口中，或者在浏览器中选择 文件 > 打开...  选择 HTML 文件等。如果你打开的是本地示例的话，你可以在地址栏看到这个地址是以 file:// 开头的，接着本地硬盘上该示例文件的路径。相比之下，如果你查看的是我们在 GitHub 上托管的示例（或其他远程服务器上的示例），Web 地址会以 http:// 或 https:// 开头，说明该文件是通过 HTTP 传输的。

测试本地文件存在的问题。某些示例，如果你将其作为本地文件打开的话，它将不会运行。这可能是由于各种原因，最有可能是：1）它们具有异步请求。如果你只是从本地文件运行示例，一些浏览器（包括 Chrome）将不会运行异步请求。这是因为安全限制（更多关于 Web 安全的信息；2）它们具有服务端代码。服务器端语言（如 PHP 或 Python）需要一个特殊的服务器来解释代码并提供结果。

运行一个简单的本地 HTTP 服务器。为了解决异步请求的问题，我们需要通过在本地 Web 服务器上运行这些示例来测试这些示例。为我们的目的，最简单的方法之一就是使用 Python 的 SimpleHTTPServer 模块。

1）安装 Python。2）使用 cd 命令导航到您的示例所在的目录。输入命令在该目录中启动服务器：python -m http.server。默认情况下，这将在本地 Web 服务器上的端口 8000 上运行目录的内容。您可以通过转到 localhost:8000 Web 浏览器中的 URL 来访问此服务器。在这里你会看到列出的目录的内容 - 点击你想运行的 HTML 文件。注意：如果您已经在端口 8000 上运行了某些东西，则可以通过运行 server 命令，然后选择另一个端口号（例如 python -m http.server 7800 （Python 3.x）或 python -m SimpleHTTPServer 7800 （Python 2.x））来选择另一个端口。然后您可以访问您的内容 localhost:7800。

在本地运行服务器端语言。Python 的 SimpleHTTPServer 模块是有用的，但它不知道如何运行用 PHP 或 Python 等语言编写的代码。为了处理这个问题，你需要更多的东西 - 正是你需要的东西取决于你正在运行的服务器端语言。比如要运行 Python 服务器端代码，您需要使用 Python 网络框架。您可以通过阅读 [Django Web 框架(python) - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Server-side/Django) 来了解如何使用 Django 框架。Flask 也是一个不错的选择（稍微轻量一点）。要运行 Flask，你需要先安装 Python / PIP，然后使用 pip3 install flask 来安装 Flask。此时，您应该能够运行 Python Flask 示例 python3 python-example.py，然后在您的浏览器中打开 localhost:5000 查看。

### 0102. 你的网站看起来是什么样的？

在做任何事之前，你需要一些主意。我的网页到底有什么作用？一个网页基本可以做任何事，但是你的第一次尝试应该简单点。我们将以编写一个简单的网页开始，包括一个头部，一张图片和几个段落。

开始之前，你需要回答这些问题：1）你的网页内容是什么？你喜欢狗狗，纽约或者吃豆人吗；2）你的主题中要展示什么信息？编写一个标题和几个段落，再想几张你想展示出来的图片；3）你的网页长得什么样？用高级一点的术语来说就是，你的背景颜色是什么？什么字体合适：正式的，卡通的，粗犷的，还是精细的？

提示：复杂的项目需要详细的参考手册，内容包括颜色，字体，网页中各项目的间距，合适的编写规范等等。参考手册有时也被称为设计指南或者品牌手册，你可以在 [Mozilla Style Guide — Mozilla](https://www.mozilla.org/en-US/styleguide/) 查看一个参考手册的例子。

为你的设计出一个草稿图。接下来，拿一支笔和一张纸然后粗略地画出你希望你的网站呈现出来的样子。对于你的第一个简单网页，并没有什么好做的，但是你现在应该养成这样的习惯。这真的很有用 —— 你并不需要成为下一个梵高！

提示：即使是在真正的复杂的网站中，设计团队也是首先在纸上画出草稿，然后在图形编辑器中或者使用 Web 技术作出数码模型；Web 团队通常包括一个图形设计师和用户体验设计师。图形设计师的作用很明显是将网页视觉部分组合在一起。用户体验设计师则拥有一个某种更抽象的角色来解决用户如何浏览和与网站交互。

选择你的内容。可以开始将最终呈现在你的网页上的内容放在一起了：1）文本。你应该还记得之前的段落和标题，确保它们在身边；2）主题颜色。要选择一种颜色，访问 [色彩选择工具 - CSS（层叠样式表） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Colors/Color_picker_tool) 找出你喜欢的颜色。当你在一种颜色上点击时，你会看到一个类似于 #660066 的奇怪的六位编码。这是十六进制编码，并且表示了你的颜色。复制下来并将它暂时保存在安全的地方；3）图像。要选择一个图像，访问 Google Images 搜索合适的内容；字体。在「Google Fonts」里选择一种字体。

### 0103. 文件处理

一个网站由文本、代码、样式表、媒体内容等等的各种文件组成。当你开发网站时，你需要以清晰的结构将它们存储在你的本地计算机中，保证这些文件之间的联系，使它们看起来正确，然后才能将它们上传至服务器。本节将会讨论一些你需要注意的问题，这样你就能创建清晰的文件结构。

1『网站的内容其实包括 2 大类，一类是代码，比如 JS/HTML/CSS，一类是内容，比如文本内容、媒体内容、图片等。目前理解爬虫要抓取的是「元素内容」，不过得借助网页代码的知识来筛选出要抓取的内容。』

网站应该存放在计算机何处？当你在你自己的本地计算机操作你的网站时，你应该将所有关联的文件放在一个能反映服务器上文件结构的单独的文件夹里。这个文件夹可以存放在任何你喜欢的位置，不过你应该将它放在你容易找到的位置，或许可以是你的桌面，你的主页，或是磁盘根目录。1）选择一个位置存放你的网站项目。创建一个文件夹（在本文中，我们将其命名为 web-projects）。这将是你所有网站项目存放的位置。2）在该文件夹里新建另一个文件夹来存放你的第一个网页。在本文中，我们将其命名为 test-site （或者其它更有想象力的名称）。

一些关于大小写和空格的提示。你会注意到，文中所有的文件夹名和文件都使用小写字母，且没有空格。这是因为：1）很多计算机，特别是 Web 服务器，是对大小写敏感的。举个例子，如果你将一张图片放在 test-site/MyImage.jpg，然后在一个不同的文件里你试图以 test-site/myimage.jpg  引用这张图片，这将不会起作用。2）浏览器，Web 服务器，还有编程语言不能一致处理空格。举个例子，如果你在文件名里使用空格，一些系统会把它这个文件名视为两个文件名。一些服务器将会把你的文件名里的空格替换为「%20」（URI 里空格的编码），破坏你所有的链接。最好使用横线，而不是下划线来分离单词：对比 my-file.html 和 my_file.html 。简单地说，你应该在文件名中使用连字符。谷歌搜索引擎把连字符当作一个词的分隔符，但不会以这种方式处理下划线。基于这些原因，至少在你知道自己在做什么之前，最好养成在文件夹和文件名中使用小写，并且使用短横线而不是空格来分隔的习惯。这样可以避免你在以后碰到一些问题。

2『很重要的知识点，「文件夹和文件名命名使用小写，并且使用短横线，别用空格、下划线。」一定要养成习惯。做一张术语卡片。』

网站应该使用什么结构？接下来，看看我们的测试网站应该拥有什么结构。我们创建的任何网站项目中最常使用的就是一个索引 HTML 文件和不同的包括图像，样式表和脚本文件的文件夹。让我们现在创建它们：1）index.html ：这个文件通常将包括你的主页内容，也就是说，人们第一次进入你的网页看到的文本和图像。使用你的文本编辑器，创建一个名为 index.html 的新文件并将其保存在 test-site 文件夹。2）images 文件夹 ：这个文件夹包含你网页上所有使用的图像。在 test-site 文件夹内创建一个 images 文件夹。3）styles 文件夹 ：这个文件夹包含了为你的内容添加样式的样式表（比如，设置文本颜色和背景颜色）。在 test-site 文件夹内创建一个 styles 文件夹。4）scripts 文件夹 ：这个文件夹包含了所有为你网页添加交互功能的 JavaScript 代码（比如点击时读取数据的按钮）。在 test-site 文件夹内创建一个 scripts 文件夹。

提示：在 Windows 系统中，你可能在查看文件名时会遇到问题，因为 Windows 默认开启一个名叫「隐藏已知文件类型扩展名」的选项，要关闭这个选项。

文件路径。为了关联不同文件，你需要为它们提供文件路径 —— 基本上是一个路线让一个文件知道另一个文件在哪。为了实现，我们将插入一小段 HTML 代码到 index.html 文件，让其显示你在「[你的网站看起来是什么样的？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like)」 文章里选择的图像。

1、复制你之前保存的图像到 images 文件夹。

2、打开  index.html 文件，准确插入以下代码。现在不理解代码的意义也不用担心 —— 我们将在以后详细讲解此结构的信息。

```
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My test page</title>
  </head>
  <body>
    <img src="" alt="My test image">
  </body>
</html> 
```

3、这行代码 \<img src="" alt="My test image"> 是在页面里插入图像的 HTML 代码。我们需要告诉 HTML 图像在哪里。这张图片在 images 目录下，而 images 目录与 index.html 处于同级目录。要从 index.html 所处一级目录进入图片所在目录，我们所需的文件路径是 images/你的图像文件名 。例如，我们的图像叫做 firefox-icon.png ，所以文件路径就是 images/firefox-icon.png 。

4、在 HTML 代码里 src＝"" 的双引号中插入文件路径。

5、保存 HTML 文件，然后使用浏览器打开（双击文件）。你应该看到展示着你的图像的新网页！

一些文件路径的通用规则：1）要引用一个位于调用的 HTML 文件同级目录的目标文件，只需直接使用文件名，比如  my-image.jpg 。2）要引用一个子目录的文件，在路径前写下目录名并加一个斜杠，比如 subdirectory/my-image.jpg 。3） 要引用一个位于调用的 HTML 文件的父级目录的目标文件，加上两个点。举个例子，如果 index.html 在  test-site 下面的一个子目录而 my-image.png 在 test-site 目录，你可以在 index.html 里使用 ../my-image.png 引用 my-image.png 。4）你可以随意组合以上方法，比如 ../subdirectory/another-subdirectory/my-image.png。

提示：Windows 文件系统会使用反斜杠而不是斜杠，比如 C:\windows 。这在 HTML 里没什么关系，就算你在 Windows 上开发你的网页，你仍应该在你的代码中使用斜杠。

## 0102. Web 入门2

### 1. 逻辑脉络

4、HTML 基础。超文本标记语言 ( HTML ) 是用来构建你的网页内容并将其语义化的代码。举例来说， 我的内容是一些段落还是带点的列表？我的网页上有插入图片吗？有数据表格吗？HTML 是一种用来结构化 Web 网页及其内容的标记语言。网页内容可以是：一组段落、一个重点信息列表、也可以含有图片和数据表。

5、CSS 基础。层叠样式表 (CSS) 是用来添加样式到你网站的代码。举例来说，你想让文字是黑色还是红色的？在屏幕的何处展示内容？用什么背景图像和颜色来装饰你的网站？CSS 基础带你完成你需要做的事。

6、JavaScript 基础。JavaScript 是一种被用来添加交互功能到你的网站的编程语言。比如游戏，或者当按下按钮后会发生的事情，或者将数据输入表格，动态样式效果，动画等等。JavaScript 基础将让你了解这门令人激动的语言能做什么，以及如何开始。

7、发布你的网站。当你完成了代码并整理好了构建网站的文件的时候，你需要将它们发布到互联网上以便人们可以找到它。发布你的网站描述了如何最轻松地发布你的简易代码。

8、万维网是怎么工作的？当你访问你喜爱的网站时，你可能不知道在这背后有很多复杂的事情正在发生。万维网是怎么工作的概述了当你通过你的电脑查看一个网页时发生了什么。

### 2. 摘录及评论

### 0104. HTML 基础

超文本标记语言 (英语：Hypertext Markup Language，简称：HTML) 是一种用来结构化 Web 网页及其内容的标记语言。网页内容可以是：一组段落、一个重点信息列表、也可以含有图片和数据表。

HTML 是何方神圣？HTML 不是一门编程语言，而是一种用于定义内容结构的标记语言。HTML 由一系列的元素（elements）组成，这些元素可以用来包围不同部分的内容，使其以某种方式呈现或者工作。一对标签（ tags）可以为一段文字或者一张图片添加超链接，将文字设置为斜体，改变字号，等等。例如，键入下面一行内容：

    我的猫咪脾气爆：)

可以将这行文字封装成一个段落（paragraph）元素来使其在单独一行呈现：

    <p> 我的猫咪脾气爆：)</p>

1『\<p>内容\</p> 是段落标签。』

HTML 元素详解。这个元素的主要部分有：1）开始标签（Opening tag）：包含元素的名称（本例为 p），被大于号、小于号所包围。表示元素从这里开始或者开始起作用 —— 在本例中即段落由此开始。2）结束标签（Closing tag）：与开始标签相似，只是其在元素名之前包含了一个斜杠。这表示着元素的结尾 —— 在本例中即段落在此结束。初学者常常会犯忘记包含结束标签的错误，这可能会产生一些奇怪的结果。3）内容（Content）：元素的内容，本例中就是所输入的文本本身。4）元素（Element）：开始标签、结束标签与内容相结合，便是一个完整的元素。

元素也可以有属性（Attribute）。属性包含了关于元素的一些额外信息，这些信息本身不应显现在内容中。本例中，class 是属性名称，editor-note 是属性的值 。class 属性可为元素提供一个标识名称，以便进一步为元素指定样式或进行其他操作时使用。属性应该包含：1）在属性与元素名称（或上一个属性，如果有超过一个属性的话）之间的空格符。2）属性的名称，并接上一个等号。3）由引号所包围的属性值。注：不包含 ASCII 空格（以及 "' `  =  <  > ）的简单属性值可以不使用引号，但是建议将所有属性值用引号括起来，这样的代码一致性更佳，更易于阅读。

    <p class="editor-note">内容</p>

2『class 属性可为元素提供一个标识名称，以便进一步为元素指定样式或进行其他操作时使用。爬虫很多时候指定某个特定的 class 属性。』

嵌套元素。也可以将一个元素置于其他元素之中 —— 称作嵌套。要表明猫咪非常暴躁，可以将「爆」用 \<strong> 元素包围，爆字将突出显示：

    <p> 我的猫咪脾气 <strong> 爆 </strong>:)</p>

必须保证元素嵌套次序正确：本例首先使用 \<p> 标签，然后是 \<strong> 标签，因此要先结束 \<strong> 标签，最后再结束 \<p> 标签。这样是不对的：

    <p> 我的猫咪脾气 <strong> 爆：)</p></strong>

元素必须正确地开始和结束，才能清楚地显示出正确的嵌套层次。否则浏览器就得自己猜测，虽然它会竭尽全力，但很大程度不会给你期望的结果。

空元素。不包含任何内容的元素称为空元素。比如 \<img> 元素：

    <img src="images/firefox-icon.png" alt="测试图片">

本元素包含两个属性，但是并没有 \</img> 结束标签，元素里也没有内容。这是因为图像元素不需要通过内容来产生效果，它的作用是向其所在的位置嵌入一个图像。

1『图片标签 \<img>  只有开始标签，不需要结束标签。』

HTML 文档详解。以上介绍了一些基本的 HTML 元素，但孤木不成林。现在来看看单个元素如何彼此协同构成一个完整的 HTML 页面。回顾「文件处理」小节中创建的 index.html 示例：

```
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>测试页面</title>
  </head>
  <body>
    <img src="images/firefox-icon.png" alt="测试图片">
  </body>
</html>
```

1、\<!DOCTYPE html> —— 文档类型。混沌初分，HTML 尚在襁褓（大约是 1991/92 年），DOCTYPE 用来链接一些 HTML 编写守则，有点像自动校正等。然而现在已经没有人关心这些，只是因为历史原因必须将它们保留，但没有实际作用。现在你只需要知道这些就可以。

2、\<html>\</html> —— \<html> 元素。这个元素包含了整个页面的内容，有时也被称作根元素。

3、\<head>\</head> —— \<head> 元素。这个元素放置的内容不是展现给用户的，而是包含例如面向搜索引擎的搜索关键字（keywords）、页面描述、CSS 样式表和字符编码声明等。

4、\<meta charset="utf-8"> —— 这个元素指定了当前文档使用 UTF-8 字符编码 ，UTF-8 包括绝大多数人类已知语言的字符。基本上 UTF-8 可以处理任何文本内容，还可以避免以后出现某些问题，我们没有任何理由再选用其他编码。

5、\<title></title> —— \<title> 元素。这个元素设置页面的标题，显示在浏览器标签页上，同时作为收藏网页的描述文字。

6、\<body></body> —— \<body> 元素。这个元素包含期望让用户在访问页面时看到的内容，可以是文本、图像、视频、游戏、可播放的音轨或其他内容。

图像。重温一下 \<img> 元素：

    <img src="images/firefox-icon.png" alt="测试图片">

像之前所讲，该元素通过包含图像文件路径的地址属性 src，可在所在位置嵌入图像。该元素还包括一个替换文字属性 alt，是图像的描述内容，用于当图像不能被用户看见时显示。不可见的原因可能是：1）用户有视觉障碍。视障用户可以使用屏幕阅读器来朗读 alt 属性的内容。2）有些错误使图像无法显示。可以试着故意将 src 属性里的路径改错。保存并刷新页面就可以在图像位置看到：「测试图片」。

alt 属性的关键字即「描述文本」。alt 文本应向用户完整地传递图像要表达的意思。用「测试图片」来描述 Firefox 标志并不合适，修改成「Firefox 标志：一只盘旋在地球上的火狐」就好多了。可以试着为图像编写一些更好的 alt 文本。

注：更多信息请参阅[可访问性 - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/learn/Accessibility)。

2『src 是图像文件路径的地址属性。alt 是一个替换文字属性，是图像的描述内容，用于当图像不能被用户看见时显示。』

标记文本。本段包含了一些最常用的文本标记 HTML 元素。

1、 标题（Heading）。标题元素可用于指定内容的标题和子标题。就像一本书的书名、每章的大标题、小标题，等。HTML 文档也是一样。HTML 包括六个级别的标题，\<h1>–\<h6> ，一般最多用到 3-4 级标题。可以尝试在 \<img> 元素上面添加一个合适的标题。

```
<h1>主标题</h1>
<h2>顶层标题</h2>
<h3>子标题</h3>
<h4>次子标题</h4>
```

注：可以发现 MDN 网站上第一级标题的主题是隐藏的。不要使用标题元素来加大、加粗字体，因为标题对于[可访问性 - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/learn/Accessibility) 和 [HTML 文字处理基础 - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/learn/HTML/Introduction_to_HTML/HTML_text_fundamentals#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%BB%93%E6%9E%84%E5%8C%96) 等问题非常有意义。要保持页面结构清晰，标题整洁，不要发生标题级别跳跃。

2、段落（Paragraph）。如上文所讲，\<p> 元素是用来指定段落的。通常用于指定常规的文本内容：

    <p> 这是一个段落 </p>

试着添加一些文本（在「[你的网站看起来是什么样的？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like)」小节）到一个或几个段落中，并把它们放在你的 \<img> （[\<img>：图像嵌入元素 - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/img)）元素下方。

3、 列表（List）。Web 上的许多内容都是列表，HTML 有一些特别的列表元素。标记列表通常包括至少两个元素。最常用的列表类型为：1）无序列表（Unordered List）中项目的顺序并不重要，就像购物列表。用一个 \<ul> 元素包围。2）有序列表（Ordered List）中项目的顺序很重要，就像烹调指南。用一个 \<ol> 元素包围。列表的每个项目用一个列表项目（List Item）元素 \<li> 包围。比如，要将下面的段落片段改成一个列表：

    <p>Mozilla 是一个全球社区，这里聚集着来自五湖四海的技术人员、思考者和建造者，我们致力于……</p>

可以这样更改标记：

```
<p>Mozilla 是一个全球社区，这里聚集着来自五湖四海的</p>
    
<ul> 
  <li>技术人员</li>
  <li>思考者</li>
  <li>建造者</li>
</ul>

<p>我们致力于……</p>
```

3『[\<ul> - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/ul) | [\<ol> - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/ol) |  [\<li> - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/li)。』

4、链接。链接非常重要 —— 它们赋予 Web 网络属性。要植入一个链接，我们需要使用一个简单的元素 —— \<a>，a 是 "anchor" （锚）的缩写。要将一些文本添加到链接中，只需如下几步：1）选择一些文本。比如「Mozilla 宣言」。2）将文本包含在 \<a> 元素内，就像这样；3）为此 \<a> 元素添加一个 href 属性，就像这样；4）把属性的值设置为所需网址：

    <a>Mozilla 宣言</a>
    <a href="">Mozilla 宣言 </a>
    <a href="https://www.mozilla.org/zh-CN/about/manifesto/">Mozilla 宣言</a>

如果网址开始部分省略了 https:// 或者 http://，可能会得到错误的结果。在完成一个链接后，可以试着点击它来确保指向正确。href 这个名字可能开始看起来有点令人费解。如果你觉得不好记，那么记住它代表的是超文本引用（ hypertext reference）。

1『通过 \<a> 元素来实现网页链接，而且配套 href 属性，其属性值是一个链接；src 属性值也是一个链接，但其一般是图片链接，与 \<img> 元素配套，比如 \<img src="myimage.png">。』

3『[\<a> - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a)』

### 0105. CSS 基础

层叠样式表（Cascading Style Sheet，简称：CSS）是为网页添加样式的代码。本节将介绍 CSS 的基础知识，并解答类似问题：怎样将文本设置为黑色或红色？怎样将内容显示在屏幕的特定位置？怎样用背景图片或颜色来装饰网页？

CSS 究竟什么来头？和 HTML 类似，CSS 也不是真正的编程语言，甚至不是标记语言。它是一门样式表语言，这也就是说人们可以用它来选择性地为 HTML 元素添加样式。举例来说，要选择一个 HTML 页面里所有的段落元素，然后将其中的文本改成红色，可以这样写 CSS：

```
p {
  color: red;
}
```

1『CSS 选择性地为 HTML 元素添加样式。所以 HTML里「元素」的概念很重要。』

不妨试一下：首先新建一个 styles 文件夹，在其中新建一个 style.css 文件，将这三行 CSS 保存在这个新文件中。然后再将该 CSS 文件连接至 HTML 文档，否则 CSS 代码不会对 HTML 文档在浏览器里的显示效果有任何影响。

1）打开 index.html 文件，然后将下面一行粘贴到文档头（也就是 \<head> 和 \</head> 标签之间）。2）保存 index.html 并用浏览器将其打开。应该看到以下页面。测试页面，文字设置为红色如果段落文字变红，那么祝贺你，你已经成功地迈出了 CSS 学习的第一步。

    <link href="styles/style.css" rel="stylesheet" type="text/css">

「CSS 规则集」详解。整个结构称为规则集（通常简称「规则」），各部分释义如下：1）选择器（Selector），HTML 元素的名称位于规则集开始。它选择了一个或多个需要添加样式的元素（在这个例子中就是 p 元素）。要给不同元素添加样式只需要更改选择器就行了。2）声明（Declaration），一个单独的规则。如 color: red; 用来指定添加样式元素的属性。3）属性（Properties），改变 HTML 元素样式的途径。（本例中 color 就是 \<p> 元素的属性。）CSS 编写人员决定修改哪个属性以改变规则。4）属性的值（Property value），在属性的右边，冒号后面即属性的值，它从指定属性的众多外观中选择一个值（我们除了 red 之外还有很多属性值可以用于 color ）。

注意其他重要的语法：1）每个规则集（除了选择器的部分）都应该包含在成对的大括号里（{}）。2）在每个声明里要用冒号（:）将属性与属性值分隔开。3）在每个规则集里要用分号（;）将各个声明分隔开。4）如果要同时修改多个属性，只需要将它们用分号隔开，就像这样：

```
 p {
  color: red;
  width: 500px;
  border: 1px solid black;
}
```

多元素选择。也可以选择多种类型的元素并为它们添加一组相同的样式。将不同的选择器用逗号分开。例如：

```
p, li, h1 {
  color: red;
}
```

不同类型的选择器。选择器有许多不同的类型。上面只介绍了元素选择器，用来选择 HTML 文档中给定的元素。但是选择操作可以更加具体。下面是一些常用的选择器类型：1）元素选择器（也称作标签或类型选择器），所有指定类型的 HTML 元素，p 选择 \<p>；2）ID 选择器，具有特定 ID 的元素（单一 HTML 页面中，每个 ID 只对应一个元素，一个元素只对应一个 ID），#my-id 选择 \<p id="my-id"> 或 \<a id="my-id">；3）类选择器，具有特定类的元素（单一页面中，一个类可以有多个实例），.my-class 选择 \<p class="my-class"> 和 \<a class="my-class">；4）属性选择器，拥有特定属性的元素，img[src] 选择 \<img src="myimage.png"> 而不是 \<img>；5）伪（Pseudo）类选择器，特定状态下的特定元素（比如鼠标指针悬停），a:hover 仅在鼠标指针悬停在链接上时选择 \<a>。

选择器的种类远不止于此，更多信息请参阅 [CSS selectors - Learn web development | MDN](https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors)。

字体和文本。译注：再一次说明，中文字体文件较大，不适合直接用于 Web Font。在探索了一些 CSS 基础后，我们来把更多规则和信息添加至 style.css 中，从而让示例更美观。首先，让字体和文本变得更漂亮。

1、第一步，找到之前 Google Font 输出的地址。并以 \<link> 元素的形式添加进 index.html 文档头（ \<head> 和 \</head> 之间的任意位置）。代码如下：

    <link href="https://fonts.font.im/css?family=Open+Sans" rel="stylesheet" type="text/css"> 

以上代码为当前网页下载 Open Sans 字体，从而使自定义 CSS 中可以对 HTML 元素应用这个字体。

2、接下来，删除 style.css 文件中已有的规则。虽然测试是成功的了，但是红字看起来并不太舒服。

3、将下列代码添加到相应的位置，用你在 Google Fonts 找到的字体替代 font-family 中的占位行。（ font-family 意味着你想要你的文本使用的字体。）这条规则首先为整个页面设定了一个全局字体和字号（因为 \<html> 是整个页面的父元素，而且它所有的子元素都会继承相同的 font-size 和 font-family）：

```
html {
  /* px 表示 “像素（pixels）”: 基础字号为 10 像素 */
  font-size: 10px; 
  /* Google fonts 输出的 CSS */
  font-family: 'Open Sans', sans-serif; 
}
```

注：CSS 文档中所有位于 /* 和 */ 之间的内容都是 CSS 注释，它会被浏览器在渲染代码时忽略。你可以在这里写下对你现在要做的事情有帮助的笔记。

译注：注释不可嵌套，/* 这样的注释是 /* 不行 \*/ 的 */。CSS 不接受 // 注释。

1『小程序的 wxss 文件接受 // 作为注释，但最好还是养成习惯，都使用 /*。』

4、接下来为文档体内的元素（\<h1>、\<li> 和 \<p>）设置字号。将标题居中显示，并为正文设置行高和字间距，从而提高页面的可读性。

```
h1 {
  font-size: 60px;
  text-align: center;
}

p, li {
  font-size: 16px;    
  line-height: 2;
  letter-spacing: 1px;
}
```

一切皆盒子。编写 CSS 时你会发现，你的工作好像是围绕着一个一个盒子展开的 —— 设置尺寸、颜色、位置，等等。页面里大部分 HTML 元素都可以被看作若干层叠的盒子。并不意外，CSS 布局主要就是基于盒模型的。每个占据页面空间的块都有这样的属性：1）padding：即内边距，围绕着内容（比如段落）的空间。2）border：即边框，紧接着内边距的线。3）margin：即外边距，围绕元素外部的空间。

这里还使用了：1）width：元素的宽度；2）background-color：元素内容和内边距底下的颜色；3）color：元素内容（通常是文本）的颜色；4）text-shadow：为元素内的文本设置阴影；5）display：设置元素的显示模式（暂略）。开始在页面中添加更多 CSS 吧！大胆将这些新规则都添加到页面的底部，而不要纠结改变属性值会带来什么结果。

1、更改页面颜色。这条规则将整个页面的背景颜色设置为所计划的颜色（[你的网站看起来是什么样的？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like)）。

```
html {
  background-color: #00539F;
}
```

2、文档体格式设置。现在是 \<body> 元素。以上条声明，我们来逐条查看：1）width: 600px; —— 强制页面永远保持 600 像素宽。2）margin: 0 auto; —— 为 margin 或 padding 等属性设置两个值时，第一个值代表元素的上方和下方（在这个例子中设置为 0），而第二个值代表左边和右边（在这里，auto 是一个特殊的值，意思是水平方向上左右对称）。你也可以使用一个，三个或四个值，参考 [margin - CSS（层叠样式表） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/margin#%E5%8F%96%E5%80%BC)。3）background-color: #FF9500; —— 如前文所述，指定元素的背景颜色。我们给 body 用了一种略微偏红的橘色以与深蓝色的 \<html> 元素形成反差，你也可以尝试其它颜色。4）padding: 0 20px 20px 20px; —— 我们给内边距设置了四个值来让内容四周产生一点空间。这一次我们不设置上方的内边距，设置右边，下方，左边的内边距为 20 像素。值以上、右、下、左的顺序排列。5）border: 5px solid black; —— 直接为 body 设置 5 像素的黑色实线边框。

```
body {
  width: 600px;
  margin: 0 auto;
  background-color: #FF9500;
  padding: 0 20px 20px 20px;
  border: 5px solid black;
}
```

3『[\<html> - HTML（超文本标记语言） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/html)』

3、定位页面主标题并添加样式。你可能发现了页面顶部有一个难看的间隙。那是因为浏览器会没有任何 CSS 的情况下给 \<h1> 等元素设置一些默认样式。但这并不是个好主意，但是我们希望一个没有任何样式的网页也有基本的可读性。为了去掉那个间隙，我们通过设置 margin: 0; 覆盖掉默认样式。至此，我们已经把标题的上下内边距设置为 20 像素，并且将标题文本与 HTML 的背景颜色设为一致。

```
h1 {
  margin: 0;
  padding: 20px 0;    
  color: #00539F;
  text-shadow: 3px 3px 1px black;
}
```

需要注意的是，这里使用了一个 text-shadow 属性，它可以为元素中的文本提供阴影。四个值含义如下：1）第一个值设置水平偏移值 —— 即阴影右移的像素数（负值左移）。2）第二个值设置垂直偏移值 —— 即阴影下移的像素数（负值上移）。3）第三个值设置阴影的模糊半径 —— 值越大产生的阴影越模糊。4）第四个值设置阴影的基色。不妨尝试不同的值看看能得出什么结果。

4、图像居中。最后，我们把图像居中来使页面更美观。可以复用 body 的 margin: 0 auto ，但是需要一点点调整。\<body> 元素是块级元素，意味着它占据了页面的空间并且能够赋予外边距和其他改变间距的值。而图片是内联元素，不具备块级元素的一些功能。所以为了使图像有外边距，我们必须使用 display: block 给予其块级行为。

```
img {
  display: block;
  margin: 0 auto;
}
```

注：以上说明假定所选图片小于页面宽度（600 pixels）。更大的图片会溢出 body 并占据页面的其他位置。要解决这个问题，可以：1）使用「图片编辑器」来减小图片宽度；2）用 CSS 限制图片大小，即减小 \<img> 元素 width 属性的值（比如 400 px）。

注：如果你暂时不能理解 display: block 和块级元素与行内元素的差别也没关系；随着你对 CSS 学习的深入，你将明白这个问题。display 属性的更多信息请查看 [display - CSS（层叠样式表） | MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/display)。

### 0106. JavaScript 基础

JavaScript 到底是什么？JavaScript（缩写：JS）是一门完备的动态编程语言。当应用于 HTML 文档时，可为网站提供动态交互特性。由布兰登·艾克（ Brendan Eich，Mozilla 项目、Mozilla 基金会和 Mozilla 公司的联合创始人）发明。JavaScript 的应用场合极其广泛。简单到幻灯片、照片库、浮动布局和响应按钮点击。复杂到游戏、2D 和 3D 动画、大型数据库驱动程序，等等。

JavaScript 相当简洁，却非常灵活。开发者们基于 JavaScript 核心编写了大量实用工具，可以使开发工作事半功倍。其中包括：1）浏览器应用程序接口（API）—— 浏览器内置的 API 提供了丰富的功能，比如：动态创建 HTML 和设置 CSS 样式、从用户的摄像头采集处理视频流、生成 3D 图像与音频样本，等等。2）第三方 API —— 让开发者可以在自己的站点中整合其它内容提供者（Twitter、Facebook 等）提供的功能。3）第三方框架和库 —— 用来快速构建网站和应用。

本节是一篇 JavaScript 简介，因此这个阶段不会对 JavaScript 语言和上述工具做过于详细地介绍。之后可以到 [JavaScript - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript) 和 MDN 的其它地方学习更多细节。

### 0107. 发布网站

在你已经写好了代码并且整理好了你网站的全部文件后，你需要将它们全部上线，这样别人才能看到。这篇文章将向你展示如何轻松地将你简单的示例代码传到网上。

有哪些方法可供选择？发布一个网页并不是三言两语就能简单说明的，这主要是因为我们有太多方法去完成它了。在这篇文章里我们并不准备讲述所有方法。反之我们准备从初学者的视角讨论一下三种常见的方式的利弊，然后带你看看我们将要使用的一种方法。

1、获取主机服务和域名。如果你想要完全控制你发布的网页，那么你将需要花钱购置：1）主机服务 —— 在主机服务提供商的 Web 服务器上租用文件空间。将你网站的文件上传到这里，然后服务器会提供 Web 用户需求的内容。2）域名 —— 一个可以让人们访问的独一无二的地址，像 http://www.mozilla.org，或 http://www.bbc.co.uk 。你可以从域名注册商租借域名 。

许多专业的网站通过这种方法接入互联网。此外，你将需要一个「文件传输协议」程序 ([钻研在网络上做某些事情要花费多少? - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/How_much_does_it_cost) 查看详细信息) 来将网站文件上传到服务器。不同的 FTP 程序涵盖了不同的范围，但是你通常需要使用主机服务提供商给你的详细信息（比如用户名、密码、主机名）登录到 Web 服务器 。然后程序在两个窗口里分别显示本地文件和服务器文件，这样你就可以在它们之间进行传输：

2、使用在线工具如 GitHub 或 Google App Engine。有一些工具能使你在线发布网站 :1）GitHub 是一个「社交编程」网站。它允许你上传代码库并储存在 Git 版本控制系统里。然后你可以协作代码项目，系统是默认开源的，意味着世界上任何人都可以找到你 GitHub 上的代码。去使用 GitHub，从中学习并且提高自己吧！ 你也可以对别人的代码那样做！ 这是一个非常重要、有用的社区，而且 Git/GitHub 是非常流行的版本控制系统 —— 大部分科技公司在工作中使用它。GitHub 有一个非常有用的特点叫 GitHub pages，允许你将网站代码放在网上。2）Google App Engine 是一个让你可以在 Google 的基础架构上构建和运行应用的强劲平台 —— 无论你是需要从头开始构建多级 web 应用还是托管一个静态网站。参阅 [How do you host your website on Google App Engine? - Learn web development | MDN](https://developer.mozilla.org/en-US/docs/Learn/Common_questions/How_do_you_host_your_website_on_Google_App_Engine) 以获取更多信息。不像大部分其它主机服务，这类工具通常是免费的，不过你只能使用有限的功能。

3、使用像 Thimble 的基于 Web 的集成开发环境。有许多 web 应用能够仿真一个网站开发环境，允许你输入 HTML、CSS 和 JavaScript 然后显示代码的结果 —— 全部在一个标签页里！通常这些工具都很简单，对学习很有帮助，而且是免费的（基本功能），它们在一个独特的地址显示你提交的网页。不过，基础功能是很有限的，而且这些应用通常不提供如图像的内容的主机空间。使用一下以下几种工具，看看你最喜欢哪一个：1）JSFiddle；2）Thimble；3）JSBin；4）CodePen。

通过 GitHub 发布。现在，让我们通过 Github 页面告诉你公布的你的代码是如此的简单。首先，注册一个 GitHub 账号，并确认你的邮箱地址。接下来，你需要创建一个新的资源库 (repository) 来存放你的文件。在这个页面上，在 Repository name 输入框里输入 username.github.io，username 是你的用户名。比如，我们的朋友 bobsmith 会输入 bobsmith.github.io。同时勾选 Initialize this repository with a README ，然后点击 Create repository。然后，将你的网站文件夹里的内容拖拽到你的资源库 (repository)，再点击 Commit changes 。

提示：确保你的文件夹有一个 index.html 文件。现在将你的浏览器转到 username.github.io 来在线查看你的网站。比如，如果用户名为 chrisdavidmills, 请转到 chrisdavidmills.github.io。你的网站可能需要几分钟的时间才能投入使用。如果它不能立即工作，你可能需要等待几分钟，然后再试一次。

3『

[什么是网络服务器？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/What_is_a_web_server)

[什么是域名？ - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/What_is_a_domain_name)

[钻研在网络上做某些事情要花费多少? - 学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/Learn/Common_questions/How_much_does_it_cost)

Deploy a Website（英文）：来自 Codeacademy 的一个很好的教程，它比本教程更进一步，并展示了一些其他技术。

Scott Murray 的 Cheap or free static web hosting （价格低廉或免费的静态 Web 主机服务）包含一些对可用的 Web 主机服务的建议。

』

JavaScript 是一门编程语言，可为网站添加交互功能。（例如：游戏、动态样式，动画，以及在按下按钮或收到表单数据时做出的响应，等）。本文介绍了 JavaScript 的精彩之处和主要用途。

### 0108. 万维网是如何工作的

客户端和服务器。客户端是典型的 Web 用户入网设备（比如，你连接了 Wi-Fi 的电脑，或接入移动网络的手机）和设备上可联网的软件（通常使用像 Firefox 和 Chrome 的浏览器）；服务器是存储网页，站点和应用的计算机。当一个客户端设备想要获取一个网页时，一份网页的拷贝将从服务器上下载到客户端机器上来在用户浏览器上显示。

1『客户端向服务器发出的请求叫「requests」，服务器返回给客户端的信息叫「responses」。』

假设 Web 就是一条路。路的一端是客户端，就像你的家。另一端则是服务器，就像你想去的商店。除了客户端和服务器，我们还需要了解：1）网络连接：允许你在互联网上发送和接受数据。基本上和你家到商店的街道差不多；2）TCP/IP：传输控制协议和因特网互连协议是定义数据如何传输的通信协议。这就像你去商店购物所使用的交通方式，比如汽车或自行车（或是你能想到的其他可能）；3）DNS：域名系统服务器像是一本网站通讯录。当你在浏览器内输入一个网址时，浏览器获取网页之前将会查看域名系统。浏览器需要找到存放你想要的网页的服务器，才能发送 HTTP 请求到正确的地方。就像你要知道商店的地址才能到达那；4）HTTP：超文本传输协议是一个定义客户端和服务器间交流的语言的协议（protocol ）。就像你下订单时所说的话一样；5）组成文件：一个网页由许多文件组成，就像商店里不同的商品一样。这些文件有两种类型：代码，网页大体由 HTML、CSS、JavaScript 组成，不过你会在后面看到不同的技术；资源：这是其他组成网页的东西的集合，比如图像、音乐、视频、Word 文档、PDF 文件。

到底发生了什么？当你在浏览器里输入一个网址时（在我们的例子里就是走向商店的路上时）：1）浏览器在域名系统（DNS）服务器上找出存放网页的服务器的实际地址（找出商店的位置）。2）浏览器发送 HTTP 请求信息到服务器来请拷贝一份网页到客户端（你走到商店并下订单）。这条消息，包括其他所有在客户端和服务器之间传递的数据都是通过互联网使用 TCP/IP 协议传输的。3）服务器同意客户端的请求后，会返回一个「200 OK」信息，意味着「你可以查看这个网页，给你～」，然后开始将网页的文件以数据包的形式传输到浏览器（商店给你商品，你将商品带回家）。4）浏览器将数据包聚集成完整的网页然后将网页呈现给你（商品到了你的门口 —— 新东西，好棒！）。

DNS 解析。真正的网址看上去并不像你输入到地址框中的那样美好且容易记忆。它们是一串数字，像 63.245.217.105。这叫做 IP 地址，它代表了一个互联网上独特的位置。然而，它并不容易记忆，不是吗？那就是域名系统（DNS）被发明的原因。它们是将你输入浏览器的地址（像 "mozilla.org"）与实际 IP 地址相匹配的特殊的服务器。网页可以通过  IP 地址直接访问。您可以通过在 IP Checker 等工具中输入域名来查找网站的 IP 地址。

数据包详解。前面我们用「包」来描述了数据从服务器到客户端传输的格式。这是什么意思？基本上，当数据在 Web 上传输时，是以成千上万的小数据块的形式传输的。大量不同的用户都可以同时下载同一个网页。如果网页以单个大的数据块形式传输，一次就只有一个用户下载，无疑会让 Web 非常没有效率并且失去很多乐趣。

## 0201. JavaScript指南1

### 1. 逻辑脉络

1、基础介绍。JavaScript 和 ES 标准的概念，JavaScript 和 Java 的对比。

2、JavaScript 的基本语法，变量声明，数据类型和字面量。

3、JavaScript 提供一套灵活的语句集，特别是控制流语句，你可以用它在你的应用程序中实现大量的交互性功能。

### 2. 摘录及评论

### 0201JavaScript介绍.md

MDN 上的 JavaScript 文档包括以下内容：1）认识 Web 为初学者提供信息，并介绍一些关于编程和互联网的基本概念。2）JavaScript 入门 （即本教程），提供 JavaScript 这门语言及其目标的概述。3）JavaScript 参考，提供关于 JavaScript 的详细参考资料。

3『1、[学习 Web 开发 | MDN](https://developer.mozilla.org/zh-CN/docs/learn)。2、[介绍 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Introduction)。3、[JavaScript 参考 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference)
』

什么是 JavaScript？JavaScript 是一门跨平台、面向对象的脚本语言，它能使网页可交互（例如拥有复杂的动画，可点击的按钮，通俗的菜单等）。另外还有高级的服务端 Javascript 版本，例如 Node.js，它可以让你在网页上添加更多功能，不仅仅是下载文件（例如在多台电脑之间的协同合作）。在宿主环境（例如 web 浏览器）中，JavaScript 能够通过其所连接的环境提供的编程接口进行控制。

JavaScript 内置了一些对象的标准库，比如数组（Array），日期（Date），数学（Math）和一套核心语句，包括运算符、流程控制符以及声明方式等。JavaScript 的核心部分可以通过添加对象来扩展语言以适应不同用途；例如：1）客户端的 JavaScript 通过提供对象，控制浏览器及其文档对象模型（DOM），来扩展语言核心。例如：客户端的拓展代码允许应用程序将元素放在某个 HTML 表单中，并且支持响应用户事件，比如鼠标点击、表单提交和页面导航。2）服务端的 JavaScript 则通过提供有关在服务器上运行 JavaScript 的对象来可扩展语言核心。例如：服务端版本直接支持应用和数据库通信，提供应用不同调用间的信息连续性，或者在服务器上执行文件操作。这意味着，在浏览器中，JavaScript 可以改变网页（DOM）的外观与样式。同样地，在服务器上，Node.js 中的 JavaScript 可以对浏览器上编写的代码发出的客户端请求做出响应。

JavaScript 和 Java。JavaScript 和 Java 有一些共性但是在另一些方面有着根本性区别。JavaScript 语言类似 Java 但是并没有 Java 的静态类型和强类型检查特性。JavaScript 遵循了 Java 的表达式语法，命名规范以及基础流程控制，这也是 JavaScript 从 LiveScript 更名的原因。与 Java 通过声明的方式构建类的编译时系统不同，JavaScript 采用基于少量的数据类型如数字、布尔、字符串值的运行时系统。JavaScript 拥有基于原型的对象模型提供的动态继承；也就是说，独立对象的继承是可以改变的。JavaScript 支持匿名函数。函数也可以作为对象的属性被当做宽松的类型方式执行。与 Java 相比，Javascript 是一门形式自由的语言。你不必声明所有的变量，类和方法。你不必关心方法是否是共有、私有或者受保护的，也不需要实现接口。无需显式指定变量、参数、方法返回值的数据类型。

Java 是基于类的编程语言，设计的初衷就是为了确保快速执行和类型安全。类型安全，举个例子，你不能将一个 Java 整数变量转化为一个对象引用，或者由 Java 字节码访问专有存储器。Java 基于类的模型，意味着程序包含专有的类及其方法。Java 的类继承和强类型要求紧耦合的对象层级结构。这些要求使得 Java 编程比 JavaScript 要复杂的多。相比之下，JavaScript 传承了 HyperTalk 和 dBASE 语句精简、动态类型等精髓，这些脚本语言为更多开发者提供了一种语法简单、内置功能强大以及用最小需求创建对象的编程工具。

JavaScript 和 Java 的对比。JavaScript：1）面向对象。不区分对象类型。通过原型机制继承，任何对象的属性和方法均可以被动态添加。2）变量类型不需要提前声明（动态类型）。3）不能直接自动写入硬盘。Java：1）基于类系统。分为类和实例，通过类层级的定义实现继承。不能动态增加对象或类的属性或方法。2）变量类型必须提前声明（动态类型）。3）可以直接自动写入硬盘。

JavaScript 和 ECMAScript 规范。JavaScript 的标准化组织是 ECMA —— 这个欧洲信息与通信系统标准化协会提供基于 Javascript 的标准化方案（ECMA 原先是欧洲计算机制造商协会的首字母缩写）。这种标准化版本的 JavaScript 被称作 ECMAScript，在所有支持该标准的应用中以相同的方式工作。公司可以使用开放标准语言来开发他们自己的 JavaScript 实现版本。ECMAScript 标准在 ECMA－262 规范中进行文档化。参照 JavaScript 的新特性（[New in JavaScript - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/New_in_JavaScript)）以便学习更多关于不同版本的 JavaScript 和 ECMAScript 规范版本。

ECMA-262 标准也通过了国际标准化组织（ISO）的 ISO-16262。你可以在这里找到该规范文件。ECMAScript 规范并没有描述文档对象模型（DOM），该模型由万维网联盟（W3C） 制定。DOM 定义了 HTML 文件对象被脚本操作的方法。为了更清楚地了解当使用 JavaScript 编程时用到的不同技术，请参阅 [JavaScript 技术概览 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/JavaScript_technologies_overview)。

JavaScript 文献和 ECMAScript 规范。1）ECMAScript 规范是实现 ECMAScript 的一组需求；如果您想在 ECMAScript 实现或引擎（如 Firefox 中的 SpiderMonkey 或 Chrome 中的 V8）中实现符合标准的语言特性，那么它是非常有用的。2）ECMAScript 文档不是用来帮助脚本程序员的；使用 JavaScript 文档获取关于编写脚本的信息。3）ECMAScript 规范使用了 JavaScript 程序员可能不熟悉的术语和语法。尽管 ECMAScript 中对语言的描述可能有所不同，但语言本身保持不变。JavaScript 支持 ECMAScript 规范中列出的所有功能。4）JavaScript 文档描述了适合 JavaScript 程序员的语言方面。

JavaScript 入门。开始使用 JavaScript 很容易，你只需要一个现代 Web 浏览器。控制台的工作方式与 eval 完全相同：返回最后输入的表达式。为了简单起见，可以想象每次输入到控制台的东西实际上都被 console.log 所包围。JavaScript 版本的「Hello world」程序：

```
function greetMe(user) {
  alert('Hi ' + user);
}

greetMe('Alice'); // 'Hi Alice'
```

### 0202基本语法.md

1、基础。JavaScript 借鉴了 Java 的大部分语法，但同时也受到 Awk，Perl 和 Python 的影响。JavaScript 是区分大小写的，并使用 Unicode 字符集。举个例子，可以将单词 Früh （在德语中意思是「早」）用作变量名。

    var Früh = "foobar";

但是，由于 JavaScript 是大小写敏感的，因此变量 früh 和 Früh 则是两个不同的变量。在 JavaScript 中，指令被称为语句  Statement，并用分号（;）进行分隔。如果一条语句独占一行的话，那么分号是可以省略的。（译者注：并不建议这么做。）但如果一行中有多条语句，那么这些语句必须以分号分开。ECMAScript 规定了在语句的末尾自动插入分号（ASI）。（如果想要了解更多信息，请参阅 JavaScript 词法语法 。）虽然不是必需的，但是在一条语句的末尾加上分号是一个很好的习惯。这个习惯可以大大减少代码中产生 bug 的可能性。Javascript 源码从左往右被扫描并转换成一系列由 token 、控制字符、行终止符、注释和空白字符组成的输入元素。空白字符指的是空格、制表符和换行符等。

变量。在应用程序中，使用变量来作为值的符号名。变量的名字又叫做标识符，其需要遵守一定的规则。一个 JavaScript 标识符必须以字母、下划线（\_）或者美元符号（\$）开头；后续的字符也可以是数字（0-9）。因为 JavaScript 语言是区分大小写的，所以字母可以是从「A」到「Z」的大写字母和从「a」到「z」的小写字母。你可以使用大部分 ISO 8859-1 或 Unicode 编码的字符作标识符，例如 å 和 ü（详情可查看这篇博客文章）。你也可以使用 Unicode 转义字符作标识符。合法的标识符示例：Number\_hits，temp99，\$credit 和 \_name。

声明变量。你可以用以下三种方式声明变量：1）使用关键词 var 。例如 var x = 42。这个语法可以用来声明局部变量和全局变量。2）直接赋值。例如 x = 42。在函数外使用这种形式赋值，会产生一个全局变量。在严格模式下会产生错误。因此你不应该使用这种方式来声明变量。3）使用关键词 let 。例如 let y = 13。这个语法可以用来声明块作用域的局部变量。参考下方变量的作用域 (Variable scope) 。

变量求值。用 var 或 let 语句声明的变量，如果没有赋初始值，则其值为 undefined 。如果访问一个未声明的变量会导致抛出一个引用错误（ReferenceError）异常；你可以使用 undefined 来判断一个变量是否已赋值。在以下的代码中，变量 input 未被赋值，因此 if 条件语句的求值结果是 true 。undefined 值在布尔类型环境中会被当作 false 。例如，下面的代码将会执行函数 myFunction，因为数组 myArray 中的元素未被赋值：

```
var myArray = [];
if (!myArray[0])   myFunction(); 
```

2『用 var 或 let 语句声明的变量，如果没有赋初始值，则其值为 undefined 。做一张术语卡片』

数值类型环境中 undefined 值会被转换为 NaN。

```
var a;
a + 2;    // 计算为 NaN
```

当你对一个 null 变量求值时，空值 null 在数值类型环境中会被当作 0 来对待，而布尔类型环境中会被当作 false。例如：

```
var n = null;
console.log(n * 32); // 在控制台中会显示 0
```

变量的作用域。在函数之外声明的变量，叫做全局变量，因为它可被当前文档中的任何其他代码所访问。在函数内部声明的变量，叫做局部变量，因为它只能在当前函数的内部访问。ECMAScript 6 之前的 JavaScript 没有「语句块」作用域；相反，语句块中声明的变量将成为语句块所在函数（或全局作用域）的局部变量。例如，如下的代码将在控制台输出 5，因为 x 的作用域是声明了 x 的那个函数（或全局范围），而不是 if 语句块。

```
if (true) {
  var x = 5;
}
console.log(x); // 5
```

如果使用 ECMAScript 6 中的 let 声明，上述行为将发生变化。

```
if (true) {
  let y = 5;
}
console.log(y); // ReferenceError: y 没有被声明
```

变量提升。JavaScript 变量的另一个不同寻常的地方是，你可以先使用变量稍后再声明变量而不会引发异常。这一概念称为变量提升；JavaScript 变量感觉上是被「提升」或移到了函数或语句的最前面。但是，提升后的变量将返回 undefined 值。因此在使用或引用某个变量之后进行声明和初始化操作，这个被提升的变量仍将返回 undefined 值。由于存在变量提升，一个函数中所有的 var 语句应尽可能地放在接近函数顶部的地方。这个习惯将大大提升代码的清晰度。在 ECMAScript 6 中，let（const）将不会提升变量到代码块的顶部。因此，在变量声明之前引用这个变量，将抛出引用错误（ReferenceError）。这个变量将从代码块一开始的时候就处在一个「暂时性死区」，直到这个变量被声明为止。

函数提升。对于函数来说，只有函数声明会被提升到顶部，而函数表达式不会被提升。

```
/* 函数声明 */

foo(); // "bar"

function foo() {
  console.log("bar");
}


/* 函数表达式 */

baz(); // 类型错误：baz 不是一个函数

var baz = function() {
  console.log("bar2");
};
```

全局变量。实际上，全局变量是全局对象的属性。在网页中，（译注：缺省的）全局对象是 window，所以你可以用形如 window.variable 的语法来设置和访问全局变量。因此，你可以通过指定 window 或 frame 的名字，在当前 window 或 frame 访问另一个 window 或 frame 中声明的变量。例如，在文档里声明一个叫 phoneNumber 的变量，那么你就可以在子框架里使用 parent.phoneNumber 的方式来引用它。

常量 (Constants)。你可以用关键字 const 创建一个只读的常量。常量标识符的命名规则和变量相同：必须以字母、下划线（\_）或美元符号（\$）开头并可以包含有字母、数字或下划线。常量不可以通过重新赋值改变其值，也不可以在代码运行时重新声明。它必须被初始化为某个值。常量的作用域规则与 let 块级作用域变量相同。若省略 const 关键字，则该标识符将被视为变量。在同一作用域中，不能使用与变量名或函数名相同的名字来命名常量。例如：

然而，对象属性被赋值为常量是不受保护的，所以下面的语句执行时不会产生错误。

```
const MY_OBJECT = {"key": "value"};
MY_OBJECT.key = "otherValue";
```

同样的，数组的被定义为常量也是不受保护的，所以下面的语句执行时也不会产生错误。

```
const MY_ARRAY = ['HTML','CSS'];
MY_ARRAY.push('JAVASCRIPT');
console.log(MY_ARRAY); //logs ['HTML','CSS','JAVASCRIPT'];
```

3、数据结构和类型。

数据类型。最新的 ECMAScript 标准定义了 8 种数据类型。七种基本数据类型：1）布尔值（Boolean），有 2 个值分别是：true 和 false。2）null ，一个表明 null 值的特殊关键字。JavaScript 是大小写敏感的，因此 null 与 Null、NULL 或变体完全不同。3）undefined ，和 null 一样是一个特殊的关键字，undefined 表示变量未定义时的属性。4）数字（Number），整数或浮点数，例如： 42 或者 3.14159。5）任意精度的整数 (BigInt) ，可以安全地存储和操作大整数，甚至可以超过数字的安全整数限制。6）字符串（String），字符串是一串表示文本值的字符序列，例如："Howdy" 。7）代表（Symbol） (在 ECMAScript 6 中新添加的类型)。一种实例是唯一且不可改变的数据类型。以及第 8 种，对象（Object）。

虽然这些数据类型相对来说比较少，但是通过他们你可以在程序中开发有用的功能。对象（Objects）和函数（functions）是这门语言的另外两个基本元素。你可以把对象当作存放值的一个命名容器，然后将函数当作你的程序能够执行的步骤。

数据类型的转换。JavaScript 是一种动态类型语言 (dynamically typed language)。这意味着你在声明变量时可以不必指定数据类型，而数据类型会在代码执行时会根据需要自动转换。因此，你可以按照如下方式来定义变量；然后，你还可以给同一个变量赋予一个字符串值，例如：

因为 JavaScript 是动态类型的，这种赋值方式并不会提示出错。在包含的数字和字符串的表达式中使用加法运算符（+），JavaScript 会把数字转换成字符串。例如，观察以下语句；在涉及其它运算符（译注：如下面的减号 '-'）时，JavaScript 语言不会把数字变为字符串。例如（译注：第一例是数学运算，第二例是字符串运算）：

字符串转换为数字。有一些方法可以将内存中表示一个数字的字符串转换为对应的数字。参见：parseInt () 和 parseFloat () 的相关页面。parseInt 方法只能返回整数，所以使用它会丢失小数部分。另外，调用 parseInt 时最好总是带上进制 (radix) 参数，这个参数用于指定使用哪一种进制。将字符串转换为数字的另一种方法是使用一元加法运算符。

4、字面量 (Literals)。（译注：字面量是由语法表达式定义的常量；或，通过由一定字词组成的语词表达式定义的常量）在 JavaScript 中，你可以使用各种字面量。这些字面量是脚本中按字面意思给出的固定的值，而不是变量。（译注：字面量是常量，其值是固定的，而且在程序脚本运行中不可更改，比如 false，3.1415，thisIsStringOfHelloworld ，invokedFunction: myFunction ("myArgument")。本节将介绍以下类型的字面量：1）数组字面量 (Array literals)。2）布尔字面量 (Boolean literals)。3）浮点数字面量 (Floating-point literals)。4）整数 (Integers)。5）对象字面量 (Object literals)。6）RegExp literals。7）字符串字面量 (String literals)。

数组字面值是一个封闭在方括号对  []  中的包含有零个或多个表达式的列表，其中每个表达式代表数组的一个元素。当你使用数组字面值创建一个数组时，该数组将会以指定的值作为其元素进行初始化，而其长度被设定为元素的个数。下面的示例用 3 个元素生成数组 coffees，它的长度是 3。

注意这里的数组字面值也是一种对象初始化器。参考对象初始化器的使用。若在顶层（全局）脚本里用字面值创建数组，JavaScript 语言将会在每次对包含该数组字面值的表达式求值时解释该数组。另一方面，在函数中使用的数组，将在每次调用函数时都会被创建一次。数组字面值同时也是数组对象。有关数组对象的详情请参见数组对象一文。

数组字面值中的多余逗号。（译注：声明时）你不必列举数组字面值中的所有元素。若你在同一行中连写两个逗号（,），数组中就会产生一个没有被指定的元素，其初始值是 undefined。以下示例创建了一个名为 fish 的数组：

    var fish = ["Lion", , "Angel"];

在这个数组中，有两个已被赋值的元素，和一个空元素（fish [0] 是 "Lion"，fish [1] 是 undefined，而 fish [2] 是 "Angel"；译注：此时数组的长度属性 fish.length 是 3。如果你在元素列表的尾部添加了一个逗号，它将会被忽略。在下面的例子中，数组的长度是 3，并不存在 myList [3] 这个元素（译注：这是指数组的第 4 个元素噢，作者是在帮大家复习数组元素的排序命名方法）。元素列表中其它所有的逗号都表示一个新元素（的开始）。

注意：尾部的逗号在早期版本的浏览器中会产生错误，因而编程时的最佳实践方式就是移除它们。(译注：而「现代」的浏览器似乎鼓励这种方式，这也很好解释原因。尾部逗号可以减少向数组的最后添加元素时，因为忘记为这最后一个元素加逗号所造成的错误。)

    var myList = ['home', , 'school', ];

在下面的例子中，数组的长度是 4，元素 myList [0] 和 myList [2] 缺失（译注：没被赋值，因而是 undefined）。再看一个例子。在这里，该数组的长度是 4，元素 myList [1] 和 myList [3] 被漏掉了。（但是）只有最后的那个逗号被忽略。理解多余的逗号（在脚本运行时会被如何处理）的含义，对于从语言层面理解 JavaScript 是十分重要的。但是，在你自己写代码时：显式地将缺失的元素声明为 undefined，将大大提高你的代码的清晰度和可维护性。

布尔类型有两种字面量：true 和 false。不要混淆作为布尔对象的真和假与布尔类型的原始值 true 和 false。布尔对象是原始布尔数据类型的一个包装器。参见布尔对象。

（译注：原文如此，没写成「整数字面量」，这里指的是整数字面量。）整数可以用十进制（基数为 10）、十六进制（基数为 16）、八进制（基数为 8）以及二进制（基数为 2）表示。1）十进制整数字面量由一串数字序列组成，且没有前缀 0。2）八进制的整数以 0（或 0O、0o）开头，只能包括数字 0-7。3）十六进制整数以 0x（或 0X）开头，可以包含数字（0-9）和字母 a~f 或 A~F。4）二进制整数以 0b（或 0B）开头，只能包含数字 0 和 1。严格模式下，八进制整数字面量必须以 0o 或 0O 开头，而不能以 0 开头。

浮点数字面量 (Floating-point literals) 可以有以下的组成部分：1）一个十进制整数，可以带正负号（即前缀「+」或「-」），2）小数点（「.」）。3）小数部分（由一串十进制数表示）。4）指数部分。指数部分以「e」或「E」开头，后面跟着一个整数，可以有正负号（即前缀「+」或「-」）。浮点数字面量至少有一位数字，而且必须带小数点或者「e」（大写「E」也可）。

对象字面量 (Object literals)。对象字面值是封闭在花括号对 {} 中的一个对象的零个或多个「属性名 - 值」对的（元素）列表。你不能在一条语句的开头就使用对象字面值，这将导致错误或产生超出预料的行为，因为此时左花括号 { 会被认为是一个语句块的起始符号。（译者：这里需要对语句 statement、块 block 等基本名词的解释）以下是一个对象字面值的例子。对象 car 的第一个元素（译注：即一个属性 / 值对）定义了属性 myCar；第二个元素，属性 getCar，引用了一个函数（即 CarTypes ("Honda")）；第三个元素，属性 special，使用了一个已有的变量（即 Sales）。

1『按此文档的说法，对象里的键 key 被称为对象的「属性名」。』

```
var Sales = "Toyota";

function CarTypes(name) {
  return (name === "Honda") ?
    name :
    "Sorry, we don't sell " + name + "." ;
}

var car = { myCar: "Saturn", getCar: CarTypes("Honda"), special: Sales };

console.log(car.myCar);   // Saturn
console.log(car.getCar);  // Honda
console.log(car.special); // Toyota 
```

更进一步的，你可以使用数字或字符串字面值作为属性的名字，或者在另一个字面值内嵌套上一个字面值。如下的示例中使用了这些可选项。

```
var car = { manyCars: {a: "Saab", "b": "Jeep"}, 7: "Mazda" };
console.log(car.manyCars.b); // Jeep
console.log(car[7]); // Mazda
```

对象属性名字可以是任意字符串，包括空串。如果对象属性名字不是合法的 javascript 标识符，它必须用 ""包裹。属性的名字不合法，那么便不能用 . 访问属性值，而是通过类数组标记 [""] 访问和赋值。

```
var unusualPropertyNames = {
  "": "An empty string",
  "!": "Bang!"
}
console.log(unusualPropertyNames."");   // 语法错误: Unexpected string
console.log(unusualPropertyNames[""]);  // An empty string
console.log(unusualPropertyNames.!);    // 语法错误: Unexpected token !
console.log(unusualPropertyNames["!"]); // Bang!
```

增强的对象字面量 (Enhanced Object literals)。在 ES2015，对象字面值扩展支持在创建时设置原型，简写了 foo: foo 形式的属性赋值，方法定义，支持父方法调用，以及使用表达式动态计算属性名。总之，这些也使对象字面值和类声明更加紧密地联系起来，让基于对象的设计从这些便利中更加受益。

1『上面的知识点还没弄清楚，里面给的例子也没全弄明白。（2020-03-06）』

RegExp 字面值。一个正则表达式是字符被斜线（译注：正斜杠「/」）围成的表达式。下面是一个正则表达式文字的一个例子。

字符串字面量 (String literals)。字符串字面量是由双引号（"）对或单引号（'）括起来的零个或多个字符。字符串被限定在同种引号之间；也即，必须是成对单引号或成对双引号。下面的例子都是字符串字面值；你可以在字符串字面值上使用字符串对象的所有方法 ——JavaScript 会自动将字符串字面值转换为一个临时字符串对象，调用该方法，然后废弃掉那个临时的字符串对象。你也能用对字符串字面值使用类似 String.length 的属性：

在 ES2015 中，还提供了一种模板字符串（template literals），模板字符串提供了一些语法糖来帮你构造字符串。这与 Perl、Python 还有其他语言中的字符串插值（string interpolation）的特性非常相似。除此之外，你可以在通过模板字符串前添加一个 tag 来自定义模板字符串的解析过程，这可以用来防止注入攻击，或者用来建立基于字符串的高级数据抽象。除非有特别需要使用字符串对象，否则，你应当始终使用字符串字面值。要查看字符串对象的有关细节，请参见字符串对象。

在字符串中使用的特殊字符。作为一般字符的扩展，你可以在字符串中使用特殊字符，如下例所示。转义字符。对于那些未出现在表 2.1 中的字符，其所带的前导反斜线 '\' 将被忽略。但是，这一用法已被废弃，应当避免使用。通过在引号前加上反斜线 '\'，可以在字符串中插入引号，这就是引号转义。例如:

### 0203流程控制与错误处理.md

JavaScript 提供一套灵活的语句集，特别是控制流语句，你可以用它在你的应用程序中实现大量的交互性功能。本章节我们将带来关于 JavaScript 语句的一些概览。在 JavaScript 代码中，分号（;）字符被用来分割语句。在 JavaScript 中，任何表达式 (expression) 都可以看作一条语句 (statement)，如果你想了解表达式的详细信息，可以阅读表达式与运算符（Expressions and operators）这一章节。

1、语句块。最基本的语句是用于组合语句的语句块。该块由一对大括号界定。语句块通常用于流程控制，如 if，for，while 等等。

```
while (x < 10) {
  x++;
}
```

这里 {x++;} 就是语句块。重要：在 ECMAScript 6 标准之前，Javascript 没有块作用域。在一个块中引入的变量的作用域是包含函数或脚本，并且设置它们的效果会延续到块之外。换句话说，块语句不定义范围。JavaScript 中的「独立」块会产生与 C 或 Java 中完全不同的结果。示例：

```
var x = 1;
{
  var x = 2;
}
alert(x); // 输出的结果为 2
```

这段代码的输出是 2，这是因为块级作用域中的 var x 变量声明与之前的声明在同一个作用域内。在 C 语言或是 Java 语言中，同样的代码输出的结果是 1。从 ECMAScript 2015 开始，使用 let 和 const 变量是块作用域的。更多信息请参考 let 和 const。

### 0205函数.md

函数是 JavaScript 中的基本组件之一。一个函数是 JavaScript 过程 —— 一组执行任务或计算值的语句。要使用一个函数，你必须将其定义在你希望调用它的作用域内。一个 JavaScript 函数用 function 关键字定义，后面跟着函数名和圆括号。

1、定义函数。函数声明。一个函数定义（也称为函数声明，或函数语句）由一系列的 function 关键字组成，依次为：1）函数的名称。2）函数参数列表，包围在括号中并由逗号分隔。3）定义函数的 JavaScript 语句，用大括号 {} 括起来。

原始参数（比如一个具体的数字）被作为值传递给函数；值被传递给函数，如果被调用函数改变了这个参数的值，这样的改变不会影响到全局或调用函数。如果你传递一个对象（即一个非原始值，例如 Array 或用户自定义的对象）作为参数，而函数改变了这个对象的属性，这样的改变对函数外部是可见的，如下面的例子所示：

```
function myFunc(theObject) {
  theObject.make = "Toyota";
}

var mycar = {make: "Honda", model: "Accord", year: 1998};
var x, y;

x = mycar.make;     // x获取的值为 "Honda"

myFunc(mycar);
y = mycar.make;     // y获取的值为 "Toyota"
                    // (make属性被函数改变了)
```

函数表达式。虽然上面的函数声明在语法上是一个语句，但函数也可以由函数表达式创建。这样的函数可以是匿名的；它不必有一个名称。例如，函数 square 也可这样来定义：

1『定义函数有两种方式：函数声明和函数表达式。』

```
var square = function(number) { return number * number; };
var x = square(4); // x gets the value 16
```

然而，函数表达式也可以提供函数名，并且可以用于在函数内部代指其本身，或者在调试器堆栈跟踪中识别该函数：

```
var factorial = function fac(n) {return n<2 ? 1 : n*fac(n-1)};
console.log(factorial(3));
```

当将函数作为参数传递给另一个函数时，函数表达式很方便。下面的例子演示了一个叫 map 的函数如何被定义，而后使用一个表达式函数作为其第一个参数进行调用：

```
function map(f, a) {
  var result = []; // 创建一个数组
  var i; // 声明一个值，用来循环
  for (i = 0; i != a.length; i++)
    result[i] = f(a[i]);
      return result;
}
var f = function(x) {
   return x * x * x; 
}
var numbers = [0,1, 2, 5,10];
var cube = map(f,numbers);
console.log(cube);
```

返回 [0, 1, 8, 125, 1000]。在 JavaScript 中，可以根据条件来定义一个函数。比如下面的代码，当 num 等于 0 的时候才会定义 myFunc ：

```
var myFunc;
if (num == 0){
  myFunc = function(theObject) {
    theObject.make = "Toyota"
  }
}
```

除了上述的定义函数方法外，你也可以在运行时用 Function 构造器由一个字符串来创建一个函数 ，很像 eval () 函数。当一个函数是一个对象的属性时，称之为方法。了解更多关于对象和方法的知识「[使用对象 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects)」。

2、调用函数。定义一个函数并不会自动的执行它。定义了函数仅仅是赋予函数以名称并明确函数被调用时该做些什么。调用函数才会以给定的参数真正执行这些动作。例如，一旦你定义了函数 square，你可以如下这样调用它：

    square(5);

上述语句通过提供参数 5 来调用函数。函数执行完它的语句会返回值 25。函数一定要处于调用它们的域中，但是函数的声明可以被提升（出现在调用语句之后），如下例：

```
console.log(square(5));
/* ... */
function square(n) { return n*n } 
```

函数域是指函数声明时的所在的地方，或者函数在顶层被声明时指整个程序。注意只有使用如上的语法形式（即 function funcName (){}）才可以。而下面的代码是无效的。就是说，函数提升仅适用于函数声明，而不适用于函数表达式。

```
console.log(square); // square is hoisted with an initial value undefined.
console.log(square(5)); // TypeError: square is not a function
var square = function (n) { 
  return n * n; 
}
```

函数的参数并不局限于字符串或数字。你也可以将整个对象传递给函数。函数 show_props（其定义参见「[Working with objects - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects#Objects_and_Properties)」）就是一个将对象作为参数的例子。函数可以被递归，就是说函数可以调用其本身。例如，下面这个函数就是用递归计算阶乘：

```
function factorial(n){
  if ((n == 0) || (n == 1))
    return 1;
  else
    return (n * factorial(n - 1));
}
```

还有其它的方式来调用函数。常见的一些情形是某些地方需要动态调用函数，或者函数的实参数量是变化的，或者调用函数的上下文需要指定为在运行时确定的特定对象。显然，函数本身就是对象，因此这些对象也有方法（参考 [Function - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function) ）。作为此中情形之一，apply () 方法可以实现这些目的。

3、函数作用域。在函数内定义的变量不能在函数之外的任何地方访问，因为变量仅仅在该函数的域的内部有定义。相对应的，一个函数可以访问定义在其范围内的任何变量和函数。换言之，定义在全局域中的函数可以访问所有定义在全局域中的变量。在另一个函数中定义的函数也可以访问在其父函数中定义的所有变量和父函数有权访问的任何其他变量。

```
// 下面的变量定义在全局作用域(global scope)中
var num1 = 20,
    num2 = 3,
    name = "Chamahk";

// 本函数定义在全局作用域
function multiply() {
  return num1 * num2;
}

multiply(); // 返回 60

// 嵌套函数的例子
function getScore() {
  var num1 = 2,
      num2 = 3;
  
  function add() {
    return name + " scored " + (num1 + num2);
  }
  
  return add();
}

getScore(); // 返回 "Chamahk scored 5"
```

4、作用域和函数堆栈。

递归。一个函数可以指向并调用自身。有三种方法可以达到这个目的：1）函数名。2）arguments.callee。3）作用域下的一个指向该函数的变量名。例如，思考一下如下的函数定义：

```
var foo = function bar() {
   // statements go here
};
```

在这个函数体内，以下的语句是等价的：bar()、arguments.callee()、foo()。调用自身的函数我们称之为递归函数。在某种意义上说，递归近似于循环。两者都重复执行相同的代码，并且两者都需要一个终止条件（避免无限循环或者无限递归）。例如以下的循环：

```
var x = 0;
while (x < 10) { // "x < 10" 是循环条件
   // do stuff
   x++;
}
```

可以被转化成一个递归函数和对其的调用：

```
function loop(x) {
  if (x >= 10) // "x >= 10" 是退出条件（等同于 "!(x < 10)"）
    return;
  // 做些什么
  loop(x + 1); // 递归调用
}
loop(0);
```

不过，有些算法并不能简单的用迭代来实现。例如，获取树结构中所有的节点时，使用递归实现要容易得多：

```
function walkTree(node) {
  if (node == null) // 
    return;
  // do something with node
  for (var i = 0; i < node.childNodes.length; i++) {
    walkTree(node.childNodes[i]);
  }
}
```

跟 loop 函数相比，这里每个递归调用都产生了更多的递归。将递归算法转换为非递归算法是可能的，不过逻辑上通常会更加复杂，而且需要使用堆栈。事实上，递归函数就使用了堆栈：函数堆栈。这种类似堆栈的行为可以在下例中看到：

```
function foo(i) {
  if (i < 0)
    return;
  console.log('begin:' + i);
  foo(i - 1);
  console.log('end:' + i);
}
foo(3);

// 输出:

// begin:3
// begin:2
// begin:1
// begin:0
// end:0
// end:1
// end:2
// end:3
```

嵌套函数和闭包。你可以在一个函数里面嵌套另外一个函数。嵌套（内部）函数对其容器（外部）函数是私有的。它自身也形成了一个闭包。一个闭包是一个可以自己拥有独立的环境与变量的表达式（通常是函数）。既然嵌套函数是一个闭包，就意味着一个嵌套函数可以「继承」容器函数的参数和变量。换句话说，内部函数包含外部函数的作用域。可以总结如下：1）内部函数只可以在外部函数中访问。2）内部函数形成了一个闭包：它可以访问外部函数的参数和变量，但是外部函数却不能使用它的参数和变量。下面的例子展示了嵌套函数：

```
function addSquares(a, b) {
  function square(x) {
    return x * x;
  }
  return square(a) + square(b);
}
a = addSquares(2, 3); // returns 13
b = addSquares(3, 4); // returns 25
c = addSquares(4, 5); // returns 41
```

由于内部函数形成了闭包，因此你可以调用外部函数并为外部函数和内部函数指定参数：

```
function outside(x) {
  function inside(y) {
    return x + y;
  }
  return inside;
}
fn_inside = outside(3); // 可以这样想：给一个函数，使它的值加3
result = fn_inside(5); // returns 8

result1 = outside(3)(5); // returns 8
```

保存变量。注意到上例中 inside 被返回时 x 是怎么被保留下来的。一个闭包必须保存它可见作用域中所有参数和变量。因为每一次调用传入的参数都可能不同，每一次对外部函数的调用实际上重新创建了一遍这个闭包。只有当返回的 inside 没有再被引用时，内存才会被释放。这与在其他对象中存储引用没什么不同，但是通常不太明显，因为并不能直接设置引用，也不能检查它们。

多层嵌套函数。函数可以被多层嵌套。例如，函数 A 可以包含函数 B，函数 B 可以再包含函数 C。B 和 C 都形成了闭包，所以 B 可以访问 A，C 可以访问 B 和 A。因此，闭包可以包含多个作用域；他们递归式的包含了所有包含它的函数作用域。这个称之为作用域链。（稍后会详细解释）思考一下下面的例子：

```
function A(x) {
  function B(y) {
    function C(z) {
      console.log(x + y + z);
    }
    C(3);
  }
  B(2);
}
A(1); // logs 6 (1 + 2 + 3)
```

在这个例子里面，C 可以访问 B 的 y 和 A 的 x。这是因为：B 形成了一个包含 A 的闭包，B 可以访问 A 的参数和变量；C 形成了一个包含 B 的闭包；B 包含 A，所以 C 也包含 A，C 可以访问 B 和 A 的参数和变量。换言之，C 用这个顺序链接了 B 和 A 的作用域。反过来却不是这样。A 不能访问 C，因为 A 看不到 B 中的参数和变量，C 是 B 中的一个变量，所以 C 是 B 私有的。

命名冲突。当同一个闭包作用域下两个参数或者变量同名时，就会产生命名冲突。更近的作用域有更高的优先权，所以最近的优先级最高，最远的优先级最低。这就是作用域链。链的第一个元素就是最里面的作用域，最后一个元素便是最外层的作用域。看以下的例子：

```
function outside() {
  var x = 5;
  function inside(x) {
    return x * 2;
  }
  return inside;
}

outside()(10); // returns 20 instead of 10
```

命名冲突发生在 return x 上，inside 的参数 x 和 outside 变量 x 发生了冲突。这里的作用链域是 {inside, outside, 全局对象}。因此 inside 的 x 具有最高优先权，返回了 20（inside 的 x）而不是 10（outside 的 x）。

5、闭包。闭包是 JavaScript 中最强大的特性之一。JavaScript 允许函数嵌套，并且内部函数可以访问定义在外部函数中的所有变量和函数，以及外部函数能访问的所有变量和函数。但是，外部函数却不能够访问定义在内部函数中的变量和函数。这给内部函数的变量提供了一定的安全性。此外，由于内部函数可以访问外部函数的作用域，因此当内部函数生存周期大于外部函数时，外部函数中定义的变量和函数的生存周期将比内部函数执行时间长。当内部函数以某一种方式被任何一个外部函数作用域访问时，一个闭包就产生了。

```
var pet = function(name) {          //外部函数定义了一个变量"name"
  var getName = function() {            
    //内部函数可以访问 外部函数定义的"name"
    return name; 
  }
  //返回这个内部函数，从而将其暴露在外部函数作用域
  return getName;               
};
myPet = pet("Vivie");
    
myPet();                            // 返回结果 "Vivie"
```

实际上可能会比上面的代码复杂的多。在下面这种情形中，返回了一个包含可以操作外部函数的内部变量方法的对象。

```
var createPet = function(name) {
  var sex;
  
  return {
    setName: function(newName) {
      name = newName;
    },
    
    getName: function() {
      return name;
    },
    
    getSex: function() {
      return sex;
    },
    
    setSex: function(newSex) {
      if(typeof newSex == "string" 
        && (newSex.toLowerCase() == "male" || newSex.toLowerCase() == "female")) {
        sex = newSex;
      }
    }
  }
}

var pet = createPet("Vivie");
pet.getName();                  // Vivie

pet.setName("Oliver");
pet.setSex("male");
pet.getSex();                   // male
pet.getName();                  // Oliver
```

在上面的代码中，外部函数的 name 变量对内嵌函数来说是可取得的，而除了通过内嵌函数本身，没有其它任何方法可以取得内嵌的变量。内嵌函数的内嵌变量就像内嵌函数的保险柜。它们会为内嵌函数保留「稳定」—— 而又安全 —— 的数据参与运行。而这些内嵌函数甚至不会被分配给一个变量，或者不必一定要有名字。

```
var getCode = (function(){
  var secureCode = "0]Eal(eh&2";    // A code we do not want outsiders to be able to modify...
  
  return function () {
    return secureCode;
  };
})();

getCode();    // Returns the secret code
```

尽管有上述优点，使用闭包时仍然要小心避免一些陷阱。如果一个闭包的函数定义了一个和外部函数的某个变量名称相同的变量，那么这个闭包将无法引用外部函数的这个变量。

```
var createPet = function(name) {  // Outer function defines a variable called "name"
  return {
    setName: function(name) {    // Enclosed function also defines a variable called "name"
      name = name;               // ??? How do we access the "name" defined by the outer function ???
    }
  }
}
```

6、使用 arguments 对象。函数的实际参数会被保存在一个类似数组的 arguments 对象中。在函数内，你可以按如下方式找出传入的参数：

    arguments[i]

其中 i 是参数的序数编号（译注：数组索引），以 0 开始。所以第一个传来的参数会是 arguments [0]。参数的数量由 arguments.length 表示。使用 arguments 对象，你可以处理比声明的更多的参数来调用函数。这在你事先不知道会需要将多少参数传递给函数时十分有用。你可以用 arguments.length 来获得实际传递给函数的参数的数量，然后用 arguments 对象来取得每个参数。例如，设想有一个用来连接字符串的函数。唯一事先确定的参数是在连接后的字符串中用来分隔各个连接部分的字符（译注：比如例子里的分号「；」）。该函数定义如下：

```
function myConcat(separator) {
   var result = ' '; // 把值初始化成一个字符串，这样就可以用来保存字符串了！！
   var i;
   // iterate through arguments
   for (i = 1; i < arguments.length; i++) {
      result += arguments[i] + separator;
   }
   return result;
}
```

你可以给这个函数传递任意数量的参数，它会将各个参数连接成一个字符串「列表」：

```
// returns "red, orange, blue, "
myConcat(", ", "red", "orange", "blue");

// returns "elephant; giraffe; lion; cheetah; "
myConcat("; ", "elephant", "giraffe", "lion", "cheetah");

// returns "sage. basil. oregano. pepper. parsley. "
myConcat(". ", "sage", "basil", "oregano", "pepper", "parsley");
```

提示：arguments 变量只是「类数组对象」，并不是一个数组。称其为类数组对象是说它有一个索引编号和 length 属性。尽管如此，它并不拥有全部的 Array 对象的操作方法。更多信息请阅读 JavaScript 参考里的 [Function - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function) 一文。

7、函数参数。从 ECMAScript 6 开始，有两个新的类型的参数：默认参数，剩余参数。

默认参数。在 JavaScript 中，函数参数的默认值是 undefined。然而，在某些情况下设置不同的默认值是有用的。这时默认参数可以提供帮助。在过去，用于设定默认参数的一般策略是在函数的主体中测试参数值是否为 undefined，如果是则赋予这个参数一个默认值。如果在下面的例子中，调用函数时没有实参传递给 b，那么它的值就是 undefined，于是计算 a*b 得到、函数返回的是 NaN。但是，在下面的例子中，这个已经被第二行获取处理：

```
function multiply(a, b) {
  b = (typeof b !== 'undefined') ?  b : 1;

  return a*b;
}

multiply(5); // 5
```

使用默认参数，在函数体的检查就不再需要了。现在，你可以在函数头简单地把 1 设定为 b 的默认值：

```
function multiply(a, b = 1) {
  return a*b;
}

multiply(5); // 5
```

了解更多默认参数的信息（[Default parameters - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters)）。

剩余参数。剩余参数语法允许将不确定数量的参数表示为数组。在下面的例子中，使用剩余参数收集从第二个到最后参数。然后，我们将这个数组的每一个数与第一个参数相乘。这个例子是使用了一个箭头函数，这将在下一节介绍。

```
function multiply(multiplier, ...theArgs) {
  return theArgs.map(x => multiplier * x);
}

var arr = multiply(2, 1, 2, 3);
console.log(arr); // [2, 4, 6]
```

8、箭头函数。[箭头函数表达式 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions)（也称胖箭头函数）相比函数表达式具有较短的语法并以词法的方式绑定 this。箭头函数总是匿名的。另见 hacks.mozilla.org 的博文：「[ES6 In Depth: Arrow functions - Mozilla Hacks - the Web developer blog](https://hacks.mozilla.org/2015/06/es6-in-depth-arrow-functions/)」。有两个因素会影响引入箭头函数：更简洁的函数和 this。

更简洁的函数。在一些函数模式中，更简洁的函数很受欢迎。对比一下：

```
var a = [
  "Hydrogen",
  "Helium",
  "Lithium",
  "Beryllium"
];

var a2 = a.map(function(s){ return s.length });

console.log(a2); // logs [ 8, 6, 7, 9 ]

var a3 = a.map( s => s.length );

console.log(a3); // logs [ 8, 6, 7, 9 ]
```

this 的词法。在箭头函数出现之前，每一个新函数都重新定义了自己的 this 值（在严格模式下，一个新的对象在构造函数里是未定义的，以「对象方法」的方式调用的函数是上下文对象等）。以面向对象的编程风格，这样着实有点恼人。

```
function Person() {
  // The Person() constructor defines `this` as itself.
  this.age = 0;

  setInterval(function growUp() {
    // In nonstrict mode, the growUp() function defines `this` 
    // as the global object, which is different from the `this`
    // defined by the Person() constructor.
    this.age++;
  }, 1000);
}

var p = new Person();
```

在 ECMAScript 3/5 里，通过把 this 的值赋值给一个变量可以修复这个问题。

```
function Person() {
  var self = this; // Some choose `that` instead of `self`. 
                   // Choose one and be consistent.
  self.age = 0;

  setInterval(function growUp() {
    // The callback refers to the `self` variable of which
    // the value is the expected object.
    self.age++;
  }, 1000);
}
```

另外，创建一个约束函数可以使得 this 值被正确传递给 growUp () 函数。箭头函数捕捉闭包上下文的 this 值，所以下面的代码工作正常。

```
function Person(){
  this.age = 0;

  setInterval(() => {
    this.age++; // |this| properly refers to the person object
  }, 1000);
}

var p = new Person();
```

9、预定义函数。JavaScript 语言有好些个顶级的内建函数：1）eval () 方法会对一串字符串形式的 JavaScript 代码字符求值。2）uneval () 方法创建的一个 Object 的源代码的字符串表示。3）isFinite () 函数判断传入的值是否是有限的数值。如果需要的话，其参数首先被转换为一个数值。4）isNaN () 函数判断一个值是否是 NaN。注意：isNaN 函数内部的强制转换规则十分有趣； 另一个可供选择的是 ECMAScript 6 中定义 Number.isNaN () , 或者使用 typeof 来判断数值类型。5）parseFloat () 函数解析字符串参数，并返回一个浮点数。6）parseInt () 函数解析字符串参数，并返回指定的基数（基础数学中的数制）的整数。7）decodeURI () 函数对先前经过 encodeURI 函数或者其他类似方法编码过的字符串进行解码。8）decodeURIComponent () 方法对先前经过 encodeURIComponent 函数或者其他类似方法编码过的字符串进行解码。等等。
