

术语卡片：宏2023-11-05



内容：



参考：保罗·格雷厄姆.(2013).2018112黑客与画家.(阮一峰.译).人民邮电出版社 => 1101一百年后的编程语言



原文：



Lisp 语言刚出现的时候，这些思想与其他编程语言大相径庭，后者的设计思想主要由 50 年代后期的硬件决定。随着时间流逝，流行的编程语言不断更新换代，语言设计思想逐渐向 Lisp 靠拢。思想（1）到思想（5）已经被广泛接受，思想（6）开始在主流编程语言中出现，思想（7）在 Python 语言中有所实现，不过似乎没有专用的语法。

思想（8）可能是最有意思的一点。它与思想（9）只是由于偶然原因才成为 Lisp 语言的一部分，因为它们不属于麦卡锡的原始构想，是由拉塞尔自行添加的。它们从此使得 Lisp 语言看上去很古怪，但也成为了这种语言最独一无二的特点。说 Lisp 语言古怪倒不是因为它的语法很古怪，而是因为它根本没有语法，程序直接以解析树（parse tree）的形式表达出来。在其他语言中，这种形式只是经过解析在后台产生，但是 Lisp 直接采用它作为表达形式。它由列表构成，而列表则是 Lisp 的基本数据结构。

用一门语言自己的数据结构来表达该语言是非常强大的功能。思想（8）和思想（9），意味着你可以写出一种能够自己编程的程序。这可能听起来很怪异，但是对于 Lisp 语言却是再普通不过。最常用的做法就是使用宏。术语「宏」在 Lisp 语言中的意思与其他语言中的不一样。Lisp 宏无所不包，它既可能是某样表达式的缩略形式，也可能是一种新语言的编译器。无论是想真正理解 Lisp 语言，还是只想拓宽编程视野，最好都学学宏。

1-2『这里看是对「元编程」、「宏」有那么一点点感觉了。补充进「宏」的术语卡里。』——已完成

就我所知，宏（采用 Lisp 语言的定义）目前仍然是 Lisp 独有的。一个原因是为了使用宏，你大概不得不让你的语言看上去像 Lisp 一样古怪。另一个可能的原因是，如果你想为自己的语言添上这种终极武器，你从此就不能声称自己发明了新语言，只能说发明了一种 Lisp 的新方言。

我把这件事当作笑话说出来，但是事实就是如此。如果你创造了一种新语言，其中有 car、cdr、cons、quote、cond、atom、eq 这样的功能，还有一种把函数写成列表的表示方法，那么在它们的基础上完全可以推导出 Lisp 语言的所有其他部分。事实上，Lisp 语言就是这样定义的，麦卡锡把语言设计成这个样子就是为了让这种推导成为可能。

3『

Function-Handling Functions Reference (AutoLISP)defun-q (AutoLISP)