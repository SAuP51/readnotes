

基础卡片：自下而上的编程方法2023-11-05内容：参考：保罗·格雷厄姆.(2013).2018112黑客与画家.(阮一峰.译).人民邮电出版社 => 1101一百年后的编程语言原文：使用一种不强大的语言，你的损失有多大？实际上有一些现成的数据可以说明这个问题。衡量语言的编程能力的最简单方法可能就是看代码数量。所谓高级语言，就是能够提供更强大抽象能力的语言，从某种意义上，就像能够提供更大的砖头，所以砌墙的时候用到的砖头数量就变少了。因此，语言的编程能力越强大，写出来的程序就越短（当然不是指字符数量，而是指独立的语法单位）。强大的编程语言如何让你写出更短的程序？一个技巧就是（在语言允许的前提下）使用「自下而上」（bottom-up）的编程方法。你不是用基础语言（base language）开发应用程序，而是在基础语言之上先构建一种你自己的语言，然后再用后者开发应用程序。这样写出来的代码会比直接用基础语言开发出来的短得多。实际上，大多数压缩算法也是这样运作的。「自下而上」的编程往往也便于修改，因为许多时候你自己添加的中间层根本不需要变化，你只需要修改前端逻辑就可以了。1-2-3『自下而上的编程方法。在基础语言之上先构建一种自己的语言（感觉就是郑烨常说的领域语言），然后用这套语言去做开发，实现需求。这个信息绝对是块金砖，不过目前还无法完全吃透。做一张主题卡片。回复：又联想到，做开发的时候要有意思的根据业务来创建「业务数据类型」。（2020-12-22）』——已完成代码的数量很重要，因为开发一个程序所耗费的时间主要取决于程序的长度。对于同一个软件，如果用一种语言写出来的代码比用另一种语言长三倍，这意味着你开发它耗费的时间也会多三倍。而且即使多雇人手，也无助于缩短开发时间，因为当团队规模超过某个门槛时，再增加人手只会带来净损失。Fred Brooks 在他的名著《人月神话》中描述了这种现象，我的所见所闻印证了他的说法。如果使用 Lisp 语言，程序能变得多短？以 Lisp 和 C 的比较为例，我听到的大多数说法是 C 代码的长度是 Lisp 的 7 倍到 10 倍。但是最近，New Architect 杂志上有一篇介绍 ITA 软件公司的文章 [6] ，里面说「1 行 Lisp 代码相当于 20 行 C 代码」，因为此文都是引用 ITA 总裁的话，所以我想这个数字来自 ITA 的编程实践。如果真是这样，那么我们可以相信这句话。ITA 的软件不仅使用 Lisp 语言，还同时大量使用 C 和 C++，所以这是他们的经验之谈。我认为，这种比例肯定不会是一个常数。如果你遇到更困难的问题，或者你雇到了更聪明的程序员，这个比例就会增大。一种出色的工具到了真正优秀的黑客手里，可以发挥出更大的威力。总之，根据上面的这个数字，如果你与 ITA 竞争，而且你使用 C 语言开发软件，那么 ITA 的开发速度将比你快 20 倍。如果你需要一年时间实现某个功能，它只需要不到三星期。反过来说，如果 ITA 开发某个新功能用了三个月，那么你需要五年才能做出来。你知道吗？上面的对比还只是考虑到最好的情况。当我们只比较代码数量的时候，言下之意就是假设使用功能较弱的语言也能开发出同样的软件。但是事实上，程序员使用某种语言能做到的事情是有极限的。如果你想用一种低层次的语言解决一个很难的问题，那么你将会面临各种情况极其复杂乃至想不清楚的窘境。所以，当我说假定你与 ITA 竞争，你用五年时间做出的东西，ITA 在 Lisp 语言的帮助下只用三个月就完成了，我指的五年还是一切顺利、没有犯错误、也没有遇到太大麻烦的五年。事实上，按照大多数公司的实际情况，计划中五年完成的项目很可能永远都不会完成。我承认，上面的例子太极端。ITA 似乎有一批非常聪明的黑客，而 C 语言又是一种很低层次的语言。但是，在一个高度竞争的市场中，即使开发速度只相差两三倍，也足以使得你永远处在落后的位置。