## 0601. 贝叶斯主义的「先知」

一段起伏跌宕的历史

在很长一段时间里，频率主义者及其精神领袖罗纳德·费希尔都在迫害一批人，在他们眼中那只是一个默默无名的小学派。整整两个世纪，贝叶斯主义寥寥可数的几个忠实信徒必须秘密行动，他们不敢公开承认自己的异端信念。被频率主义禁止之后，贝叶斯主义有几次甚至被逼到了灭绝的边缘。

但依靠普赖斯和拉普拉斯的古老典籍，一小群虔诚的使徒守住了贝叶斯主义的明灯。这些贝叶斯主义的先知知道如何将贝叶斯的信条应用到现代社会中，无论是金融、工程还是科学领域。当今，一些著名大学甚至开始每周举办集会，邀请那些信徒与见习者反反复复阅读贝叶斯的箴言。现在，人们对贝叶斯主义的态度产生了如此大的改变，即使是在学术圈，承认自己是贝叶斯主义者也不再不可理喻 —— 虽然当我为贝叶斯主义辩护时，仍然经常有人向我投以怀疑的眼光。

我花这个时间构建这个隐喻，是因为贝叶斯主义的历史本身就很激动人心，也代表着科学史的特点。与人们通常的叙事相反，科学并不只是一系列智者的灵光一现与理性的胜利。在思想的演进中，滥权、嫉妒与对抗扮演着同样重要的角色。数个世纪以来被最优秀的智者否定的想法，最后也可能会被科学共同体接受。

据作家莎伦·麦格雷恩所说，这正是贝叶斯主义的遭遇。麦格雷恩甚至为贝叶斯主义那难以置信的历史写了整整一本书，并且不惮于给它起了这样一个标题：《死不掉的理论：贝叶斯法则如何破译恩尼格玛密码、追踪发现俄罗斯潜艇并赢得一场两个世纪的论战》（The Theory that would not Die: How Bayes' Rule Cracked the Enigma Code, Hunted down Russian Submarines,and Emerged Triumphant from two Centuries of Controversy

）。

在本章中，我提议大家一起探索贝叶斯主义那曲折动人的历史。为此，讲一点关于 17 世纪的闲话很有好处，那正是布莱兹·帕斯卡和皮埃尔·德·费马终于尝试将概率这个概念数学化的时代。

概率论的起源

帕斯卡和费马当时考虑的问题，就是当纯粹靠运气的赌局中断之后，怎么根据当前的比分来分配赌金。比如说，想象一下两位玩家各自赌上 10 欧元，进行一盘抛 11 次均匀硬币然后比较正反面出现次数的胜负。押注在次数较多（即出现 6 次或以上）那一边的玩家就能把赌上的全部 20 欧元收入囊中。假设在赌局因事中断时，比分是 4 - 0，那么应该如何公平地划分赌金？

从直觉上来说，4 - 0 领先的那一方应该分到更多的赌金，因为他最后获胜的概率更大。但他应该获得其中几分之几？为了得到严谨的答案，帕斯卡和费马需要确立一种方法来传播每一次抛硬币的不确定性。换句话说，他们知道了原因 —— 赌局不确定性（也就是每一次抛硬币的不确定性），需要由此确定结果 —— 两位玩家最终获胜的概率。帕斯卡和费马需要构建一套关于概率的演绎逻辑。这让他们奠定了概率论的基础，还引入了数学期望和二项分布等概念。

但帕斯卡和费马的理论仍然很不完善。真正赋予概率论血肉的人，可能是亚伯拉罕·棣莫弗。在 17 世纪末，棣莫弗因宗教迫害逃离法国，在英国皇家学会这个充满智识的环境中受到了庇护，而且可以与艾萨克·牛顿、约翰·沃利斯和约翰·洛克等人共处。在那里，他发表了题为《机会论》（The Doctrine of Chances

）的开创性著作。该书初步概述了数学中最漂亮的定理之一 —— 中心极限定理。用这个定理可以推断出，如果将无数个微小的独立随机扰动加起来，得到的随机变量遵循怎样的概率分布。

神秘的托马斯·贝叶斯

然而，概率论中还有一个问题，棣莫弗不知道如何解决，该问题回应了大卫·休谟的哲学思考，我们在第 4 章就已经谈到过这位早于棣莫弗出现的哲学家。这个基础性问题叫作逆概率问题，但它其实就是关于归纳的问题，也就是在已知结果的前提下计算不同原因的概率。

这就是加尔文宗的教会牧师托马斯·贝叶斯出场的时候了。好数学家碰到难题时就会做，贝叶斯首先考虑了一个简单的例子。他想象有一张桌子，上面（均匀）随机地放着一个白球，而贝叶斯本人背向桌子，对白球位置一无所知。然后，贝叶斯必须从白球位置引出的结果出发，判定这个位置，或者至少给出对应的可能性。

贝叶斯的助手会将一个黑球放在桌面上，位置同样（均匀）随机。贝叶斯仍然背对桌子，同样不知道黑球的位置。接下来，贝叶斯向助手提问白球到底在黑球的左边还是右边，助手会回答他的问题。然后，这位助手会用第二个黑球重复同样的步骤，告诉贝叶斯这个新的黑球到底在白球的左边还是右边，然后重复第三个、第四个黑球，以此类推。

如果知道白球位置的话，贝叶斯就可以计算助手的每个答案的概率。所以白球位置应该是助手对贝叶斯的提问做出那些回答的原因（之一）。逆概率问题就是在已知结果的情况下确定原因，也就是在已知助手的回答的情况下，确定白球的可能位置。你可能也猜到了，贝叶斯正是通过直觉，得到了以他的名字命名的公式，从而解决了确定白球（可能）位置这个问题。

你可能会觉得，这样就终结了逆概率的问题。事实远非如此。正如本章中将会谈到的众多统计学家那样，贝叶斯行事隐秘，没有发表他的神奇公式。他是不是害怕引起论战？这似乎不太可能。他在世时曾经挺身反对乔治·伯克利对牛顿建立的新数学体系的批评。他是不是害怕质疑自己的宗教信仰？肯定不是，因为他发展逆概率理论的重要目的就是强调原因这个概念，而原因可以追溯到所谓的第一因，从而证明上帝的存在。

为什么贝叶斯没有发表他的公式？最可信的解释之一很简单，就是他没有看到他这个公式全部的美，或者自己也不相信这种美。无论如何，不少专家赞同，贝叶斯很可能不是贝叶斯主义者。

1763 年，在贝叶斯辞世两年之后，他的公式才最终得以发表，这要归功于理查德·普赖斯的不朽之作。实际上，在这两位智者之中，普赖斯反而比贝叶斯更像一个贝叶斯主义者，但他其实也没有那么秉持贝叶斯主义。另外，他同意投入出版贝叶斯遗作这一工作，动机似乎是为了证明上帝的存在。普赖斯这样断言：「我的目标就是弄清我们究竟出于什么原因相信，物体的组成中存在一些固定法则，而这些法则正是物体产生的依据；我们又为何会相信，世界的框架也因此必然源自一个智能本因的智慧和能力。所以，（我的目标就是）通过终极原因确立上帝的存在。」

拉普拉斯，贝叶斯主义之父

实际上，称得上贝叶斯主义者第一人的并不是英国人，而是法国人皮埃尔–西蒙·拉普拉斯。拉普拉斯是历史上最伟大的数学家之一，他大概也是我心目中最伟大的英雄。长久以来，他为人们所熟知的原因是他对分析及其在天文学中的应用所做的工作，他将这些工作成果集结成五卷题为《天体力学》（Traité de mécanique céleste

）的著作并发表。特别是，这本巨著给出了关于太阳系稳定性问题的新解答。牛顿此前已经证明了，如果宇宙中只有地球和太阳，那么它们就会组成一个稳定的系统，直到时间的尽头。然而，如果这个模型必须包括木星的话，那么相应的方程就无法求解。牛顿最后举手投降，得出的结论是只有上帝的干预才能给予这个复杂系统秩序，将行星的轨道稳定下来。

装备上以他自己的名字命名的「拉普拉斯变换」等新数学分析工具之后，拉普拉斯成功给出了太阳系其实无须上帝的干预也很稳定的理由。拿破仑·波拿巴在阅读了拉普拉斯的《天体力学》之后，问了一句：「牛顿在他的书里谈到了上帝。我看了你的书，这个名词在里面一次都没有出现过。」拉普拉斯的回答是：「我不需要上帝这个假设。」

然而，拉普拉斯并没有完全严谨地解决太阳系稳定性的问题，而我们绝不能责怪他。之后一代又一代数学家在这个难得超出想象的问题上磕磕绊绊，其中包括卡尔·弗里德里希·高斯、亨利·庞加莱、安德烈·柯尔莫哥洛夫、雅克·拉斯卡尔和塞德里克·维拉尼。正如庞加莱在他自己的一篇本应证明了太阳系稳定性的论文中找出了错误那样，数学界与天体物理学界对于太阳系稳定性的置信度也是左右摇摆的。在今天，雅克·拉斯卡尔的模拟似乎获得了科学界的肯定。这些模拟预言：太阳系将在很长一段时期内变得不稳定。但请放心，要看到这一天还需要相当长的时间。

拉普拉斯在解决这个问题时遇到的困难之一就是手头上的观察结果不够准确。需要说明一下，这些数据来自公元 1000 年左右的阿拉伯人、公元 100 年左右的古罗马人、公元前 200 年的古希腊人，甚至公元前 1100 年的中国人。但不巧的是，当时的测量仪器都不够精确。拉普拉斯手头的数据是错误的，但他是怎样还能够探索这些含有错误的数据的呢？

拉普拉斯着手研究这个问题的角度也是典型贝叶斯式的。他知道此前数个世纪天文学家的观察结果，而且需要从中推断错误的原因 —— 天体在天空中真正的位置。在意识到这个问题的结构之后，即使他当时似乎还没有听到有关贝叶斯的发现的风声，拉普拉斯还是正面进攻了这个逆概率问题。1774 年，拉普拉斯发表了《论事件原因存在的概率》（Mémoire sur la probabilité descauses par les événements

）。这是多么出色的文章！他在论文中结合了棣莫弗之前的工作、拉格朗日创造的分析工具以及他本人的才华，以最广泛、最壮丽的方式确立了贝叶斯公式。

拉普拉斯的兴趣并不止于天文学。在之后的岁月里，他将想法发表在了两部著作中。在书中，他将数学延伸到了通常的应用领域以外。拉普拉斯还特别提出，除了可以将他的概率理论应用到天文学等自然科学之外，还可以应用到社会科学、目击证词、医学检验、法庭审判、人口普查等许多其他问题上。拉普拉斯还亲自利用自己的新理论来研究新生儿的性别，这让他以很高的置信度得出了结论：新生儿更可能是男孩而不是女孩。

对拉普拉斯来说，概率推理不过是常识的数学化。他肯定将贝叶斯公式看成思考的正确

方式。然而，他也意识到同时代的人在应用这个公式时会重复犯下某些错误。与他同时代的人的「常识」被谬论侵蚀了。因此，拉普拉斯的著作中有一部分可以被看成认知科学的萌芽。

在他生命最后的时光中，拉普拉斯同样发展了非贝叶斯式的统计方法，它们特别依靠于他证明的中心极限定理。所以拉普拉斯也理解，对于足够大的数据集来说，这种频率主义式的做法等价于贝叶斯主义式的做法。出于处理大量数据时的便利性，拉普拉斯最终更倾向于在众多实践事例中利用非贝叶斯式的方法。拉普拉斯是一位实用贝叶斯主义者。

拉普拉斯接续法则

现在我们先讨论拉普拉斯 1774 年的文章中最巧妙的计算之一。为了展示他关于逆概率的理论，拉普拉斯引入了一个例子，其中有一个罐子，里边有大量白色和黑色纸条。这个例子实际上与贝叶斯提出的那个问题非常相似 —— 学数学的人会说，这两个问题是同构

的。假设罐中白色纸条的比例是未知的，拉普拉斯从罐中随机抽取了一张纸条，那张纸条是白色的。我们可以对罐中白色纸条的比例有什么想法？如何解释抽取的纸条是白色的？抽出一张白色纸条的原因是什么？

频率主义的斗士费希尔很可能就会举手投降，说这个问题毫无意义。对费希尔来说，这是一个非统计学、非科学的问题，甚至是一个没有意义

的问题。

拉普拉斯可不这样想，他提出了一个聪明的想法，就是以抽纸条之前对白色纸条的比例的偏见

为出发点。拉普拉斯进行了先验的假设，认为白色纸条的比例是 0 和 1 之间的一个（均匀分布的）随机数。要注意到，拉普拉斯的这一随机变量并不代表真实的不确定性，而是代表了他（主观上的）无知。

无论如何，拉普拉斯之后进行了贝叶斯式的推理，目的是根据抽出纸条的颜色来更新他的偏见。在应用贝叶斯公式（其实是拉普拉斯自己的公式）之后，拉普拉斯得出了这样的结论：白色纸条的后验比例仍然是一个在 0 和 1 之间的随机数。但如果要预测从罐中抽出的下一张纸条的颜色，那么他会向白色这个可能性赋予 2/3 的概率。

在更一般的情况下，如果之前已经抽取出 张白纸条和 张黑纸条的话，对于下一张从罐中抽出的纸条，拉普拉斯会向「它是白色的」这个可能性赋予 的概率。这就是拉普拉斯接续法则

，可以由贝叶斯公式推导出来。

不巧的是，我在本书中无法展开叙述拉普拉斯的贝叶斯式计算需要的分析工具，但我强烈建议有兴趣的人去看看他写于 1774 年的那篇文章第 30 页中的问题 1，该文章可以在互联网上免费获取。

拉普拉斯的天才之处在于结合了两种随机性：抽取纸条的随机性，以及为拉普拉斯对白色纸条比例的无知而建模的随机性。如果与拉普拉斯同时代的人肯花时间理解他对这个问题的解答中的精妙之处，科学与科学哲学的历史可能会出现又一个转折点。

比如说，拉普拉斯的接续法则使他最终能回答休谟的问题：已知连续 天太阳照常升起，我们能否相信明天太阳仍会升起？

如果把每一天看成一张纸条，黑色纸条对应太阳升起，白色纸条对应太阳没有升起，那么有 以及 。所以，假如应用拉普拉斯的贝叶斯理论的话，我们就可以根据这些数据预言明天太阳不会升起的概率等于 。

拉普拉斯援引《圣经》，选择了相当于 5000 年的天数作为 值，这让他得出明天太阳不会升起的概率大概是一百万分之一。面对这个荒唐的结果，拉普拉斯立刻补充道：「考虑到在世界万事中存在司掌昼夜与季节的原则，且尚没有任何事物能阻碍其运转，这个数目（一百万分之一）还是太大了。」贝叶斯主义者在细化预测结果时，应该考虑自己的所有知识。

不巧的是，尽管写出了这样的评注，拉普拉斯的预测仍然引来了暴风骤雨般的批评。这个预测惹来了一遍又一遍的嘲笑，这让很多人对拉普拉斯的概率理论嗤之以鼻。拉普拉斯这个不幸的预测可能是贝叶斯主义在之后两个世纪式微的主要原因。然而奇怪的是，依照现在的知识来看，拉普拉斯的公式实际上准确得惊人！

首先，我们必须修正拉普拉斯的 值。今天，我们知道了太阳每天升起已经持续了大约 50 亿年。这样的话，拉普拉斯的公式就告诉我们，太阳明天不会升起的概率大概是两万亿分之一。特别是，我们其实也预测了太阳在数十亿年后就不会再升起了。然而令人饶有兴味的是，天体物理学家今天也告诉我们，太阳在 50 亿年后会变成红巨星，膨胀到把地球吞噬。即使并非出于太阳向红巨星转变的原因，拉斯卡尔的模拟也指出，地球这颗蓝色行星最终会在数十亿年后脱离轨道。真是不可思议！现代物理学给了我们两个认为拉普拉斯的预测正确的理由！

有人可能认为这是一个无法解释的神奇巧合。这毋庸置疑就是运气，因为拉普拉斯的预测本质上是概率性的 —— 什么都可能发生！另外，如果将同样的推理应用到宇宙未来是否会消失这个问题上，那么最终似乎会失败。雪上加霜的是，我在这里的阐释也不完全符合贝叶斯主义 (1)

。然而，这个巧合其实并不像人们朴素的想象那么神奇。想象一下，我们现在希望根据某人的年龄预测他的寿命。拉普拉斯的方法得出的预测就是，这个人接下来还能活上和他目前年龄一样的年数。当然，如果这个人是新生儿或老人，那么这种预测就很有问题了。然而，这不太可能发生。在绝大部分情况下，我们碰到的是 20 岁和 60 岁之间的人，由此预测的人类寿命大概在 40 岁和 120 岁之间。

更妙的是，假设人类寿命等于 100 岁，而各年龄段在总人口中的占比不相上下，那么概率计算给出的结果就是，人类预期寿命的平均预测结果刚好是 100 岁 (2)

！

这个神秘的现象被作家艾伯特·戈德曼称为林迪效应

，后来数学家伯努瓦·曼德尔布罗和统计学家纳齐姆·塔利布也沿用了这一名称，这个名字源自一个叫作林迪（Lindy's）的餐馆，喜剧演员经常在那里讨论怎样才能在演艺界坚持更长的时间。戈德曼注意到，某位喜剧演员之后出现在餐馆的次数与他已经出现过的次数成正比。曼德尔布罗补充道：「无论某人已产生的工作量有多少，日后其工作会增加同样的工作量。」然后塔利布对这个经验观察结果做出了解释，他在这里用的是所谓的幂律

，它无处不在，比如令人惊异的齐普夫定律

（Zipf's law）就是其中一例。它预言了在一篇文章中出现频率排第 位的字母，其出现频率大概就是出现频率最高的字母的 分之一。

拉普拉斯的接续法则有着无比惊人的大量的实际应用，其中之一就是让人们在第二次世界大战中根据俘获的纳粹坦克的序列号，推断出坦克的总数。贝叶斯主义的寒冬

不幸的是，科学在当年还没有发展到那一步。19 世纪的智者并没有看到贝叶斯推理那令人醉心的有效性，而是几乎一致否定了拉普拉斯的逆概率。数学家乔治·克里斯特尔断言：「（这些概率）已经死了，我们应该将它们体面地埋葬在看不到的地方，而不是在课本和试题中介绍它们…… 我们应该允许自己悄悄忘却伟人的鲁莽之处。」

对于拉普拉斯方法和理论中存在主观置信度这一点，其他人的反应更刻毒。哲学家约翰·斯图尔特·密尔对拉普拉斯提出了批评，将他的哲学形容成「心智失常」甚至是「自称科学，其实是无知」。

除了被约瑟夫·贝特朗在战争的不确定性中用于决策，以及被亨利·庞加莱在德雷福斯事件中用于排除定罪证据的有效性以外，拉普拉斯的置信度和贝叶斯公式似乎在科学领域中销声匿迹了。

20 世纪初的情况变得更糟糕，而此时涌现了频率学派的统计学家埃贡·皮尔逊、耶日·内曼和罗纳德·费希尔。即使这些天才互不理解，却都同意应该终结贝叶斯和拉普拉斯理论中的主观性。费希尔疯狂地侮辱了这些理论，用上了「谬误的垃圾」这种字眼，而内曼在他自己的置信区间理论中完全略去了所有贝叶斯式的概念，因为「如果理论的建造从一开始就不涉及贝叶斯主义和先验概率的话，任何理论都会更漂亮」。自此之后，在几乎整个 20 世纪中，「主观」「先验」和「贝叶斯」这些术语被驱逐出了统计学系。

但贝叶斯主义没有死。有几个坚定不屈的人，比如埃米尔·博雷尔、弗兰克·拉姆齐和布鲁诺·德·菲内蒂，他们认为主观概率是理解赌博必不可少的数学工具。然而，他们在当时是相对来说被忽略的一群人。

费希尔在贝叶斯主义上的劲敌是地理学家哈罗德·杰弗里斯。费希尔将他的频率主义理论出色地应用在遗传学的实验中，但杰弗里斯从中看到，频率主义如果用在地震学上会出现严重的局限性。实际上，为了研究地震波的传播而重现地震，这可相当困难…… 对地震的测量稀少而模糊，但在得到贝叶斯方法这一武器后，杰弗里斯就知道应该如何解释他获得的数据，并由此确定地震中心，甚至正确猜测出地球的内部是液态的。然而，费希尔否认贝叶斯方法科学性的汹汹之势淹没了杰弗里斯的心平气和。

贝叶斯主义拯救盟军

第二次世界大战打响之时，学术界的统计学家都是反贝叶斯主义者。但在学术界以外，统计学的地位也不怎么样。英国政府认识到破译纳粹密码可能成为战争的关键，他们为此优先聘请的是文字工作者、艺术家和历史学家。幸运的是，英国数学家也加入进来，他们自称物理学家来博取英国政府的关注。相反，统计学家却被忽略了。这可能是件好事，因为被这些「真正」的统计学家唾弃的贝叶斯公式将成为此次行动的关键。

第二次世界大战用的是一种新的密码术，也就是机械密码。纳粹军队专用的密码机叫作恩尼格玛密码机（Enigma）。恩尼格玛密码机与打字机类似，其特点是将输入内容加密并打印出来。更妙的是，要解密某段密码，只需要将它输入机器即可。

好吧，并不完全是这样。这种机器的加密和解密方式依赖于机器配置。纳粹军队每天都会使用不同的机器配置，然而，恩尼格玛密码机在出厂时就包含上百万个配置方式。更大的问题在于纳粹军队手中的机器还有额外的功能，可以大大扩充恩尼格玛密码机的可能配置总数，差不多有数万兆（）种。要测试所有这些配置简直是痴心妄想。

在温斯顿·丘吉尔等人的推动下，英国政府逐步了解到，数学将是破译这些敌方密码的关键。在布莱切利园，一支梦之队就此结成，其中包括了彼得·特温、戈登·韦尔什曼、德里克·汤特、比尔·塔特、马克斯·纽曼、杰克·古德，当然最重要的还是伟大的艾伦·图灵。

我们会在之后的章节中谈到图灵在 1936 年关于可计算性理论的大量发现。但当时，正如电影《模仿游戏》（Imitation Game

）中描述的那样，图灵很快理解了应该如何将大量计算步骤自动化，从而破译恩尼格玛密码机。这让他能够建造名为「炸弹」（Bombe）的机器，这种机器每天都能破译纳粹陆军和空军的密码。然而，纳粹海军用到了更高级的恩尼格玛密码机，而要破译它的话，「炸弹」的速度不够。更糟糕的是，纳粹当局用的密码更为复杂，其原型不是恩尼格玛密码机，而是洛仑兹（Lorenz）密码机。

图灵接受的第一个挑战就是说服英国当局，无论是纳粹海军的恩尼格玛密码机还是纳粹当局的洛仑兹密码机，都是可以破译的，而且，破译这些密码的投资并不会毫无回报。英国当局在很长一段时间内并不信服。这些密码似乎过于复杂，而要破译它们，无论是在时间、人力还是硬件上都要付出高昂的代价。然而图灵的结论是，这些都是值得的。

丘吉尔最后被说服了。他后来承认：「战争中唯一真正令人恐惧的，就是（纳粹海军的）潜水艇带来的危险。」这些潜水艇已经击沉了大量从大洋彼岸驶来的补给船舶。杰里·罗伯茨上尉补充道，如果这种情况长期持续下去的话，「英国可能，甚至非常可能陷入饥荒并输掉战争」。而破译洛仑兹密码机则可以让英国直接知晓阿道夫·希特勒的意图与策略，特别是有助于知道他究竟预计英军会在法国加莱还是诺曼底登陆。

图灵的研究得到了绿灯放行，接下来就要找到正确的想法了。你可能猜到了，答案就是贝叶斯公式。图灵找到了一种试探性的方法，能以定量的方式应用贝叶斯公式。图灵用的单位叫班伯里（banburismus），简称班（ban）—— 这其实是一座城市的名字，它提供了用于尽可能将相关计算自动化的物资。战争落下帷幕之后，图灵于战争期间在美国遇见过的一位数学家克劳德·香农提出了班伯里的一种变体，赋予它一个今天人们耳熟能详的名字：比特（bit）。我们之后会再谈到这一点。

现在，我们先回到图灵和第二次世界大战。每当某个恩尼格玛密码机的配置方式似乎能够部分解码某条信息的时候，这个配置就会获得班伯里值，或者说是贝叶斯置信度。图灵将不同配置方式的班伯里值结合起来考虑，就能够将搜索引导到优先测试更有希望的配置上。我在这里大大简化了对相关过程的叙述，但这个过程的确能让解码速度大大提高。最后，图灵及其同事与他们的机器逐渐能够解读纳粹的大部分信息。

历史学家哈里·欣斯利断言，英国数学家的工作「将战争缩短了至少两年，甚至四年」。有人甚至认为，如果没有他们的话，战争的结果并不明朗。更无可非议的是，图灵和同事的数学工作，以及对贝叶斯公式的适时应用，拯救了数千万人的生命。

然而，战争落下帷幕之后，这一切都被保密。温斯顿·丘吉尔用尽一切办法确保这种保密状态。他下令销毁所有可能暗示纳粹密码曾被破译的文件，并将贝叶斯公式（以及图灵的那些机器）深深地埋藏了起来。

频率主义海洋中的贝叶斯孤岛

战争之后，「贝叶斯」这个术语仍然是一种侮辱。在 20 世纪 50 年代，一位美国统计学家半开玩笑地说某位同事是「反对美国的，因为他是贝叶斯主义者，而贝叶斯主义会让美国政府失去威信」。另一位统计学家补充说：「贝叶斯主义统计学家还不够贝叶斯。如果他们追随贝叶斯的脚步，只在死后发表文章的话，我们就能避免很多问题了。」大学中的统计学系对贝叶斯主义的反对尤为深切。在战争中与图灵并肩使用贝叶斯公式的杰克·古德曾经尝试弘扬贝叶斯方法的好处，但人们一次又一次对他的话充耳不闻。

贝叶斯的火焰却在远离学院的地方重新燃起，这要归功于亚瑟·贝利这位富有魅力的美国精算师。估算人的一生中的随机事件对于决定保险价格来说至关重要。某项风险的概率越大，为这项风险提供保障的代价就越大，所以保险价格也应该越高。然而，这些概率并非基于费希尔的 值，而是通过某些难以理解的公式计算而来的。知道这些公式来源的精算师十分稀少，但所有人都察觉到这些公式都会给出一致的结果。精算师的计算很有效，但没有人知道为什么！受频率主义学派训练的贝利对此相当震惊。

然而，贝利最终发现这些奇怪的精算公式，比如我们在之后的章节中会看到的神奇公式，与贝叶斯公式有着神秘的相似之处。在经过一年的怀疑之后，贝利最终拥抱了作为保险定价基础的这些类贝叶斯式的推断方法，甚至将自己接受的频率主义教育抛诸脑后，发起了反对费希尔方法的运动。1950 年，贝利发表了一篇论文，将作为精算基础的信度理论与拉普拉斯、普赖斯和贝叶斯的工作联系在了一起。他在文章中高度赞赏了主观概率的概念，宣布频率主义的「暴政」将会终结。不幸的是，在打出反对费希尔的旗帜不久之后，贝利就因为心血管疾病去世了。

还有两个半学者有着贝叶斯式的思考方式。我们先从那半个贝叶斯主义者说起。在第二次世界大战之前，安德烈·柯尔莫哥洛夫在 1933 年最终提出了一套公理，可以作为概率论的基础。对于柯尔莫哥洛夫来说，最重要的不是对概率意义的诠释，而是处理概率的规则。但即使柯尔莫哥洛夫自称倾向于频率主义，当他被迫将其概率理论应用到军事策略中时，他所发展出的一种推理方法，与一个世纪以前贝特朗的方法完全一致。

在第二次世界大战之后，概率论的数学形式化让丹尼斯·林德利和伦纳德·萨维奇开始否定费希尔的频率主义统计学。与之相对的是，贝叶斯公式是柯尔莫哥洛夫公理的直接推论，因此它在数学上有着坚实基础。此外在 1958 年，林德利发表了一篇论文，证明了被称为「信念推断」的一种费希尔的概率推断方法自相矛盾。林德利敢于拒绝向费希尔俯首称臣，他是正确的。由此大获全胜后，林德利成了倡导贝叶斯主义的活跃分子，宣称所有统计都是贝叶斯公式的某种特殊情况或近似，并在英国建立了数个偏向贝叶斯主义的统计学系。

轮到萨维奇了，他在 1954 年出版了《统计学基础》（The Foundations of Statistics

），在书中他对概率的主观诠释进行了辩护。萨维奇与其他人不同的地方在于，他将贝叶斯公式当作「救世主」。萨维奇并不像其他人那样认为贝叶斯公式不过是众多推理工具之一。对他来说，贝叶斯公式就是唯一

的推理工具。正确的推理就是根据贝叶斯公式进行的计算，而所有妥协都是非理性的（但有可能在实用主义上是合理的）。萨维奇对贝叶斯主义有着宗教般的信仰。

当人们问萨维奇这会不会给科学的客观性带来疑问时，他的回答是，客观性就是科学共同体中涌现出的共识，当积累的数据足够多时，这种共识就会出现。然而，萨维奇也补充道，这也是定义客观性的唯一方式。对于萨维奇来说，频率主义的方法并不客观，因为这些方法总是需要对统计结果进行解释，甚至对频率主义具体方法加以选择。此外，费希尔对统计分析的客观化尝试，尤其是他的信念推断，最终还是「一种顽固的尝试，想煎出贝叶斯的煎蛋，又不想打破贝叶斯的鸡蛋」。可叹的是，像贝利一样，正当推广贝叶斯主义的运动如火如荼之际，萨维奇死于了心血管疾病。

被实干者拯救的贝叶斯主义

贝叶斯主义统计学家没有感受到理论家的那种不安，照样推动了众多领域的变革，在这些领域中，频率主义的方法似乎不敷应用。特别是罗伯特·施莱弗和霍华德·赖法以冯·诺伊曼和莫根施特恩的博弈论为基础，结合了效用理论和主观概率，发展出包含不确定性的决策理论。由此，施莱弗和赖法将哈佛商学院转变成贝叶斯主义的温床。在他们的专著出版后不久，各商学院就以学习和教授贝叶斯统计而自豪，诺贝尔经济学奖也多次颁发给贝叶斯主义研究者，如约翰·豪尔绍尼和罗杰·迈尔森，我们会在之后的章节中再谈到。

贝叶斯统计的神奇之处在于可以处理数据稀少的情况。1950 年，某位经济学家询问统计学家戴维·布莱克韦尔应该如何推算五年内发生另一场世界大战的概率。作为一位频率主义的好学生，布莱克韦尔这样回答：「啊，这个问题毫无意义。概率只对由可重复事件组成的长序列有效。但这显然是独一无二的情况。概率要么是 0，要么是 1，但五年之内我们不会知道这个概率。」经济学家这样回答：「我就怕你这样说。我跟另外几位统计学家谈过，他们都这样说。」后来，在理解了频率主义统计在预测能力上的缺陷之后，布莱克韦尔归顺了贝叶斯主义。

贝叶斯统计的另一个重要应用，就是研究烟草在导致肺癌方面的危害。开展这一流行病学研究的英雄是杰尔姆·科恩菲尔德。科恩菲尔德首先遇到的就是来自反贝叶斯主义者内曼和费希尔的猛烈批评。特别是费希尔，他指责科恩菲尔德的研究中缺少频率主义方法要求的对照组和重复实验。众所周知，费希尔接受了烟草行业的资助，试图否定烟草的危害。他甚至提出了这样的假设：肺癌会使人倾向于吸烟！正如林德利那样，随着时间流逝，科恩菲尔德最后还是获胜了。科学共同体得到了统一的结论：吸烟是导致肺癌的重要危险因素。

约翰·图基则将贝叶斯统计应用到总统选举结果的预测中。1960 年，尼克松与肯尼迪的选举得票不相上下，胜负难分，没有一家电视台敢宣布最终的结果。在凌晨两点，图基最终给美国全国广播公司（NBC）电视台开了绿灯，让他们宣布肯尼迪的胜利。但直到早上 8 点，电视台才鼓起勇气正式宣布这一结果。图基利用的方法长期以来都是秘密，尤其是作为统计学教授，他不肯承认方法中有着贝叶斯的成分。

近十几年来，贝叶斯方法可谓一帆风顺，特别是在 2008 年，内特·西尔弗成为历史上第一个正确预测美国 50 个州的选举结果的人。西尔弗在 2016 年的预测就没有那么亮眼了，我们之后会再谈到这一点。

同样，很多人在遇到稀有事件这种不确定性时，为了寻找问题的实用解决方案，都不可避免地转向了贝叶斯公式。诺曼·拉斯穆森正是如此，他以贝叶斯置信度为工具，估计了核电站发生重大事故的概率；而美国国家航空航天局则聘用了一个机构，该机构利用贝叶斯主义的工具，预测火箭发射出现重大事故的概率是三十五分之一。这远远大于美国国家航空航天局自己预测的十万分之一的概率，也更贴近现实。

然而，直到 20 世纪 90 年代，贝叶斯主义的这些成功仍然罕见且不一致，但这是有理由的。贝叶斯式的计算既冗长又困难，很快就超出了数学公式的实用范畴，其中经常需要计算没有闭式的积分。贝叶斯主义似乎前途大好，但并不一定实用。使相关计算更广泛、更容易应用的理论的出现，很快就改变了整体情况。最终还是贝叶斯主义胜利了！

贝叶斯主义的胜利

20 世纪 60 年代，雷·所罗门诺夫将图灵的可计算性理论与贝叶斯公式结合起来，这就是人工智能一般性框架的前身，我们在下一章还会以更长的篇幅介绍他。就像在他之前的人那样，所罗门诺夫对频率主义和频率主义大师怀着深深的敌意：「科学中的主观性通常被认为是罪恶…… 如果它出现，那么结果就完全不是‘科学'。这就是统计学大师费希尔的意见。他希望让统计学成为‘一门真正的科学'，完全脱离其中曾存在过的主观性。我认为费希尔在这个问题上犯了严重的错误，他在这个领域的工作严重破坏了科学共同体对统计的理解 —— 从这种破坏中恢复过来的速度太慢了。」不幸的是，所罗门诺夫的想法长期以来处于纯粹理论的状态，因为他没有必要的机器对这些想法开展实验。

然而，计算机甫一出现，贝叶斯主义就终于等到了神圣的重生。弗雷德里克·莫斯特勒正是最初利用这些新工具来解决贝叶斯难题的几个人之一。然而，特别是从 20 世纪 80 年代开始，所谓的蒙特卡罗方法

（Monte Carlo）的出现，特别是马尔可夫链蒙特卡罗方法

（Markov - Chain - Monte - Carlo，以下简称 MCMC），给贝叶斯公式的实际应用带来了革命。与其精确计算那些无法用数学公式表达的积分，蒙特卡罗方法能够利用抽样进行积分的近似计算。而一个名为吉布斯抽样贝叶斯推断

（Bayesian inference Using Gibbs Sampling，简称 BUGS）的程序更是宣布了贝叶斯主义的最终胜利，而近年来出现的深度学习以及其他机器学习方法也从贝叶斯的先验概率中获益，这些方法也许会导致人类历史上翻天覆地的社会变革。

最后，在近几十年中，贝叶斯公式和贝叶斯主义的框架似乎给我们对智能的理解带来了变革，无论是关于人工智能还是人类智能。犹地亚·珀尔、杰弗里·欣顿和迈克尔·乔丹等计算机科学家，还有乔希·特南鲍姆、卡尔·弗里斯顿和斯坦尼斯拉斯·德阿纳等神经科学研究者，都将贝叶斯主义视为所有认知形式无法回避的支柱。我们之后会再讨论这一点。

贝叶斯无处不在

本章的结尾正适合回顾一下历史上贝叶斯统计学那宽广得让人难以置信的应用范围。我们可以写出这样的名单，排名不分先后：医学诊断、遗传学、流行病学、天体物理学、生物学、政治、战争、密码学、地理学、神学、博弈、保险、赌博、决策、经济、航空航天工程、人工智能、神经科学……

这些都是我们在本章中谈到过的领域。但贝叶斯公式的应用远远超出了这张名单中的内容。我们还可以加上（排名仍然不分先后，而且并不全面）：运动、心理学、考古学、古生物学、教育、社交网络、自动翻译、信号处理、基因组测序、蛋白质研究、资源分配、通信、图像分析、广告、金融、规划、物流以及许多其他领域……

不巧的是，这一章实在太短，我们无法真正探索贝叶斯理论的动荡历史中的那些波折。但凑巧的是，维基百科和 Less Wrong 这类网站上有着丰富的资源，可以让我们了解得更多。但我强烈向你推荐本章开头谈到过的那本莎伦·麦格雷恩的优秀著作。这本书展示了科学的进程并非一条静静流淌的长河。学习是一支舞蹈

，充满了波折回旋。但这支舞蹈似乎不可避免会走向进步，而这里的进步似乎就是接受贝叶斯方法。

(1)

这里涉及的是后验平均值，也就是说，所有对未来的预测都基于平均后验概率。与之相对，纯粹贝叶斯主义者会将所有关于太阳明天会消失的可信的后验概率进行积分，这会得到太阳寿命的数学期望无限大的结论。然而，数学期望并不能很好地概括纯粹贝叶斯主义者的后验置信度。这样的话，纯粹贝叶斯主义者的后验中位数恰好与平均后验概率期望值处于同一数量级。用数学语言来说，如果我们假设太阳某天消失的概率是 ，并将某天消失的概率是 ，并将太阳的寿命记作 的话，我们计算的就是 。真正的贝叶斯数学期望是 ，而贝叶斯中位数是使得 的 的值。

(2)

的确，如果设 ，而令 为随机



选取的某个人的年龄，那么对预期寿命的预测就是 ，然后对所有 的值进行积分就能得到预测的平均值。我们会得到



我对这一领域早有兴趣，这来自我对科学和数学的迷恋。然而，在学习几何学时，我最感兴趣的是证明是如何被发现的，而不是定理本身。同样，在科学中，我出于兴趣首先关注的是各种事情是如何被发现的，而不是这些发现的具体内容。金蛋不如会下金蛋的鹅那么令人兴奋。



。

雷·所罗门诺夫（1926—2009）



## 0701. 所罗门诺夫妖

非人类，也非机器

我有幸亲自对纯粹贝叶斯主义进行了思考。我一步步切实感受到，唯一的

知识哲学应该是贝叶斯公式与理论计算机科学的某种巧妙结合。但在很长一段时间里，我不知道如何将这两块「拼图」组合起来。尽管我已经着手写这本书，但我对此仍然毫无头绪。

然后，我读到了雷·所罗门诺夫。

这是我人生中最重要的时刻之一。我完全被吸引住了。我感觉到一幅宏大拼图的所有碎片就在我眼前完美地拼合在了一起，令我瞠目结舌，我多年来追寻的知识哲学的「圣杯」显露出了身影。真是难以置信！为了得到知识，只需进行所罗门诺夫的贝叶斯计算 —— 而其他途径很有可能通向失败。这就是纯粹贝叶斯主义者每天进行的那种计算。

不幸的是，所罗门诺夫的纯粹贝叶斯主义要求的计算非常复杂。我们那位纯粹贝叶斯主义者不可能是人类。更糟糕的是，这些所需的计算甚至超越了所有计算机的能力，因而同样不能由机器来完成。纯粹贝叶斯主义者既不是人类，也不是机器。如果我们承认丘奇–图灵论题的话，那么纯粹贝叶斯主义者只可能是超脱物理定律的妖精。

鉴于所罗门诺夫在 20 世纪 60 年代才华横溢的工作，在本章中，我会将这个实体称为所罗门诺夫妖。但在讨论它之前，我们必须回溯几十年的时间，引入思想史上最令人赞叹的概念之一。

算法基础

在 20 世纪初，数学正处于危机之中。伯特兰·罗素刚刚发表了以他名字命名的悖论。这个具有毁灭性的悖论表明，要将数学建立于坚实的基础之上实在无比困难。在缺少这种坚实基础的情况下，数学就像一座纸牌屋，稍有触碰便会轰然倒塌。戴维·希尔伯特也意识到了这一点。加固这座纸牌屋必须成为逻辑学家和数学家的最优先目标。弗雷格、康托尔、皮亚诺、罗素、怀特海、勒贝格、策梅洛、弗兰克和塔斯基，他们只是参与这项艰巨任务的伟大智者之中的一部分人。数十年来的工作累积成了对外行来说越来越晦涩难懂的著作。但希尔伯特仍未放弃。「我们必须知道，我们必将知道」，他在广播中发出了这一宣言。

但在 1931 年，一位 25 岁的年轻逻辑学家令希尔伯特的期望化为乌有。他通常被认为是历史上最伟大的逻辑学家，他就是库尔特·哥德尔。哥德尔证明了逻辑学家的一切努力都是徒劳无功的：数学的任何基础都必定只是一座纸牌屋。我们永远不可能证明这些基础无法动摇。这就是哥德尔（第二）不完备性定理。

尽管无法给希尔伯特和数学界带来安慰，但哥德尔的工作以及其他逻辑学家构筑的形式逻辑有着很好的眼光，涉及第 3 章谈到的那些符号推演规则的重要性。从非常形式化的角度来看，数学可以由此归结为一门非常精确的语言，其句法和语法都非常严格。这门语言（假设它没有矛盾）中的语句可以就此分为 4 个类别：可证明、可否证、不符合句法、无法判定。另外，给定一个语句，要确定它属于哪个类别，相当于询问是否存在某个符号推演的序列可以从所谓的公理，即被承认正确的由符号组成的语句出发，最终到达给定的语句（或它的否定）。

也许正是形式逻辑这种对符号推演的研究，让库尔特·哥德尔、阿朗佐·丘奇和艾伦·图灵各自独立发现了一串「在物理学上可行」的符号推演的三个不同定义。哥德尔定义了一般递归函数这一类别，丘奇引入了 λ 演算，而图灵则发明了今天以他的名字命名的计算机器。令人震惊的是，丘奇和图灵发现，所有这些定义实际上都是等价的！

这项发现如此深刻，使得丘奇和图灵提出了所谓的「丘奇–图灵论题」。这一论题断言，所有「物理上可行的操作序列」「纯粹机械化的符号推演」「机器实行的计算」以及「算法」的概念，实际上都等价于哥德尔、丘奇和图灵的定义。正如斯科特·阿伦森说的那样：「如果你花上足够长的时间来思考这件事的话，最终就会得出结论：所有计算都可以通过图灵机完成。」

艾伦·图灵的基本定理是理论计算机科学的基础，它证明了所谓通用图灵机

的存在性。这种通用图灵机可以模拟任意图灵机，因此它能计算哥德尔的一般递归函数以及丘奇的 λ 演算可以计算的所有东西。换句话说，存在这样一台机器，只要让它执行正确的代码，它就能够完成可以想象的任何（符合物理的）计算。

从表面上看，我们可能会认为，对这个计算的概念感兴趣的人只有那些逻辑或纯理论的研究者，也许还有一些研究模拟的科学家。然而，我们可以将丘奇–图灵论题诠释为这个宇宙的一条物理法则，因为它提出，在宇宙中没有任何计算机器能够解决图灵机不能解决的问题。这个假设牵涉整个宇宙！因此，如果丘奇–图灵论题正确，那么用上整个宇宙的计算能力都不能完成某件通用图灵机无法计算的事情。换句话说，这个宇宙中的所有东西都可以用通用图灵机来模拟。特别是，如果丘奇–图灵论题被证实的话，那么我们的大脑就不外乎是一台图灵机。

丘奇–图灵论题对新技术产业有着深远的影响。这是因为，从计算的意义上来说，既然我们的大脑不可能超越通用图灵机，那么我们不如大力投资通用图灵机的生产。这些名称各异的通用图灵机已经占据了我们的日常生活。我们今天把它们叫作计算机、平板电脑或者智能手机。

「模式」是什么？

无论是在数学、物理还是技术上，图灵机都有着众多应用。但我讨论图灵机不是出于这些原因，而是出于哲学上的原因。这是因为在认识论的意义上，要严格定义数学家经常粗略谈到的「模式」或「规则性」的概念，图灵机似乎是最完美的工具。

考虑以下数列：1, 2, 4, 8, 16。你知道下一项是什么吗？你很可能会猜 16 的下一项是 32，甚至对这项猜测特别有自信。但为什么呢？我只给出了这个数列的一个非常有局限性的抽样 —— 只有 5 个数据点，为什么它之后的项看起来那么容易预测？你对自己猜测的高置信度又有何依据？

你脑海中的论证大概是这样的：1 乘以 2 就能得到 2，将 2 变成 4 也是乘以 2，从 4 到 8、从 8 到 16 也是这样。所以问题中的数列就应该是将前一项乘以 2 得到的。这个模式这么规则而简单，似乎必定会延伸下去。换种说法，存在一个非常简单的算法，也就是计算的规则，可以产生这个数列中的每一项。根据奥卡姆剃刀（我们之后会再谈到），算法如此简洁似乎就是一种几近决定性的论据。

然而，上文中的数列还有一种完全不同的解释方法。我们先画一个圆（图 7.1），然后在圆上取两个点，画出一条通过这两个点的直线。这样圆的内部就被分成了两份。在圆上再取第三个点，然后画出它与之前两个点的连线，我们实际上就画了一个圆内接三角形，把圆分成了三角形和外面的 3 个部分，也就是一共 4 个部分。如果再加上第四个点，画出它与其他三个点的连线的话，圆就被分成了 8 个部分。加上第五个点的话，圆就会被分成 16 份！

图 7.1　逐步添加新的点以及它与之前的点的连线，圆就会被依次分成 1、2、4、8、16、31 份

所以 1, 2, 4, 8, 16 这个数列就对应着每次在圆上添加一个点，然后画出它与其他点的连线之后，将圆划分成的份数。于是，为了得到下一项，我们可以计算加上第六个点之后圆被切成多少份。结果会让你大吃一惊，这个数字是 31，而不是 32 ！所以，这就是补全该数列的另一种方法。

如此一来，我们必须重新考虑一开始应该对数列下一项的猜测赋予多少置信度了。应该给数列添加 31 还是 32 ？存在唯一的正确答案吗？我们对于不同的答案又应该赋予多少置信度？数列的下一项还有没有第三种可能性？

我们仍然觉得，即使数列下一项有充分的理由是 31，而且该项也许还有别的可能性，但 32 仍然是最可信的。我们有没有办法将这种想法严谨地叙述出来？

所罗门诺夫复杂度

1963 年，数学家安德烈·柯尔莫哥洛夫做出了肯定的回答。柯尔莫哥洛夫依靠哥德尔、丘奇和图灵关于计算的概念，定义了一种方法，用于衡量类似 1, 2, 4, 8, 16, 32 和 1, 2, 4, 8, 16, 31 这种数列的复杂度。这种复杂度今天又被称为柯尔莫哥洛夫复杂度，它已成为可计算性理论中的基础概念。

但柯尔莫哥洛夫并不是第一个想到这个复杂度概念的人。所罗门诺夫对此知道得更早，在 1960 年就发表了相关研究的初步报告。所以，把这个概念叫作所罗门诺夫复杂度才更准确！然而，大概是因为所罗门诺夫不巧将他的复杂度与在美国被认为是异端的贝叶斯主义联系在了一起，所以最终还是俄国的柯尔莫哥洛夫的研究结果被广泛阅读和引用。讽刺的是，所罗门诺夫在 2003 年被授予柯尔莫哥洛夫奖，获奖原因正是他发现了柯尔莫哥洛夫复杂度！

因此，从某种意义上来说，本章也是对所罗门诺夫的致敬，我在这里斗胆不沿用被广泛接受的术语，将相关概念称为所罗门诺夫复杂度，而不是柯尔莫哥洛夫复杂度。

粗略地说，所罗门诺夫复杂度就是运行时能生成给定数列的最短源代码的长度。但所有程序员都知道，这段最短源代码的长度取决于采用何种编程语言。用 Java 写的源代码几乎总会比用 Matlab 写的长。所以所罗门诺夫复杂度并没有良好的定义，它依赖于使用的编程语言。如果我们考虑直接用机器语言写成的源代码的话，那么它就依赖于我们考虑的图灵机。

万幸的是，这种依赖性并不太大。这是因为，有一些被称为「编译器」的计算机程序可以将用某种语言写成的源代码翻译成机器语言，或者用另一种编程语言写成的代码。写成一个编译器可能要花很长时间，但它的代码长度是有限的，而且关键在于，这个长度不依赖于需要翻译的源代码。

我们详细探讨一下。考虑两台通用图灵机 和 。令 为一个从 到 的编译器，也就是一段运行在机器 上的代码，它可以将机器 上的源代码翻译成可以在机器 上执行的代码。这个编译器源代码 的长度也就独立于需要翻译的任何代码的长度。

现在假设我们有一段在机器 上运行的源代码 ，它会生成一段数列。我们可以通过下面的方法获得一段在机器 上运行后生成同样数列的源代码。我们首先写出编译器 ，然后写出源代码 ，接下来我们让图灵机 执行经编译器 翻译的源代码 。于是图灵机 就会进行源代码 在图灵机 上执行的那些计算。粗略地说，我们可以将这个过程写成 。也就是说，机器 会生成正确的数列。

更厉害的是，这样得到的在图灵机 上运行的源代码并不比图灵机 上的源代码长多少，它的长度就是 的长度加上 的长度。所以，该数列在 上的所罗门诺夫复杂度至多是它在 上的所罗门诺夫复杂度再加上一个独立于数列本身的常数，如果将数列记作 ，写成公式就是 。将同样的论证用在从 到 的编译器上，就能得到不等式 。我们就此得到结论，除去一个加法常数以外，机器 上的所罗门诺夫复杂度与机器 上的复杂度相同。

虽然这些论证看起来很晦涩，但我们只要记住这一点：一个数列的所罗门诺夫复杂度的确不是一个客观

的量，虽不中，亦不远矣 —— 特别是当我们考虑那些「合理」的通用图灵机时。无论如何，计算机科学家已经习惯了这一点。而且之后我们会再看到，这种所罗门诺夫复杂度的主观性正是所罗门诺夫妖的概率主观性的来源。就像计算机科学家那样，贝叶斯主义者也已经习惯了这一点。

我们回到数列 1, 2, 4, 8, 16。要搞清楚这个数列最「显然」的下一项到底是 31 还是 32，我们可以研究数列 1, 2, 4, 8, 16, 31 和 1, 2, 4, 8, 16, 32 的所罗门诺夫复杂度。根据奥卡姆剃刀，所罗门诺夫复杂度最小的数列就是最可能的答案。当然，因为所罗门诺夫复杂度有主观成分，所以这个问题的答案也是主观的。然而，所有计算机科学家都会觉得，在所有「合理」的编程语言里，接上 32 的第二个数列比第一个「代码更好写」。

实际上，我们的例子对于所罗门诺夫复杂度的直接应用来说还是太简单了。这是因为，在这种情况下，在很多编程语言中生成这个数列的最简洁的方式就是将它一项一项直接写出来。在考虑长得多的数列时，所罗门诺夫复杂度才会变得更重要。

一般来说，如果我们现在考虑的是 2 的前 100 个次方而不是前 5 个次方的话，这时写出整个数列的每一项就变成了繁重的任务。对于所有「合理」的编程语言来说，程序员都可以做得更好，写出一个小程序来逐次计算这些 2 的次方。在这种情况下，这个数列的所罗门诺夫复杂度就显然比数列的长度小，无论用什么编程语言，只要这个编程语言是「合理」的即可。所以，我们可以合理地说这个数列的第 项非常可能是 。

算法与概率的联姻

要研究由精确无误的计算规则产生的数列，所罗门诺夫复杂度的确是个美妙的概念。然而，一旦我们转向经验科学，模糊性和误差的入侵就无法避免。如果数列对应的是物理量的测量或者社会科学中的数据，我们就应该预料到数列的这些项不会与 2 的次方精确吻合。假设我们得到的数列实际上是 0.9, 2, 4.1, 7.9, 15.8，我们现在希望在测量误差为 0.2 左右的情况下预测出一个接近 31 或者 32 的值。

这时就必须用到概率的语言了。尤其是在预测时，与其进行确定性的预测，比如预测数列的下一项恰好是 32，我们更希望做出概率性的预测。通常来说，我们认为 32 是非常可能的，但 31.9 或 32.2 等数字也很有可能。因此，一个定义良好的概率性预测应能计算数列中下一项的所有候选数值的正确的出现概率。

将哥德尔、丘奇和图灵的可计算性理论与贝叶斯、普赖斯和拉普拉斯的概率理论结合起来，我们就得到了关于「一个理论是什么」的全新定义。这个定义正是所罗门诺夫智慧的结晶。对于所罗门诺夫来说，理论就是图灵机上的一段源代码，给定某个数列，它就会计算这个数列出现的概率。

此前为使叙述简单易懂，我只谈到了数列。然而，根据我们之后会谈到的香农的研究工作，所有数据序列都可以翻译成 0 和 1 组成的数列。这些数列又叫作 0 - 1 序列

。因此，计算机科学家认为，一般而言，感官接收的所有数据，无论是眼睛看到的图像、耳朵听到的声音、鼻子闻到的气味，还是中耳测定的平衡感，都可以用一个（非常长的）由 0 和 1 组成的数列 (1)

描述。对于所罗门诺夫来说，一个理论就是一个算法，给定某个有限 0 - 1 序列，就能计算出它的概率。

这种关于理论的定义可能看起来太狭隘。许多公认的科学理论，比如演化理论和牛顿运动定律，看起来都不是能计算 0-1 序列概率的算法。的确如此。从某种意义上来说，我们可以认为这些理论按照所罗门诺夫的标准是过于含混、模糊或者不完整的。

然而，有一个更有趣的观点：现在真正进行概率计算的，正是依据这些理论思考的大脑。我们可以对这些大脑讲述一段演化的历史，然后它就会回答这段历史可信度的估计值。然而，如果我们相信丘奇–图灵论题的话，这些大脑进行的不过是一台拥有适当源代码的图灵机也可以做到的计算。因为我们讲述的演化史可以编码为一串 0 和 1 的数列，所以，一般来说科研工作者（在这个例子中是演化学家）说到底离所罗门诺夫的体系也没有太遥远。

可以说，演化理论和牛顿运动定律都对应着一组子程序，进行预测的算法可以调用这些子程序。实际上，科学中的理论常常就是一组方程，计算机科学家能够利用算法结构为它们建模，然后将这些结构与解方程的算法结合起来，这些算法我们在学校里都学过。这样一来，我们就得到了不同的代码库，对于能进行可信预测的算法来说当然非常有用。

所以我们可以认为，这些至关重要的代码库对应着某种基本法则。科研工作者的日常用语经常将不随时间变化的理论与用于预测的额外数据分开。比如说，物理学家会区分物理定律

和宇宙的物理状态

，计算机科学家也经常将算法的指令

与运行算法时所用的数据

区分开来。我们也倾向于认为物理定律

拥有一种独立于任何物理状态

的真理性（或者有效性）。

然而，图灵证明的正是定律

和状态

在本质上没有区别。毕竟所有指令序列（或物理定律）都可以编码成用于通用图灵机的数据。跟数据一样，任何指令序列（或物理定律）也只是一段信息。约翰·冯·诺伊曼赖以构建现代计算机体系结构的基本原则也正是这一点，它保证了得到的结果是如假包换的通用图灵机。在这一体系结构中，指令

和数据

都是计算机储存中的信息，而它们之间没有本质上的区别。

至此，所罗门诺夫认为，唯一值得关注的信息就是拥有预测能力

的算法的描述。要求算法具有预测能力，是为了明确指出对于奥卡姆剃刀的应用至关重要的「理论的复杂度」概念。这是因为，物理定律本身可能看起来很简单： 这个公式只需要寥寥几个符号，「都是因为外星人」这句话也不长。但这是因为这些法则本身并不具有预测能力。要拥有预测能力，它们就必须与详细程度不等的宇宙物理状态描述结合起来。

正是这一点让我们可以区分不同定律的复杂度。有些定律需要对宇宙状态极为详细的描述才能输出预测，最终就构成了所罗门诺夫复杂度极高的复杂结构。用算法的术语来说，这种定律与对物理状态的描述组合成一段极长的源代码。反之，那些通过对宇宙物理状态的非常简略的描述就可以做出预测的理论远远简单得多，因而在先验上也更可信。

总而言之，所罗门诺夫认为，值得考虑的理论应该包含对宇宙物理状态的（部分）描述，因为它首先必须具有预测能力。在理想情况下，这种理论也应该考虑到给定宇宙物理状态的不确定性，但最重要的是，最终它必须做出（概率性的）预测。毕竟一个理论应该只有给出可计算的

预测才值得考虑。这是因为，如果我们相信丘奇–图灵论题的话，只有这样的预测才能在这个宇宙之中实现。

我们如果跟随所罗门诺夫的脚步，那就也要相信所有值得考虑的理论组成的集合恰好是所有计算 0-1 序列概率的算法组成的集合。正如阿伦森认为「你如果花足够长的时间来思考，最终就会得出结论：所有计算都可以通过图灵机完成」。我现在也这样说，你如果花足够长的时间来思考，最终就会得出结论：任何具有预测能力的理论都是所罗门诺夫意义上的理论。

所罗门诺夫的偏见※

作为合格的贝叶斯主义者，所罗门诺夫接下来提出了要将不同的预测性理论进行比较，判断这些理论各自的置信度。当然，为了做到这一点，首先要在所有对 0 - 1 序列进行概率计算的算法组成的集合上取一个先验概率。为了让所罗门诺夫的这一偏见与贝叶斯主义相容，其中一个条件就是不同的预测性理论的先验置信度之和必须等于 1。

当然，许多方法可以做到这一点。但是，因为拥有 个字符的源代码的数目会随着 呈指数增长，所以从直觉上来说，与较短的源代码相比，较长的源代码的置信度呈指数减少。这实际上就必然相当于使用某种非常强大的奥卡姆剃刀，我们之后会再谈到。

更加实际的情况是，给定某个编程语言或图灵机，要给可计算的预测性理论组成的集合选定先验概率分布，有下面这种非常典型的方法 (2)

。令 为对应着预测性理论的长度为 的源代码数目。我们可以认为所有这样的源代码的先验概率都等于 (3)

。换句话说，某个理论 的先验概率取决于选定的语言中对这一理论的描述长度 ，具体的等式就是 。

特别要提到的是，这个先验概率与所罗门诺夫复杂度密切相关，因为先验概率依赖于预测性理论的描述长度。然而这些描述的长度与选用的编程语言有关，所以它们是主观的

。也就是说，我们刚才将贝叶斯先验概率的主观性与所罗门诺夫复杂度的主观性联系在了一起。根据图灵机的通用性与编译器的存在性，我们得出结论，这些主观性都是随意的…… 但其实也没那么随意！

所罗门诺夫曾如此雄辩地解释道：「长期以来，我感觉我的算法概率理论依赖于一台参考机器的事实是这些概念中的一个严重缺陷，我曾尝试寻找一台‘客观'的通用机器。当我最终找到了这样一台机器时，我发现自己并不需要它 —— 它对我没什么用处！（……）没有数据也能预测，但没有先验概率就不可能预测。」

贝叶斯主义造就所罗门诺夫妖※

现在我们构造了所罗门诺夫的偏见，剩下的就是应用贝叶斯公式来决定那些所罗门诺夫定义下最可信的理论了！假设我们目前为止观察到了一个 0 - 1 序列。某个预测性理论 的贝叶斯置信度可以通过下面的贝叶斯公式得到：

这里的预测性理论 是 的所有替代理论。

然而，这并不是所罗门诺夫妖的目的。它的目的是进行预测，而不是计算置信度，即使这些置信度很有用。要达到其目的，我们可以利用条件概率来计算给定的理论 的预测。根据预测性理论 ，数列 接下来的一项是 1 的概率是

将这两个等式结合起来，我们就最终得到了所罗门诺夫妖的预测结果，正如我们在第 3 章中看到的那样，它是通过对不同理论的预测取加权平均得到的，其中的权重就是每个理论的贝叶斯置信度。我这里省去了一些计算细节，但我希望你也能自己做一遍，最后得到的预测就是：

这个神奇的公式又叫所罗门诺夫归纳法，所罗门诺夫妖为了进行预测而整天计算的正是这个公式！真是难以置信！这个奇妙的公式就是贝叶斯公式最纯粹、最完美的形式。也就是说，纯粹的贝叶斯主义就相当于进行上面的计算，不多也不少！

特别是，一旦选定了图灵机或者编程语言，所有模糊之处就不复存在。理性、思考和预测并不相当于遵循数个模糊、任意且有时互不相容的规则组合，这种事情只有人们难以理解的智者才能做到。智慧可以归结为单纯的计算，而这就是所罗门诺夫妖进行的计算。

所罗门诺夫完备性

所罗门诺夫归纳法的基本定理，就是所罗门诺夫所说的其公式的完备性。粗略地说，所罗门诺夫归纳法的完备性表明，如果数据中存在某种可计算的

模式，那么所罗门诺夫妖最终会发现这一模式，所需时间与模式的所罗门诺夫复杂度成正比 (4)

。

更准确地说，数据越复杂，所罗门诺夫妖为得知其中隐藏的结构所需的信息量就越大。但所罗门诺夫完备性证明了必需的信息量绝不会超过数据的精致度（sophistication），即使隐藏其中的结构带有随机涨落的「噪声」！

对我来说，有了这个基本定理，再加上任何其他方法似乎都不可能比这做得更好或者至少持平的事实，就基本上是支持贝叶斯主义的最终论据了 —— 即使我们必须首先相信所有预测性理论都是所罗门诺夫式的理论，而且最完美的论证应该是证明任何拥有这一性质的方法，必然是某种形式的所罗门诺夫归纳法。

所罗门诺夫归纳法的不可计算性

因此，在这种狂热面前，你可能会提出一个疑问：那所罗门诺夫归纳法岂不终结了对知识哲学的探求？在我看来，大体来说的确如此。但所罗门诺夫归纳法有一个巨大的缺陷，促使我不得不写出本书剩余的内容。实际上，所罗门诺夫归纳法太复杂，难以实际应用。这不仅是我们自身或者我们认知能力有限的问题 —— 你可能还记得，即使是埃尔德什，他也奋斗了一番才理解了贝叶斯公式的一个简单情况 —— 对于计算机也是如此。

所罗门诺夫归纳法是不可计算

的。这是什么意思？这就是说，不存在任何图灵机可以严格地执行这种计算。这个事实有个非常简单的原因，但那无关紧要，而另一个原因却更微妙、更无可挽回。

简单的原因是，要严格执行所罗门诺夫的计算，就必须同时考虑无限个预测性理论，这是出于算法有无穷个这一单纯的原因。然而，没有任何计算机或者计算机网络能进行这种无限长的计算。

话虽如此，我们可以这样回应：根据先验概率的构造，过于复杂的理论对应的概率无论如何都会呈指数递减，因此可以被忽略。如果我们忽略这些理论的话，因为我们知道它们对所罗门诺夫归纳法的预测结果影响有限，那么不就可以做出所罗门诺夫归纳法的一个非常好的近似了吗？不幸的是，这也不行。

所罗门诺夫归纳法真正的难点并不是需要考虑的理论的数目，而是这些理论所需的计算。今天，在计算机上运行的算法一般很快、很流畅，这是因为软件工程师在算法上面花了心思！但一般来说，我们其实很难得知某个算法会不会很快结束，而想要知道它的计算会终止，还是会越来越复杂，永不休止，这也同样困难。

这种算法最惊人的例子之一就是锡拉丘兹猜想，它也叫作科拉茨猜想、乌拉姆猜想、捷克猜想或 猜想。我们向这个算法输入一个正整数。如果这个整数是 1，那么算法就停止；如果它是偶数，那么算法就将它除以 2；如果它是奇数，那么算法就将它乘以 3 再加 1。然后，算法会在得到的结果上重复同一套运算。锡拉丘兹猜想的问题是：无论输入什么正整数，这个算法是否最终都会停止？

看起来无比奇怪的是，我们还不知道这个叙述非常简单的问题的答案，连怎么尝试解决这个问题，甚至连解法是否存在都不知道。大数学家埃尔德什·帕尔这样说：「数学还没有准备好回答这样的问题。」

这可能就是图灵发现的不可计算性的一个例子。在利用图灵机定义计算的概念之后，图灵立即提出了这样的问题：我们能不能在运行某项计算之前就预计到它是否会停止？换句话说，我们能不能构造一台图灵机，它能够在有限的时间内预测出其他图灵机是否会在有限的时间内停止？

你可能觉得图灵的这个问题有点像咬着自己尾巴的蛇，这并不是偶然。在康托尔的对角线法、罗素悖论以及哥德尔不完备性定理的启发下，图灵通过自指论证证明了这些问题的答案都是否定的。我们无法在所有情况下预计计算是否会停止，因此我们说停机问题是不可计算

（或者不可判定）的。

而这对于所罗门诺夫归纳法来说是个大问题。这是因为，要进行所罗门诺夫归纳法，就必须计算不同理论 的预测结果 。在理想情况下，我们应该考虑所有对应的计算会终止的结果。然而，如果我们相信丘奇–图灵论题的话，我们就不可能在物理上断定这些计算是否会终止。所以，这个论证的一个惊人结论就是，经过有限的计算时间之后，不可能排除某些预测性理论的计算仍未终止但终将停止的可能性。

更糟糕的是，我们同样不可能预计这些理论之后可能得出的预测是否会大大改变此前的结果，所以，一般来说我们在有限的计算时间内无法衡量当前结果的有效性。所罗门诺夫归纳法不仅不可计算，而且它的所有近似都不可计算！

所罗门诺夫不完备性

这个令人尴尬的结论给了人们拒绝贝叶斯主义的动机。超脱物理定律与丘奇–图灵论题的所罗门诺夫妖当然可以在一组数据中检测出所有规律，但它在物质世界没有等价物。我们，以及我们的计算机，似乎都很可能受丘奇–图灵论题的制约，所以我们也似乎不可能进行所罗门诺夫归纳法的近似计算。一般而言，我们在物理上永远不可能得出对贝叶斯公式的近似计算的一个合适的置信度。这个智慧方程又有何用？

所罗门诺夫的回答就是他的另一个定理。这个定理断言，所有这样的算法都必然是不完备的。更准确地说，所有可计算的知识哲学都不可能检测出数据中的所有规律。这就是惊人的所罗门诺夫不完备性定理，它比哥德尔的不完备性定理还要让我感到惊艳！

换个说法，无论你的知识哲学是什么，只要它是可计算

的，那就存在某些可能存在的世界会让你上当受骗，你会在其中一直

做出非常错误的预测！可计算性

和完备性

是两种不兼容的性质。

这样的话，所罗门诺夫归纳法不可计算这一糟糕性质恰好让它逃脱了可计算知识哲学的不完备性定理。对于所罗门诺夫而言，这种不可计算性并非病态，而是所有合乎要求的知识哲学必备的性质。

对实用的追求

所罗门诺夫令我赞叹，同时又让我感到绝望。他的理论稳固地建立在计算机科学与概率论最基本的概念之上。所罗门诺夫的构造自然得不可思议。我的意思是，这正是我在长期思考贝叶斯主义时就开始考虑到的，如果我思考的时间足够长，而且拥有足够的认知能力，那么我也会得出同样的构造。但与此同时，所罗门诺夫得出的结论却如此一致、直接、出人意料 —— 尽管我越思考贝叶斯公式，就越有这样的预感……

知识与理性是我们无法企及的。这一限制让我们只能满足于近似，我们甚至不知道怎么衡量这些近似的有效性。更不幸的是，因为我们的计算能力与时间的资源总是有限的（这是物理法则的结果），所以我们只能将自己限制在所罗门诺夫归纳法的一种极粗浅的形式中。

而且，这样的限制会随着观察数据量的增长而越发严重，这就是大数据的情况。今天，我们的数据，无论是数字的还是感官的，都需要用 GB、TB、PB、EB 甚至 ZB 来衡量 (5)

。也就是说，我们在现实中研究的数列 包含着上亿甚至上亿亿项！储存这样的数据已经是一种幻想，而在这种情况下希望对其进行所罗门诺夫归纳法的近似计算就更是痴人说梦。因此，这会迫使我们更加谦虚谨慎。

面对这个令人绝望的情况，这本书剩下的部分与当今科学界、统计学界和人工智能学界一样，只能满足于某种启发性

的知识哲学。我们无法得到完整

的知识，但我们也许仍然可以得到足够

的知识。要做到这一点，在知道如何获得完整

知识的前提下，我们会在本书中尝试从所罗门诺夫妖那里获得灵感，尽量做到贴近它的预测。

因此，自此之后我希望引入另一种哲学（尽管它并不精确）和另一位虚构人物。这种哲学就是实用贝叶斯主义，这个虚构人物就是实用贝叶斯主义者。与纯粹贝叶斯主义者相反，实用贝叶斯主义者在计算资源和储存空间方面都受到限制。因此，对他来说，利用众多迅速、高效的算法计算，胜于花大量时间运行寥寥几个运行时间非常长的算法。所以，实用贝叶斯主义者必须对算法有着切实的认识。

实际上，与纯粹贝叶斯主义相比，实用贝叶斯主义所需的关于计算和信息的理论更精巧、更先进，我们一般将它称为理论计算机科学

，而计算机科学的实验性或经验性领域中关于计算的经验也可以作为理论计算机科学的补充。由哥德尔、丘奇和图灵自 20 世纪 30 年代起草创的这个现代科学领域已经成为当今科学研究中人们理解甚少，却最迷人、最有前途的领域之一。

信息科学并非只是现代技术的实用技巧。实际上，我立志成为有能力的贝叶斯主义者，对贝叶斯主义者而言，要得出最优的使用知识哲学，理论计算机科学的概念就是最重要的工具库 —— 当然，前提是我们已经确实得出了正确的理想化知识哲学。在《量子计算公开课》（Quantum Computing since Democritus

）一书中，计算机科学家斯科特·阿伦森甚至提出要将理论计算机科学改名为量化认识论

（quantitative epistemology）。他特别强调了算法复杂度理论对于所有知识哲学的重要性。

然而，我建议你先将这种对知识哲学的寻求放到一边，我们会从第 14 章开始重新花大量篇幅来探讨这一点。从现在开始，我建议你先观察贝叶斯原则如何无处不在 —— 无论是在密码学、社会学、生物学，还是在科学共识的形成之中都有它的身影。在后面的几章中，我们会稍微离开贝叶斯主义，探索一些看似遥远的领域，但我们会一次又一次地发现，在所有这些变化多端的现象背后，实际上总是潜藏着贝叶斯主义的原则。

(1)

感官接收的信息量估计大概在每秒 和 比特之间，虽然这些信息很快就被大大压缩了。

(2)

这当然不是唯一可以想象的概率分布。但重点在于，因为长度为 的理论数目 会随着 呈指数增长，所以在任何「合理的」偏见中，某个理论的先验置信度都随着其描述的长度增加而呈指数下降。

(3)

从技术细节上来说，我们需要对 的情况进行特殊处理。

(4)

更准确地说，所罗门诺夫完备性定理断定，如果存在某个有待发现的相关理论 ，那么 的所罗门诺夫复杂度就可以作为所罗门诺夫妖的所有预测错误的累计总和的一个上界。如果用第 15 章会谈论的 KL 散度来衡量这些错误的话，对于只用到两个字符的编程语言，我们就会得到

。

此外，我们也能解释休谟的一致性原则，它其实相当于假设基础理论 的存在，但丘奇–图灵论题正好保证了这一点。而在网络广播 Axiome 的第七集开头，我也指出了所罗门诺夫完备性能解决所谓「grue」的逻辑悖论。

(5)

GB（gigabyte，吉字节）、TB（terabyte，太字节）、PB（petabyte，拍字节）、EB（exabyte，艾字节）和 ZB（zettabyte，泽字节）大约分别对应 、、、 和 字节。—— 译者注



你宣称不关心隐私是因为你没有什么好隐瞒的，这就像你说不关心言论自由是因为你没什么好说的。

爱德华·斯诺登（1983—　）

敌人了解整个系统。



克劳德·香农（1916—2001）



