## 0201. 贝叶斯定理

### 2.1 小孩谜题

我们回到那位「钓鱼」学生的谜题上。一位父亲有两个孩子，至少一个孩子是男孩，那么另一个孩子也是男孩的概率是多少？我请你先尝试自己解决这个问题。即使你解不出来，这种智力锻炼对之后的阅读也可能有帮助。

我现在向你展示这个问题的解答，最简单的解法就是列出所有可能的情况。我们将两个孩子叫作小晨和小迪。可能的情况有四种：

小晨和小迪都是男孩；

小晨是男孩，小迪是女孩；

小晨是女孩，小迪是男孩；

小晨和小迪都是女孩。

这四种情况是等可能的，也就是说，它们的概率都一样，虽然这也不太准确。生物学家会明确指出，事实上 51% 的新生儿是男孩 —— 这个结果是拉普拉斯通过贝叶斯式的计算得到的。但我们先简化一下，假设每个孩子是男孩的先验概率是 50%。

但是我们知道小晨和小迪中至少有一个是男孩，前三种可能性符合这个新信息，第四种可能性不符合。所以，我们可以划掉第四种可能性。

现在，如果已知小晨和小迪中至少有一个是男孩的话，那么另一个孩子也是男孩的可能性恰好对应小晨和小迪都是男孩的情况。这就是一个孩子是男孩，而另一个孩子也是男孩的唯一可能性。换句话说，我们尝试计算的，就是在已知其中至少一个孩子是男孩的情况下，两个孩子都是男孩的概率。

这对应剩下三种可能性中的一种。于是，要计算的概率就等于 1/3，而不是 1/2 ！惊不惊人？

1-3『这道题之前在其他地方看到过，所以很快能反应出答案。（2022-12-22）』

我记得第一次详读这个证明的时候（远远在「钓鱼」学生向我提出这个谜题之前），我并没有信服。这个论证是否的确有效这一点并不明确。我们是不是真的可以划掉第四种可能性，只考虑前三个仍然等概率的可能性？

我可以帮你走出这个困境，现在就给你指出思考这个问题的正确方法 —— 当然是应用贝叶斯公式！但是，我觉得现在还是认真思考一下为好。

### 2.2 蒙蒂·霍尔问题

现在我们来考虑蒙蒂·霍尔问题。这个概率论经典问题的灵感来自 20 世纪 60 年代由蒙蒂·霍尔主持的一个叫作《达成协议》（Let's Make a Deal）的美国电视游戏节目。在节目的最后，参赛者必须在三道门帘中选一道。其中一道门帘之后有一辆汽车，其余两道门帘后面是山羊。参赛者选择之后，蒙蒂·霍尔会增加悬念：在参赛者没有选择的门帘之中，至少有一道门帘背后是山羊。然后，蒙蒂·霍尔会将这道背后是山羊的门帘打开。

现在剩下两道门帘，其中一道后面有汽车，另一道后面则有山羊。这时，蒙蒂·霍尔就会向参赛者提出一个新选择：他可以维持自己的选择或者换一道门帘。这位参赛者应该怎么做？他应该遵循一开始的直觉，还是应该改变主意？

跟「钓鱼」学生的谜题一样，我们似乎又落入了去掉一种可能性的相似情况中。我们倾向于认为汽车的所在位置仍然是等概率的，是否改变主意并不重要。

如果你就是这么想的话，要知道在你之前许多顶级数学家都犯了跟你一样的错误。蒙蒂·霍尔问题难倒了很多聪明绝顶的人。1990 年，当玛丽莲·沃斯·萨万特在美国《大观》（Parade）杂志中给出这个问题的正确答案时，一万名读者给杂志写信，断言沃斯·萨万特搞错了，其中一千名读者还持有博士学位。

即使是著名数学家埃尔德什·帕尔，也就是数学史上发表论文最多的人，也不相信沃斯·萨万特的严谨证明。只有在看到模拟结果之后，大为惊讶的埃尔德什才认输。大数学家埃尔德什也不理解贝叶斯公式，他也不是唯一一个不理解的人。

我是在 13 岁的时候遇到蒙蒂·霍尔问题的，我当时并不知道贝叶斯公式。但有一个论证既有足够的说服力，又能让我理解。其实，在选择一道门帘之后，如果你知道自己不会改变主意，那么接下来的结果就像蒙蒂·霍尔没有增加悬念掀起有山羊的门帘那样。你选到汽车的可能性，也就是一开始选择的门帘后面有汽车的概率，等于 1/3。所以如果你不改变主意的话，那么赢的概率就是 1/3。奇怪的是，这个结果说服了我，但我还是不能计算改变主意之后赢的概率。

如果你维持选择却输了的话，也就是说，未选择的门帘背后就是汽车，即蒙蒂·霍尔建议你改主意选择的那道门帘，那么实际上发生的事情是，三次中有两次你一开始选择的门帘后面是山羊。在这种情况下，当只剩下两道门帘的时候，汽车必定在另一道门帘背后。如果你改变选择就能赢，三次中赢两次。

这里的数学原理毋庸置疑。你换一道门帘就能使赢得汽车的可能性加倍！与那些没有花心力慢慢仔细思考这个问题并保留最初选择的人相比，纯粹贝叶斯主义者赢得汽车的可能性是他们的 2 倍。

如果你还没有被这个论证说服，那么我请你以埃尔德什为榜样，自己做个实验。在英国广播公司（BBC）的一部出色的纪录片中，数学家马库斯·杜·索托伊向喜剧演员阿兰·戴维斯提出了蒙蒂·霍尔问题。一脸怀疑的阿兰·戴维斯相信，在重复进行的蒙蒂·霍尔游戏中不改变门帘的选择会有优势，跟绝对会改变的马库斯·杜·索托伊正好相反。在 20 次尝试中，阿兰·戴维斯只赢了 2 次，而马库斯·杜·索托伊赢了 16 次。当然，这些数字似乎不符合贝叶斯理论预言的 1/3 和 2/3 —— 这都是小数定律的错！但好处就是这说服了阿兰·戴维斯自己错了，或者说他至少做到了这一点，因为他似乎并没有明白马库斯·杜·索托伊的解释。

这一局过后，阿兰·戴维斯只是丢掉了一点尊严，要是他知道就连鸽子对蒙蒂·霍尔游戏的理解都比他更正确的话，那他丢掉的尊严就可不止这一点点了。有时候，「误解」贝叶斯公式会导致更严重的后果。萨莉·克拉克就为此在人生中付出了最惨重的代价。

### 2.3 萨莉·克拉克的审判

1996 年，萨莉·克拉克的新生儿在出生两周后就去世了。一年之后历史重演，她生下的第二名婴儿也去世了。萨莉·克拉克被控两宗谋杀罪。儿科医生罗伊·梅多出庭作证，他宣称两名新生儿接连由于自然原因死亡的概率是 7300 万分之一，这段证词给萨莉·克拉克定了罪。

然而在三年之后，人们发现负责尸检的医生阿兰·威廉斯当时没有报告他的分析结果：第二个新生儿的的确确死于自然原因。萨莉·克拉克最终被释放了，但并非毫无遗患，她的精神受到了极大的创伤，四年后死于饮酒过量导致的昏迷。

除了威廉斯医生的疏忽以外，萨莉·克拉克苦难的原因可以追溯到一类对贝叶斯公式的误用，又叫检察官谬误。法官（你可能也）混淆了两名新生儿由于自然原因死亡的概率以及萨莉·克拉克无罪的概率。然而罕见的犯罪证据不一定能作为犯罪指控。

2『检察官谬误，做一张术语卡片。（2022-12-23）』—— 已完成

我们之后会详细讨论检察官谬误，因为它存在于科学方法的大部分经典解释之中。但现在我们就应该强调这是个谬误。犯罪证据很罕见，可能只是因为嫌疑犯的情况特殊而已。萨莉·克拉克遇到的情况罕见无比，两名新生儿死亡的概率本身就极端地低。所以，这两名新生儿由于自然原因死亡的概率只可能同样极端地低。

事实上，英国索尔福德大学数学教授雷·希尔进行的近似计算证明，虽然两名新生儿由于自然原因死亡的概率很低，但这也要比双重谋杀的概率高 5-10 倍。换句话说，贝叶斯公式会迫使我们更强烈倾向于自然死亡的假设，而不是双重谋杀 —— 顺带一提，希尔同时指出了儿科医生梅多的计算中的一个重大错误，那就是他没有考虑两名新生儿的死亡之间的相关性，这一相关性会使贝叶斯计算的最终结论更利于自然死亡的假设。

### 2.4 被判非法的贝叶斯主义

在萨莉·克拉克案件的审理中，英国司法铸成了大错。但这场悲剧并没有使人们认识到贝叶斯公式的重要性，反而加深了人们对统计的不信任，以至于在 2010 年，一位英国法官将贝叶斯定理排除在法院审理之外。在法官面前主张贝叶斯主义变成了非法行为！智慧方程在法院中被禁止了！

但我们也难以怪罪这位法官。就算是埃尔德什在贝叶斯公式的应用上也遇到了困难。要求法官和陪审团在这个公式的基础上思考，这真的合理吗？

即使纯粹贝叶斯主义者可以自如穿行司法系统这个复杂迷宫，也必须注意不要让法庭被众多无人能解或者易被误解的统计数据淹没。在发表于期刊《统计与应用年度评论》（The Annual Review of Statistics and Its Applications）上的一篇文章中，芬顿、尼尔和伯杰也做出了如下评论：「有另一个之前少有陈述但以后会变得重要的原因，它限制了（贝叶斯公式的）应用：为了使计算能够手算进行，贝叶斯方法的大部分例子都过分简化了它们所建模的法律论证。」这几位作者意识到了这个困难，提出了一个更精细的贝叶斯理论，那就是我们之后会再谈到的贝叶斯网络。现在必须看到的是，司法系统有多么不理性，而且修正它又极端困难。

极端简化的贝叶斯计算有着很大的局限性，即使对于最聪明的人来说，正确的贝叶斯计算也过于复杂，难以完成。所以，这本书的目的绝对不是让你成为能应用贝叶斯公式的机器，那只会徒劳无功。

然而，我认为要是真正花时间思考的话，每个人都能掌握那些简单的例子。当在最实际的情况下进行近似的贝叶斯思考时，这些例子可以作为参照或者练习。我不会强求你成为纯粹贝叶斯主义者，但我希望你成为成熟的思考者，希望能帮助你（掌握如何）将直觉贝叶斯化。

我同样希望成功向你展示直觉在概率计算上何等不堪大用。然而，对于纯贝叶斯主义者来说，理性就是遵循概率法则。当我们深思那些面对贝叶斯公式产生的疑问，希望说服自己这个公式就是一切认识论困境的解决办法时，我们当然会怀疑自身的所有信念。我认为，这就是发现自己的思考方式多么糟糕时的正常反应。我们要接受自己总是自以为是的这一事实，还必须减少对非贝叶斯的直觉和推理的置信度。

### 2.5 贝叶斯定理

闲话休提，现在是时候给你看看我最喜欢的数学公式了。下面我将要介绍的就是贝叶斯公式。为此，我要引入来自医学领域的第四个例子。

想象一下，化验结果显示你感染了埃博拉病毒，而你知道自己刚从尼日利亚度假归来。你自然会询问化验的可靠程度。别人告诉你，健康的人得到正确的化验结果的概率是 90%。你是不是应该开始写遗嘱了？

纯粹贝叶斯主义者的回答只有一个：不急。即使在受这种病毒影响最大的撒哈拉以南的非洲，感染埃博拉病毒的人也万中无一。所以你这个只在尼日利亚短暂停留过的人，感染这个病毒的可能性显然不足万分之一。我们可以将这个概率 P1，它也叫作先验概率。

现在假设你得知化验结果为阳性，之后需要考虑的就是已知化验结果为阳性时感染埃博拉病毒的概率，我们将它记为 P[1|2]，其中 2 这个符号表示化验结果为阳性。反之，我们用符号 3 来表示化验结果为阴性。

所谓的条件概率 P[1|2] 是什么意思呢？概率论的基本公设假定这个条件概率与事件 1 和 2 的概率有如下联系：

P[1|2] = P[1&2]/P[2]

换句话说，在已知化验结果为阳性的情况下感染病毒的概率，就是化验结果为阳性并且感染病毒的人在所有化验结果为阳性的人群中所占的比例。

值得指出的是，在今天，即使是最反对贝叶斯主义的统计学家也接受这个公设。实际上，我们可以把它当成条件概率的定义。跟所有定义一样，它不可能出错。然而，人们可能会怀疑这是不是条件概率的一个贴切（而有用）的定义，特别是人们还会考虑它是否跟自然语言一致，以及应该怎么用它来思考。纯粹贝叶斯主义者的信念就是，这个定义不仅接近自然语言中的说法，而且正是这个概念的正确思考方式。贝叶斯主义，就是将条件概率的语言作为所有知识的基础。

跟随纯粹贝叶斯主义者的脚步，我们承认条件概率 P[1|2] 的确描述了在已知化验结果为阳性的情况下感染病毒的概率。然而，你获知的数值并不是这个概率。你听到的 90% 这个数值，其实是当你没有感染埃博拉病毒时，化验结果正确的概率。换句话说，90% 这个数字是当你没有感染埃博拉病毒时，化验结果为阴性的概率，记为 P[3|A]（A 指的是你健康的情况）。于是剩下的 10% 对应着在没有感染病毒时获得阳性结果的概率 P[2|A]。

要确定当获得阳性结果时你感染病毒的概率，我们需要证明并应用贝叶斯定理。为此，我们写出逆概率 P[2|1] 的定义:

P[2|1] = P[2&1]/P[1]

且。注意到了吗？这里的分子与条件概率 P[1|2] 的定义中的分子是一样的！由此得出，两个事件同时发生的概率可以写成：

P[2&1]=P[1|2]xP[2]

这相当于感染病毒且化验结果为阳性的概率，等于先感染病毒，然后在已知感染病毒的情况下化验结果为阳性的概率。

我们几乎完成贝叶斯定理的证明了。现在只需要将上面的公式代入条件概率 P[1|2] 的定义之中，就能得到本书介绍的知识哲学中最重要的公式，也就是贝叶斯公式。请花点时间仔细品味它形式上的优雅以及符号遵循的模式。

P[1|2] = P[2|1]P[1]/P[2]

换句话说，要在化验结果为阳性的情况下确定感染埃博拉病毒的概率，只需要将感染病毒时化验结果为阳性的概率（这需要一点想象力）乘以感染埃博拉病毒的先验概率，然后除以化验结果为阳性的概率。

就像作为导论的第 1 章所说的，你需要知道的就只有乘法和除法！还有比这更简单的吗？

让这个公式如此难以理解的，当然并非其中必须用到的计算，而是如何解释其中的每一项，这些项至少在本章内简化过的例子中都可以解释。在考虑这些项的时候，很容易产生误解。我只能请你多花时间思考。

### 2.6 贝叶斯公式的组成部分

等式右边的概率 P[1] 被称为先验概率。这就是我们在看到化验结果之前可能（或应该）认为的概率。在这里，我们估算这个概率的方法，就是将自己的情况与在撒哈拉以南的非洲国家人口中统计得到的埃博拉病毒感染人数进行比较。但这只是一个粗略的估计，况且我们没有考虑在尼日利亚滞留的时间，这毫无疑问是先验置信度的决定性因素。同样重要的还有与尼日利亚当地人互动的频率，以及与感染者接触导致的暴露。要量化所有这些因素可谓难于登天。我们在这里就只取之前的粗略估计。






等式右边分子的另一项，就是在感染埃博拉病毒后化验结果为阳性的概率 |。这一项需要一些想象力。我们需要跳出现实世界，想象在某种平行世界中，我们知道自己感染了埃博拉病毒。在这个平行世界里，我们得到的化验结果为阳性的可能性是多少？这个问题的答案就是 |。

纯粹贝叶斯主义者跟我们不一样，她不仅能够设身处地想象别人想象的东西，而且事实上她整天都在这样想象！这就是著名的思想实验

的艺术。这种实验事实上对于贝叶斯哲学来说必不可少。没有这些实验，我们就不可能估计像 | 这样的项，也就不可能应用贝叶斯公式。这对纯粹贝叶斯主义者来说就是非理性的。

遗憾的是，有些人往往会断然拒绝单单为了探索某个理论的后果而暂时接受它那些反直觉的前提。争论双方很多时候只愿意以自身的知识论、自身对现实的模型、自身的神学与道德观点看这个世界。如果没有共同前提的话，这样的争论就注定变成空对空。这种争论常常跳过了对类似 | 的项的计算。

这样的项被统计学家统一称为似然度。然而，在我看来这个术语不太合适，因为它很容易导致误解。实际上，我们最好记住一点：似然度其实是在给定关于这个世界的某个假说时，观察到现有数据的似然度。这跟某个假说在已知观察数据下的似然度完全不同。即使之后我有时候会接受通用的术语，但为了避免之后可能出现的混乱，我更倾向于将这些项叫作思想实验项。

最后剩下的就是等式右边的分母，也就是化验结果为阳性的概率 。这一项很麻烦，是贝叶斯公式中最大的困难。就是这一项让许多研究概率（或者人工智能）的研究者度过了许多不眠之夜。这一项又叫边缘概率或配分函数。它对我来说也是最难看清、最难理解的一项，即使它在本章的某些简化情况中显而易见。

要计算化验结果为阳性的概率 ，就要区分两种情况：因感染埃博拉病毒而化验结果为阳性，还有化验不完美导致结果为阳性。对每一种情况，我们都要将其先验概率乘以这种情况导致阳性结果的概率。换句话说，我们要用到所谓的全概率公式：

这样的话，配分函数 的计算需要两个思想实验，分别对应两个不同的情况，因此它的计算很困难。贝叶斯主义者应该训练自己进行这项精细的脑力体操 —— 自己在互不兼容的现实可能性之中进行思考的能力。这大概就是贝叶斯公式如此难以应用与理解的原因。

### 2.7 贝叶斯主义对化验结果的解读

最后，我们将全概率公式与贝叶斯公式结合，得到：

我们现在差不多知道了等式右边所有的项。我们已经看到 估计约为 1/10 000，由此可以得到 至少是 9999/10 000。然后我们注意到 | 对应着健康的人化验结果出错的概率，之前我们已经知道这个概率是 10%。最后剩下的就是 |，也就是对于感染埃博拉病毒的人来说化验结果的可靠性。我们注意到一个简单的事实：这一项是一个概率，不能大于 1。将这些事实总结起来，通过下面的计算就能得出：

| 也就是说，你即便知道化验结果是阳性，但这个结果告诉你，你真正感染埃博拉病毒的概率小于 1/1000。这个概率小得很，可以忽略，所以你还不需要立刻开始写遗嘱。

这里发生了什么？为什么最终的结果那么小？我们应该如何引导自己的直觉，才能在不依靠对计算的盲目信任感知到最终结果有多小？我请你自己思考这些问题。

关于分母中的配分函数，我要说点有用的题外话。我们刚才看到，这个数分为两部分：感染埃博拉病毒的情况，以及化验出错的情况。这两种情况的概率绝对不一样。事实上，感染埃博拉病毒的情况发生的概率是化验出错情况的 1/1000。两种情况的差异如此巨大，我们在计算配分函数时完全有理由忽略感染埃博拉病毒的情况。

这样的话，贝叶斯公式就是一个单纯的比值，其分子不变，计算的仍是感染埃博拉病毒的情况，分母计算的则是化验出错的情况。于是贝叶斯公式比较的就是化验结果为阳性的两种不同解释。最终公式得到的结果很小，可以解释为感染埃博拉病毒的情况远比化验出错更不可能发生。

解释贝叶斯公式的另一种方法就是置信度的转移。也就是说，思想实验项小的理论会失去置信度，而思想实验项大的理论就会从中获益。在这一情况中，| 是 | 的 1/10。所以 的置信度会上升为此前的 10 倍，代价是 的置信度下降。然而 的先验概率大概是 的 1/10 000，所以 的后验概率只是 的 1/1000 (1)。

在今天，医务人员实际上会尝试保护你免受无谓的恐惧，方法就是将多个尽可能独立的化验组合起来，只有在大量的化验结果都是阳性的时候，医务人员才会做出阳性的诊断。也就是说，医务人员会尝试尽量降低健康人群获得阳性结果的概率 |。

贝叶斯主义对化验结果的解读

最后，我们将全概率公式与贝叶斯公式结合，得到：

我们现在差不多知道了等式右边所有的项。我们已经看到 估计约为 1/10 000，由此可以得到 至少是 9999/10 000。然后我们注意到 | 对应着健康的人化验结果出错的概率，之前我们已经知道这个概率是 10%。最后剩下的就是 |，也就是对于感染埃博拉病毒的人来说化验结果的可靠性。我们注意到一个简单的事实：这一项是一个概率，不能大于 1。将这些事实总结起来，通过下面的计算就能得出：

| 也就是说，你即便知道化验结果是阳性，但这个结果告诉你，你真正感染埃博拉病毒的概率小于 1/1000。这个概率小得很，可以忽略，所以你还不需要立刻开始写遗嘱。

这里发生了什么？为什么最终的结果那么小？我们应该如何引导自己的直觉，才能在不依靠对计算的盲目信任感知到最终结果有多小？我请你自己思考这些问题。

关于分母中的配分函数，我要说点有用的题外话。我们刚才看到，这个数分为两部分：感染埃博拉病毒的情况，以及化验出错的情况。这两种情况的概率绝对不一样。事实上，感染埃博拉病毒的情况发生的概率是化验出错情况的 1/1000。两种情况的差异如此巨大，我们在计算配分函数时完全有理由忽略感染埃博拉病毒的情况。

这样的话，贝叶斯公式就是一个单纯的比值，其分子不变，计算的仍是感染埃博拉病毒的情况，分母计算的则是化验出错的情况。于是贝叶斯公式比较的就是化验结果为阳性的两种不同解释。最终公式得到的结果很小，可以解释为感染埃博拉病毒的情况远比化验出错更不可能发生。

解释贝叶斯公式的另一种方法就是置信度的转移。也就是说，思想实验项小的理论会失去置信度，而思想实验项大的理论就会从中获益。在这一情况中，| 是 | 的 1/10。所以 的置信度会上升为此前的 10 倍，代价是 的置信度下降。然而 的先验概率大概是 的 1/10 000，所以 的后验概率只是 的 1/1000 (1)。

在今天，医务人员实际上会尝试保护你免受无谓的恐惧，方法就是将多个尽可能独立的化验组合起来，只有在大量的化验结果都是阳性的时候，医务人员才会做出阳性的诊断。也就是说，医务人员会尝试尽量降低健康人群获得阳性结果的概率 |。

### 2.8 贝叶斯主义对萨莉·克拉克的辩护

为了更好地理解贝叶斯公式，我们现在将它应用到萨莉·克拉克的情况中。我们想要知道在已知两名新生儿死亡的情况下她无罪的概率。现在我们写出贝叶斯公式。

跟刚才一样，我们需要思考三个数值：萨莉·克拉克无罪的先验概率 ，以及两个思想实验项 | 和 |，分别对应在萨莉·克拉克无罪和有罪的前提下，两名新生儿死亡的概率。

我们先考虑萨莉·克拉克无罪的先验概率，它必定非常重要。这个先验概率，就是某个任意选定的人没有杀死自己的两名新生儿的概率。然而，绝大部分人没有杀死过自己的两名新生儿！实际上，希尔医生估计萨莉·克拉克有罪的先验概率大约是 500 万分之一！

这就支持了无罪推定。对于严重犯罪，在没有犯罪证据的情况下，任何人无罪的可能性都远远大于有罪的可能性。所以无罪推定就是正确的先验假设。然而，无罪推定不能被推广到适用范围以外，它只对应没有犯罪证据时的先验假定。如果众多证据都指向嫌疑人有罪，那么嫌疑人无罪的概率会降低到小于有罪的概率。但证据可能也并不足够。

纯粹贝叶斯主义者会迫使我们应用贝叶斯公式，以更好地理解在面对指控的证据时，什么程度的怀疑才是适当的。特别是，至少在必须解释如何计算出应该以什么程度来怀疑时，她不会只引用无罪推定得出结论，因为这个概念假定了指控的证据不存在。

现在我们来考虑思想实验项。在萨莉·克拉克无罪的前提下，两名新生儿死亡的概率 | 对应的是自然死亡的情况。这就是前文所述的 7000 万分之一这个数值（这个估算值偏低）。最后，在萨莉·克拉克有罪的前提下，两名新生儿死亡的概率等于 1。

我们现在可以将所有已知数值结合起来，进行如下的计算：

换句话说，即使两名新生儿自然死亡的估算值偏低，萨莉·克拉克无罪的概率仍然非常大。她无罪的可能性仍然比有罪大得多。判决萨莉·克拉克有罪似乎并不合理，即使如我们在第 1 章看到的，这个判断处于贝叶斯主义的框架之外。

目前为止，我们将贝叶斯公式应用到了两个实际例子之中。正如应用数学中的很多情况那样，这些实际例子其实已经很难准确理解了。毕竟准确估计感染埃博拉病毒的先验概率 和新生儿自然死亡的概率 | 实际上非常困难。因此不能忘记，最终得到的结果必然是一种近似。「所有模型都是错的。」

因此，纯粹贝叶斯主义者不会坚信任何人得到的数值结果，甚至聪明得会计算自己对于 和 | 的各种不同数值得到的结果的置信度。但如果法官要求她给出唯一的结果，那么她会以置信度为权重，计算得到的不同结果的加权平均值。她也会注意到当化验结果呈阳性时感染埃博拉病毒的概率只会非常小，而萨莉·克拉克案件的结果没有那么牢靠，所以结果并不明确。

### 2.9 小孩谜题终于解决了！

最后我想向你展示如何用贝叶斯公式来解答那位「钓鱼」学生的问题。回忆一下，在两个孩子小晨和小迪之中，至少有一个是男孩，那么另一个孩子也是男孩的概率是多少？我们之前已经看到，这相当于在小晨或小迪是男孩的前提下，求小晨和小迪都是男孩的概率。

为了简化记号，我们将「小晨是男孩」记作 ♂，将「小迪是男孩」记作 ♂。在小晨或小迪是女孩的情况下，我们也会用到♀这个符号。于是贝叶斯公式可以写成：

先验概率 ♂且♂ 就是小晨和小迪都是男孩的先验概率，它等于 1/4。

思想实验项

♂或♂|♂且♂ 就是在小晨和小迪都是男孩的情况下，他们之中有一个是男孩的概率。但「有一个是男孩」这个条件正是「两个都是男孩」的逻辑推论，所以这个概率等于 1。

最后剩下的就是配分函数 ♂或♂。它对应着小晨和小迪的 4 种性别组合中的 3 种可能性。

另外，我们也可以解释本章开头的推理的合理性。在排除女孩–女孩的假设之后，男孩–男孩、男孩–女孩、女孩–男孩这三种假设的可能性相等，因为这三个假设的思想实验项都等于 1。所以这三个假设之间并没有置信度的传递 (2)

。就这样，我们得到了所有需要的数据，剩下的就是计算。于是我们得到 ，等于 1/3。这就是我们在本章开头利用不严谨的「手算」得到的结果。

### 2.10 几句鼓励的话

本章的贝叶斯计算并不简单。每个计算都需要整整一页来明确解释，即使是最喜欢数学的人也会被吓倒。的确，即使在最简单的情况下，实际应用贝叶斯公式也很难，理解它就更难了。正如一般的数学内容，这个公式的抽象性和复杂程度足以吓退我们之中不够勇敢的那些人。

我只能鼓励你坚持不懈。贝叶斯公式对所有人来说都很难理解。即使是大数学家也难以将它应用到类似蒙蒂·霍尔问题这样的简化情况中。即使毅力再强，你也不能完全理解贝叶斯公式，但你可以在对它的理解上取得长足的进展。为了做到这一点，你要努力奋斗，不能放弃。要付出的代价就是大量脑力劳动，但其回报绝对丰厚。对于纯粹贝叶斯主义者来说，最终能够（足够）正确思考的能力就在航程的终点。

然而，仅仅阅读这本书还不够。数学的学习在于练习，在于让头脑摆弄抽象的对象，在于自己不断尝试阐明数学概念。不停地思考数学才能变得擅长数学。所以请你不断重复本章中的那些贝叶斯推理，无论是在空闲时、在淋浴时、在路上还是在散步中。当你觉得自己准备好了，就请你尝试解决蒙蒂·霍尔问题，然后尝试解决小孩谜题的第二部分 —— 正确答案是 13/27。

努力吧，我能给你的最重要的建议就是不断尝试从中找到乐趣。我在之后的章节中最强调的就是这种乐趣。特别是，贝叶斯公式如此紧凑、如此充满陷阱，同时它对于理解这个世界来说又如此重要，这个事实本身就包含了某种令人极度着迷的东西。比如说，我们已经看到了贝叶斯公式能解释为什么最好的医疗化验也并非毋庸置疑的，还有为什么在法律中无罪推定如此切合实际。这些还只是起点！

贝叶斯公式的优雅，还有它的推论将我引向了不可胜数的快乐思考，从中得出的知识哲学让我一直感受着快乐和幸福。正因如此，我最终得出，贝叶斯公式是数学中最优美的等式。

[1] 这对应着如下的严格计算：

[2] 这个问题有一个变体，我们随机选取一个孩子并得知他是个男孩。这时，男孩-女孩以及女孩-男孩两种情况的思想实验项不等于 1，这就会产生置信度的传递，得到的结论也不一样。书后注释中的视频讨论了这个问题变体。

将我们带到比其他任何学科离天国更近的地方。—— 伯特兰·罗素（1872—1970）

亚里士多德式逻辑推广到关于可能性的任何理论都同构于贝叶斯概率论。—— 彼得里·米吕迈基