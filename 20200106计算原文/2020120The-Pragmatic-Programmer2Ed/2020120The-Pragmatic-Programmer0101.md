# 0101. A Pragmatic Philosophy





务实的哲学

这是一本和你有关的书。

毫无疑问，你的事业是你自己的，更重要的是，你的人生是你的 —— 都是你自己所拥有的。之所以有必要读这本书，是因为我们相信自己可以成为一个更好的开发者，并能帮助其他人变得更好 —— 也就是说，可以成为一个务实的程序员。

务实的程序员的特质是什么？是他们面临问题时，在解决方案中透出的态度、风格及理念。他们总是越过问题的表面，试着将问题放在更宽泛的上下文中综合考虑，从大局着想。毕竟，若不去了解来龙去脉，结合实际如何谈起？又怎能做出明智的妥协和合理的决策？

他们的另一个成功点是他们为所做的一切负责。关于这一点，我们会在我的源码被猫吃了中讨论。责任感驱使务实派程序员不会在他们的项目分崩离析时坐视不管。在软件的熵中，我们将告诉你如何让项目保持清爽。

大多数人很难接受改变，这或许有充分的理由，也有可能仅仅是旧有的惰性使然。在石头做的汤和煮熟的青蛙中，我们会看到一个推动变革的策略（考虑利益平衡），了解一个两栖动物忽视了渐进变化中风险的寓言故事。

了解所做工作的来龙去脉有一个好处，那就是更容易把握软件必须做到多好。接近完美往往才是唯一的选项，这通常需要做许多折衷方案。我们将在够好即可的软件中展开。

当然，你需要大量的基础知识和经验，才可能实现以上这些。学习是一个持续不断的过程。在知识组合中，我们会讨论一些保持学习劲头的方法。

最后，没有与世隔绝的工作。我们总是在花大量的时间和其他人打交道。交流！列出了让我们做得更好的一系列方法。

务实的编程源于务实思考的哲学。这一章描述了这种哲学的基调

1

人生是你的

我活着不是为了满足你的期望，正如你也不是因为我的期望而活着。

—— 李小龙

人生是你自己的，是你在拥有、经营和创造。

我们和很多沮丧的开发者交谈过。他们的担忧多种多样。一些人感觉自己的工作停滞不前。还有一些人认为自己的技术已经过时了。有人觉得自己没有得到应有的重视，有人觉得薪水过低，有人觉得团队已经一团糟。一些人想去亚洲或是欧洲工作，一些人想在家工作。

对此，我们总是给出相同的答案。

「为什么你不考虑改变一下呢？」

软件开发在任何职业列表中，绝对是你自己最能掌控的职业之一。我们的技能供不应求，我们的知识不限于地域，我们可以远程工作。我们收入颇丰。我们真的能做我们想做的任何事情。

但是，总有一些原因导致开发者拒绝改变。他们缩在那里，期盼着事情会自己变好。他们眼睁睁地看着自己的技能过时，却抱怨公司没有给予培训。他们乘着公交车，路过广告林立的街道，顶着凄雨寒风，钻入写字楼工作。

因此，这里给出本书最重要的提示。

提示 3 你有权选择

你的工作环境很糟糕？你的工作很无聊？尝试纠正它。不过，不要一直试下去。正如 Martin Fowler 说的，「你可以去改变组织，或是让自己换一个组织。」如果你的技术过时了，安排时间（你自己的时间）学习一些看起来有趣的新东西。这是一种自我投资，只有为此而加班才是合理的。

想远程工作？要求过了吗？如果他们说不行，就去找个说行的人。

这个行业给了你一系列非凡的机遇。积极主动点，掌控这些机遇。

相关部分包括：

·话题 4：石头做的汤和煮熟的青蛙，位于第 9 页

·话题 6：知识组合，位于第 14 页

2

我的源码被猫吃了

在所有弱点中，最大的弱点就是害怕出现弱点。

—— J.B.Bossuet，Politics from Holy Writ，1709

在你的职业发展、学习教育，以及你的项目、每天的工作等各方面对你自己负责，对你的行为负责，这是务实哲学的基石之一。一个务实的程序员能完全掌握自己的职业生涯，从不害怕承认无知和错误。有些事在编程中会令人不快，但却必然会发生 —— 即使最好的项目也无法幸免。尽管有彻底的测试，有优秀的文档，有完备的自动化，结果还是出了问题 —— 交付被推迟，未曾预料的技术问题出现。

一旦这些事情发生，尝试依靠我们的专业性去解决问题。这意味着要诚实和坦率。我们固然会为我们的能力而骄傲，但面对缺点时也必须诚实 —— 承认我们犯了错误，而且是因为我们的无知而犯下的。

团队信任

首先，你的团队需要能信赖和依赖你 —— 你也应该同样地放心依赖他们每个人。有研究文献表明，团队信任对于创造力和协作至关重要。在一个以信任为基础的健康环境中，你可以安全地说出你的想法，表达你的思想。学会依赖你的团队成员，他们也会依赖你。如果缺少信任，那么……

假设有支高科技的秘密忍者小队正潜入反派的邪恶巢穴。经过几个月的细致规划、精确执行，最终成功抵达现场。当轮到你来设置激光导栅时，传来：「兄弟们，不好意思，我忘带激光器了。我拿去逗猫玩，落在了家里。」

这种对信任的破坏可能难以修复。

承担责任

责任意味着你对某事积极认同。你保证事情能搞定，并为之做出承诺，但你不必直接掌控事情的每个方面。除了个人尽力做好，你必须分析超出你控制范围的风险情况。如果责任的伦理内涵过于含糊，或是面对无法实现的情况，抑或风险过大，你都有权不承担责任。你必须根据自己的价值观和判断做出决定。

当你决定对一个结果承担责任时，要明白这意味着你将承接相关的义务。当你犯了错误（就像我们所有人一样），或是做出了错误的判断时，诚实地承认它，并尝试给出选择。

不要把问题归咎于别人或其他什么事情上，也不要寻找借口。不要把所有问题都归咎于供应商、编程语言、管理或是同事。这些因素都可能是问题的一部分。它们的确会对解决方案造成影响，但不是给你的借口。

如果你面临供应商帮不上忙这样的风险，就应该制订一个应急方案。如果磁盘挂起 —— 你所有的源码都在里面 —— 而你没有备份，这就是你的错。跟你的老板说「我的源码被猫吃了」解决不了问题。

提示 4 提供选择，别找借口

如果你打算跟别人解释为什么做不完、为什么延期、为什么搞砸，在此之前先等等，听一下自己的内心。讲给你显示器上的橡皮鸭听听，或是先对着猫说一遍。你的那些借口听起来合理吗？还是很愚蠢？你的老板听到会怎样？

把谈话在心里过一遍。其他人可能说什么？他们会问，「你试过这样做吗……」「为什么你不考虑一下那样做？」而你怎么回答？在你跑去告诉他们坏消息前，还有什么你可以再试试的？有时，你已经知道他们会说什么，那么就直接帮他们搞定。

给出选择，而不是找借口。不要说搞不定；解释一下要做些什么才能挽回这个局面。是否必须扔掉这些代码呢？给他们讲讲重构的价值（参见第 216 页的话题 40：重构）。你是否需要一点时间来做原型？因为只有这样才能决定后面怎么做最好（参见第 57 页的话题 13：原型与便签）。为了防止错误再次发生，你是否需要引入更好的测试（参见第 220 页的话题 41：为编码测试和第 288 页的无情的持续测试）或增加自动化流程？

也许你需要额外的资源才能完成这项任务。或许你需要花更多的时间和用户打交道？也可能仅仅是你自己需要时间：你需要学习一些技能吗？需要对某项技能学习得更深入一些？读一本书或许有用？或是学习一门课程？别害怕请教别人，别害怕承认自己需要帮助。

打算敷衍搪塞前，试着驱走这些念头。如果实在做不到，那么就先和你的猫通个气。毕竟你想让这只可怜的小猫背锅……

相关部分包括：

·话题 49：务实的团队，位于第 277 页

挑战

·当某人 —— 比如银行职员、汽车修理工、店员 —— 敷衍搪塞你时，你的反应是什么？你会怎么看他们和他们的公司？

·当你意识到自己在说「我不知道」时，一定要接着说「—— 但是我会去搞清楚」。用这样的方式来表达你不知道是非常好的，因为接着你就可以像一个专家一样承担起责任。

3

软件的熵

虽然软件开发不受绝大多数物理法则的约束，但我们无法躲避来自熵的增加的重击。熵是一个物理学术语，它定义了一个系统的「无序」总量。不幸的是，热力学法则决定了宇宙中的熵会趋向最大化。当软件中的无序化增加时，程序员会说「软件在腐烂」。有些人可能会用更乐观的术语来称呼它，即「技术债」，潜台词是说他们总有一天会偿还的 —— 恐怕不会还了。

不过不管叫什么名字，债务和腐烂都可能失控地蔓延开。

有很多因素会导致软件腐烂。最重要的一个似乎是项目工作中的心理性状态，或者说文化。即使是一个单人团队，你的项目的心理性状态也是个非常脆弱的东西。即使有最合理的计划和最佳的人员，项目还是可能在生命周期中逐步荒废、腐烂。但也有一些项目在经历了巨大的困难、持续不断的挫折之后，成功地对抗了天然的无序化倾向，走出了困境。

是什么造成了差异？

在城市中心，有些建筑干净漂亮，而另一些则破落不堪。为什么会这样？一些犯罪和城市衰败领域的研究人员发现了一个有趣的触发机制，只需一样东西就能非常迅速地把一幢干净完好的宜居建筑变成一个破败的废弃物。一扇破窗。

一扇破损的窗户，只要一段时间不去修理，建筑中的居民就会潜移默化地产生一种被遗弃的感觉 —— 当权者不关心这幢建筑的感觉。然后，其他的窗户也开始损坏，居民开始乱丢废物，墙上开始出现涂鸦，建筑开始出现严重的结构性损坏。在一段看上去很短的时间内，建筑的损坏程度就足以打消业主们想修好它的期望，被遗弃的感觉最终变成了现实。

为何造成这样的影响？心理学家的研究表明，绝望是会传染的，就像狭窄空间中的流感病毒。无视一个明显损坏的东西，会强化这样一种观念：看来没有什么是能修好的，也没人在乎，一切都命中注定了。所有的负面情绪会在团队成员间蔓延，变成恶性循环。

提示 5 不要放任破窗

不要搁置「破窗」（糟糕的设计、错误的决定、低劣的代码）不去修理。每发现一个就赶紧修一个。如果没有足够的时间完全修好，那么就把它钉起来。也许你可以注释掉那些糟糕的代码，显示一行「尚未实现」的信息，或用假数据先替代一下。采取行动，预防进一步的损害发生，表明一切尽在你的掌握中。

现在我们了解了一旦窗户开始破裂，运转良好的干净系统会迅速恶化。还有一些其他因素会导致软件腐烂，我们将在别处探讨，但与其他任何因素相比，漠视会加速腐烂的过程。

你或许会觉得，没人有时间来来回回清理项目中所有的碎玻璃。如果你真这么想，劝你还是趁早多想想怎么料理这个项目的后事，或是直接离开是非之地。不要让熵赢得胜利。

先勿伤害

多年以前，Andy 认识一个土豪。他的房子富丽堂皇，屋子里摆满了无价的古董，到处陈列着精美的艺术品。有一天，一张挂毯因为离客厅壁炉太近而着火了。消防员奋勇冲进去救民于水火，当然主要是火。但是在把巨大的水管拖进屋子前，他们停了下来 —— 尽管里面火势紧急 —— 毅然选择先在前门和火源之间铺上垫子，因为觉得水管太脏。

他们不想弄坏地毯。

现在听起来这很偏激。消防部门的首要任务当然是灭火，何必管过程中的那些附带损害呢？但是他们在清醒地评估了形势后，出于对自己控制这场火势能力的绝对自信，还是尽力兼顾了不对财物造成不必要的毁害。这也是软件开发中应该遵循的方法：不要只是因为一些东西非常危急，就去造成附带损害。破窗一扇都嫌太多。

一扇破窗 —— 一段设计糟糕的代码，一个让团队在整个项目周期内都必须要遵守的糟糕管理决定 —— 就是一切衰退的开始。如果你发现自己正处在有几扇破窗的项目中，就非常容易陷入这样的想法 ——「反正代码所有其他部分都是一坨屎，我只是随大流而已。」项目运作在这个时间点前是不是一直良好并不重要。在最初启发「破窗理论」的实验中，一辆废弃的汽车完好无损地停放了一个星期。但是一旦有一块玻璃被打破，这辆车在几个小时内就会被扒光并翻了个底朝天。

出于同样原因，如果身处一个健康团队，你们项目的代码如此完美 —— 编写清晰、设计优良、简洁优雅 —— 你就会倾向于格外地小心，不把它弄糟。就像那些消防员一样，即使屋内火势熊熊（截止时限、发行日期、销售演示，等等），你也不想成为第一个弄乱它、造成附带损害的人。

一定要告诉自己，「不要打破窗户。」

相关部分包括：

·话题 10：正交性，位于第 40 页

·话题 40：重构，位于第 216 页

·话题 44：事物命名，位于第 245 页

挑战

·通过在项目的社区中做调研来帮助团队变强。选择两三个破掉的窗户，与你的同事讨论问题是什么，以及可以做些什么来修复。

·你能说出第一扇破窗是何时产生的吗？你对此有何反应？如果这是别人决定的结果，或者是一个管理命令，那你能做点什么吗？

4

石头做的汤和煮熟的青蛙

有三个战场归途中的士兵饥肠辘辘。他们看到前方有一座村庄，顿时重整精神 —— 他们觉得村民们会给口饭吃。可是当他们抵达那里时，却发现四处门窗紧闭。多年战乱下，村民们食物短缺，仅有的存粮都藏了起来。

士兵们没有气馁，他们烧了一锅水，小心翼翼地在里面放了三块石头。诧异的村民们都跑出来围观。

「这叫石头汤。」士兵们解释道。「你们在汤里只放这个？」村民们问道。「对 —— 不过有人说如果加点胡萝卜味道会好一些……」一个村民转身跑回了家，从自己的窖藏中拎来了一筐胡萝卜。

几分钟之后，村民们又问道「这就可以了吗？」

「可以了，」士兵们说道，「加几个土豆或许更有味道。」另一个村民听到后跑开了。

在接下来的一个小时内，士兵们列出了更多食材：牛肉、韭菜、盐及各种香料，说能让汤做得更加鲜美。每次都有不同的村民跑回去取来自己的私藏。

最后，他们煮了一大锅热气腾腾的汤。士兵们把汤里的石头扔掉，和整个村子的村民一起分享了一顿美餐，这是他们所有人几个月以来吃的第一顿饱餐。

石头汤这个故事讲述了很多道理。村民被士兵骗了，士兵利用了村民的好奇心来获取食物。不过更重要的是，士兵充当了催化剂的角色，将村民们组织了起来。这样他们才能聚在一起做出他们无法单独做到的事情 —— 一项协作的成果。最后所有人都是赢家。

从现在开始，你要考虑仿效这些士兵。

你可能处在这样一种状况下 —— 清楚地知道需要做些什么，以及怎样去做。整个系统就在你的眼前 —— 你知道这样做就对了。但当你为做整件事去征求意见的时候，见到的往往是推脱和茫然的眼神。人们想成立一个委员会，然后申请预算，之后事情会变得异常繁杂。每个人都会守着自己的一亩三分田。有时我们称之为「筹备期的劳累」。这个时候，就该拿出石头了 —— 找出你合理的请求，然后不断完善。一旦有成果产出，展示给人们看，让他们大吃一惊。现在可以用上「当然了，它还可以更好，只要我们再加点……」这句话，而且要假装你并不在意。这时先坐下来，等他们开始问你要不要加些你原本想要的功能。人们都觉得，加入一个推进中的成功项目更容易一些。因为只要一窥未来，大家就能团结在一起。提示 6 做推动变革的催化剂

村民们的角度

换个角度来看，石头汤的故事讲述的是一个温和渐进的骗局。因为过于将注意力集中在石头上，村民们忘却了石头外的世界，这很像我们每天陷入俗事缠身的状态。

项目进展缓慢，完全失去了控制 —— 这是很常见的症状。大多数软件灾难都始于微不足道的小事，项目的拖延也是一天天累积而成的。系统一个特性接一个特性地偏离规范，一个接一个的补丁加到代码上，最终原始代码无影无踪。往往就是一件件小事的累积破坏了团队和士气。

提示 7 牢记全景

老实说，下面这件事其实我们从来都没试过。只是听「有人」说过，如果你抓住一只青蛙，把它扔进沸水中，它立刻就会跳出来。但是，如果你把青蛙放在一锅冷水中，然后缓慢地加热，青蛙就不会意识到水温在缓慢上升，直到它们被煮熟。

注意，青蛙的案例和第 6 页的话题 3：软件的熵讨论的破窗问题不同。破窗理论中，人们失去打败熵的斗志是因为他们觉得没其他人在乎。而青蛙仅仅只是未察觉到变化。

不要学寓言里的青蛙，永远留意着大局，持续不断地审视你身边发生的事情，而不要只专注于你个人在做的事情。

相关部分包括：

·话题 1：人生是你的，位于第 2 页

·话题 38：巧合式编程，位于第 204 页

挑战

·在审阅第一版的草稿时，John Lakos 提出了这样一个问题：士兵们一步步地欺骗着村民，但他们作为催化剂促成的变化对大家都好。然而，你一步步地欺骗青蛙，却是在伤害它。你在催生变化的时候，能判别是在做石头汤还是青蛙汤吗？这个决定是出于主观还是客观？

·不要看，马上回答，你头顶的天花板上有几盏灯？屋子里一共有几盏灯？有多少人？有没有发现什么东西有违和感，感觉它们不应该属于这里？这是一个情景感知的练习，从童子军到海豹突击队，人们都在练习这种技巧。先养成仔细观察周围环境的习惯，然后在项目中这样做。

5

够好即可的软件

为了追求更好，我们毁损了原已够好的。

—— 莎士比亚《李尔王 1.4》

有个（有点）老的笑话是这样的：一家美国公司向一家日本制造商下了一个 100，000 片集成电路的订单。规格书上指定了次品率：10，000 片中只能有一片。几周后，订单完成，货也送到了。只是一大箱的芯片外，还有一个小盒子里装有十片芯片，盒子上贴着的标签写着「这些是次品」。

要是我们真能这样控制质量就好了。但现实世界不会让我们生产出太多真正完美的产品，尤其是完全没有 Bug 的软件。时间、技术、急躁合力对抗着我们。

然而，莫要太沮丧。如《IEEE 软件》杂志上一篇由爱德华·尤登写的文章《够好即可的软件就是最好的》[You95]

所述，你能训练自己写出够好即可的软件 —— 对用户、未来的维护者来说够好即可，只要好的程度能让你自己内心平静就可以。你会发现，你变得更有效率，用户也更快乐。而且，可能让你更开心的是，更短的孵化期促使你的程序实际上更好了。

在进一步讨论之前，我们需要对将要讨论的内容做一些限定。「够好即可」这个词并不意味着草率或糟糕的代码。所有系统必须达到用户的需求才算完成，需要达到基本的性能、隐私和安全标准。你做的东西，从用户需求角度来说是否足够好？最好还是留给用户一个机会，让他们能亲自参与评判。

让用户参与权衡

通常你是为别人开发软件，总能记得找出他们的需求。但你是否经常询问他们，到底希望软件好到什么程度？事实上很多时候根本没有选择。如果你的软件用于起搏器、航天飞机，或是被广泛使用的底层库，需求会更苛刻，而且能做的选择也很有限。

不过，如果你正在开发一个全新的产品，面临的约束条件将有所不同 —— 市场人员要信守他们的承诺，最终用户可能也已经基于交付时间表制订好了计划，公司更是肯定会受现金流的约束。无视来自用户方面的需求，一味地向程序中堆砌功能，一次又一次打磨代码，这是很不专业的表现。心浮气躁当然不值得提倡，比如承诺一个无法兑现的时间尺度，然后为了赶上截止期而去删减必要的边角工程，这同样是不专业的做法。

对于你创建的系统，其应用领域和要达到的质量，必须作为系统需求的一部分加以讨论。

提示 8 将质量要求视为需求问题

人们经常会遇到需要权衡利弊的情况。令人惊讶的是，许多用户宁愿今天就用上一个毛糙的软件，也不愿意多等上一年再用那个打磨光亮、功能齐备的版本（而且，实际上他们一年后真正需要的东西可能完全不同）。许多预算紧张的 IT 部门会同意这样的说法。与构想中的明天那个完美的软件相比，今天就还不错的软件通常更讨人喜欢。如果你早点给用户一点东西玩，他们的反馈常常能引领你做出更好的最终方案（参见第 51 页的话题 12：曳光弹）。

知道何时止步

在某些方面，编程就像绘画。你从一张空白的画布开始，只有一些非常基础的原料。你糅合了科学、艺术、工艺手段来决定用这些原料做点什么。你勾勒出一个整体的形状，绘制出潜在的基调，然后再装点细节。你不断地带着批判的眼光回顾自己已完成的部分。你会时不时地扔掉一张画布，然后重新开始。

不过艺术家会告诉你，如果你不知道什么时候该停止，那么所有的努力就都白费了。如果你不断地一层叠一层，细节盖细节，绘画将迷失在颜料中。

不要让过度的修饰和精炼侵蚀掉一个完好的程序。继续前行，让代码在它该有的位置驻留一段时间。它或许并不完美，不要紧的 —— 它就算永不完美也没关系。（在第 198 页第 7 章当你在编码时中我们将讨论在不完美的世界中开发代码的哲学。）

相关部分包括：

·话题 45：需求之坑，位于第 252 页

·话题 46：处理无法解决的难题，位于第 260 页

挑战

·看一看经常使用的软件工具和操作系统，能不能找到一些迹象，表明开发它们的组织及开发者在知道其不完美的情况下，还是心安理得地发布了。作为用户，你是更想（1）等所有的 Bug 都修复了再用，还是（2）想要一个复杂的软件并接受它有一些 Bug，或是在可选的情况下（3）使用一个更简单但是瑕疵更少的软件？

·考虑模块化对软件交付的影响。一个单块软件和一个按模块设计的系统相比，满足质量要求所需的开发时间，是多还是少？你能找到商业案例吗？

·你能想到哪些受功能膨胀所累的流行软件？就是说，软件包含的特性远远超过了你每次使用时所需。每个特性都有机会引入新的 Bug 和安全漏洞，而且使你很难找到并掌握你真正想用的那些特性。你自己有没有落入这个陷阱的危险？

6

知识组合

投资知识，收益最佳。

—— 本杰明·富兰克林

啊哈，富兰克林那家伙老是滔滔不绝地讲些大道理。呃，我们只要早起早睡，就能成为伟大的程序员 —— 真的吗？早起的鸟儿或许有虫吃，但是早起的虫儿会怎样？

不过，开头那句话富兰克林还真是说到了点子上，知识和经验的确是你最重要的专业资产。

可惜的是，它们是一种时效资产。随着新技术的出现，以及语言和环境的发展，你的知识会变得过时。不断变化的市场力量可能会使经验变得陈旧而无关紧要。鉴于技术社会变化的速度越来越快，这种事情可能会发生得特别迅速。

当你的知识价值下降时，你对于公司或客户的价值也在下降。我们想阻止这一切的发生。

学习新事物的能力是你最重要的战略资产。但是如何获取学习方法，又如何知道该学什么呢？

知识组合

我们可以将程序员所了解的一切有关计算过程的事实、工作的应用领域，以及所有经验，视为他们拥有的知识组合。管理知识组合和管理金融投资组合非常的类似：

1. 正规投资者有定期投资的习惯。

2. 多样化是长线成功的关键。

3. 聪明的投资者会平衡保守型和高风险高回报型投资的组合。

4. 投资者用低买高卖来获得最大的回报。

5. 应定期审查和重新平衡投资组合。

要想事业成功，你必须用同样的指导方针管理你的知识组合。

好消息是，管理这类投资是一项技能，就像其他技能一样 —— 可以学会。诀窍是让自己一开始就这样做，并养成习惯。制定一个你能遵循的例行规程，照此去做，直到大脑将其内化。做到这个程度后，你会发现自己会自动吸收新知识。

构建知识组合

定期投资

就像金融投资一样，你必须定期为你的知识组合投资，即使数量有限。习惯本身就和总数量一样重要，所以要安排一个固定的时间和地点，这有助于撇开常见的干扰。下一部分将列出一些示例目标。

多样化

你知道的东西越多，你的价值就越大。起码要知道目前工作中特定技术的来龙去脉，但不要就此打住。计算机技术变化迅猛 —— 今天的技术热点可能到了明天就接近无用（至少不那么受欢迎）。熟悉的技能越多，越能适应变化。

风险管理

不同技术在从高风险高回报到低风险低回报的区间均匀分布。把所有的钱都投在高风险股票中绝非明智，因为有可能突然崩盘，同样你也不应该把所有的钱都投资在保守的领域，那样可能错失良机。不要把所有的技术鸡蛋都放在一个篮子里。

低买高卖

在一项新兴技术变得流行之前就开始学习，可能和发现一只被低估的股票一样困难，但是所得到的收获会和此类股票的收益一样好。在 Java 刚发明的时候就去学习，可能有很大风险，不过当 Java 流行后，那些早期用户都获得了相当丰厚的回报。

重新评估调整

这是一个充满活力的行业。你上个月开始研究的热门技术现在可能已经凉下来了。也许你需要刷新一下有段时间没用过的数据库技术。或者，不妨去尝试另一种语言，它可能会让你在新的工作中处于更有利的地位……

在所有这些指导方针中，最重要的下面这条做起来反而最简单。

提示 9 对知识组合做定期投资

目标

现在你已经有了一些指导方针，知道什么时候添加什么内容到知识组合中。对于那些构成知识组合的智力资产，获取它们的最佳途径是什么？这里有一些建议：

每年学习一门新语言

不同的语言以不同的方式解决相同的问题。多学习几种不同的解决方法，能帮助自己拓宽思维，避免陷入陈规。此外，要感谢丰富的免费软件，让我们学习多种语言非常容易。

每月读一本技术书

虽然网络上有大量的短文和偶尔可靠的答案，但深入理解还是需要去读长篇的书。浏览书店页面后挑选和你当前项目主题相关的技术图书。一旦你养成习惯，就一个月读一本。在你掌握了当前正在使用的所有技术后，扩展你的领域，学习一些和你的项目不相关的东西。

还要读非技术书

记住，计算机是由人来使用的，你做的事情是为了满足人的需要，这非常重要。和你一起工作的是人，雇佣你的也是人，黑你的还是人。不要忘记方程式中人的那一面，它需要完全不同的技能集（我们称这些为软技能，听起来很容易，但实际上它们很硬核，难以掌握）。

上课

在本地大学或是网上找一些有趣的课程，或许也能在下一场商业会展或是技术会议上找到。

加入本地的用户组和交流群

不要只是去当听众，要主动参与。独来独往对你的职业生涯是致命的；了解一下公司之外的人们都在做什么。

尝试不同的环境

如果你只在 Windows 下工作，那么就花点时间在 Linux 上。如果你只使用简单的编辑器和 Makefile，那就试试最新的炫酷复杂的 IDE，反之亦然。

与时俱进关心一下和你当前项目不同的技术，阅读相关的新闻和技术帖。这是一种很好的方式，可以了解用到那些不同技术的人的经验及他们所用的特殊术语，等等。

持续投资非常重要。一旦你进入了对某个新语言或新技术的舒适期，向前走，再学一个。

你是否在项目中使用过这些技术并不重要，甚至要不要把它们放在你的简历中也不重要。学习的过程将会扩展你的思维，为你打开全新可能性的大门，让你领悟新的做事方式。想法的交叉传授是很重要的；试着把你领悟到的东西应用到你当前的项目中。即使项目没有用到某项技术，你也可以借鉴一些想法。例如，熟悉面向对象，你就可以用不同的方式来编写朴素的 C 程序，理解函数式编程范式，就能用不同的方式来写 Java，等等。

学习的机会

你如饥似渴地阅读，已站在你所在领域的最新突破性进展前沿（这可不是件容易的事）。尽管如此，当有人问你问题时，如你的确毫无思路，也只能坦率地承认自己无法作答。

但不要停在这里，把找到答案作为一项个人挑战。问问周围的人，或是上网搜索 —— 不要仅限于大众领域，还要试试在学术领域找一下。

如果你无法自己找到答案，去寻觅有能力找到答案的人，而不要让问题沉寂下去。和其他人交谈有助于构建你的人际网络，而且你还会惊奇地发现，在这个过程中你会找到一些其他不相关问题的解决方案 —— 旧有的知识组合会不断地扩大……

所有阅读和研究都需要时间，而时间总是不够用的。所以你需要提前准备好，确保在无聊的时候有东西可读。在医院排队往往是把书读完的好机会 —— 不过一定要记得带上自己的电子阅读器。不然可能只好去翻医院里的旧年刊，里面折起的那页讲的是 1973 年的巴布亚新几内亚。

批判性思维

最后一个要点是要批判性地思考读到的和听到的东西。你需要确保组合中的知识是精准的，未受供应商或媒体炒作的影响。当心坚持教条的狂热者，他们将其视为唯一答案 —— 而那些教条未必适合你和项目。

永远不要低估商业主义的力量。网络搜索引擎有时仅仅是把热门的东西列在最前面而已，并不能说明这是你的最佳选择，而且内容提供商也可以花钱把它们的东西排到前列。书店有时仅仅是把一本书摆在显著的位置而已，并不能说明这是一本好书，甚至不能说明这本书很流行，可能只是有人花钱把它摆在了那里。

提示 10 批判性地分析你读到和听到的东西

批判性思维本身就是一门完整的学科，我们鼓励你仔细研究和学习这门学科。现在先在这里起个头，问几个值得思考的问题。

问「五个为什么」

我最喜欢的咨询技巧是：至少问五次「为什么」。就是说，每当有了答案后，还要追问「为什么」。像个烦人的四岁小孩那样经常性重复提问，不过记得要比小朋友更有礼貌。这样做可以让你更接近本源。

谁从中受益

虽然听起来有点世俗，不过追踪钱的流动更容易理清脉络。其他人或其他组织的利益可能和你自己的一致，也可能不一致。

有什么背景

每件事都发生在它自己的背景下，这也是为何「能解决所有问题」的方案通常不存在，而那些兜售「最佳实践」的书或文章实际上经不起推敲。「最适合谁」是一个值得考虑的好问题，类似的还有先决条件是什么、后果是什么，以及是短期的还是长期的。

什么时候在哪里可以工作起来

是在什么情况下？太晚了吗？太早了吗？不要停留在一阶思维下（接下来会发生什么），要进行二阶思考：当它结束后还会发生什么？

为什么这是个问题

是否存在一个基础模型？这个基础模型是怎么工作的？

很不幸，现在很难再找到简单的答案。但借助广泛的知识组合，在你将读到的海量技术出版物上加一点批判性分析，你就能理解那些复杂的答案。

相关部分包括：

·话题 1：人生是你的，位于第 2 页

·话题 22：工程日记，位于第 101 页

挑战

·本周就开始学习一门新语言。你是不是一直在用同一门古老的语言编程？试试 Clojure、Elixir、Elm、F#、Go、Haskell、Python、R、ReasonML、Ruby、Rust、Scala、Swift、Typescript，或是其他你看过去感觉会喜欢的语言。·开始读一本新的书（不过一定要先把我们这本书读完！）。如果你正在做非常细致的实现和编码工作，就去读一本讲设计和构架的书。如果你正在较高的层次做设计工作，就去读一本讲编码技术的书。

·走出去和那些与你当前项目无关的人谈谈技术，和别的公司的人聊聊。试着在公司餐厅建立你的人脉，或是去参加本地的聚会，找一些志同道合的人。

7

交流！

我认为被人从头打量到脚总比被人视而不见要好。

—— 梅·韦斯特 电影：《九十岁的美女》，1934

也许我们可以向韦斯特女士学习。只拥有是不够的，还要看你如何包装它。即使拥有最好的想法、漂亮的代码、最务实的思想，如果不能和他人交流，最终都无法孕育出果实。缺乏有效的沟通，好点子就成了一个孤儿。

作为开发人员，我们必须在多个层次上进行交流。我们会花数个小时开会，倾听和交谈。我们会和最终用户一起合作，去理解他们的需求。我们编写代码，代码将我们的意图传达给机器；我们编写文档，文档为下一代开发者记录了我们的想法。我们写建议和备忘录，用于解释资源申请、报告现状及提出新的方案。我们每天都在团队中工作 —— 倡导想法、修改实践或提出建议。我们每天的大部分时间都花在了交流上，所以需要把它做好。

把英语（或者你的母语是别的什么语言）看成另一门编程语言。像写代码一样用自然语言写文章：尊重 DRY 原则、ETC、自动化，等等。（我们会在下一章讨论 DRY 和 ETC 设计原则。）

提示 11 英语就是另一门编程语言

这里汇总了其他我们认为有用的想法。

了解听众

传达信息的过程才算是交流。为了把信息送达，你需要了解受众的需求、兴趣和能力。我们都曾参加过这样的会议：一个开发极客滔滔不绝地讲述一项晦涩难懂的技术的诸多优点，把营销副总裁弄得目光呆滞。这不是在交流，只是在空谈，而且很烦人。假设你想提出建议，用一个基于网页的系统让最终用户提交错误报告。根据听众的不同，你可以用很多不同的方式来描述这个系统。最终用户更喜欢每天 24 小时都能随时提交错误报告，而不用在电话里等着。市场部门能够利用这个功能来促进销售。支持部门的经理们有两个理由感到高兴：少雇员工，问题报告可以自动化。最后，开发人员可能乐于积累一些基于网页的架构技术的经验，或是尝试一下新的数据库引擎。通过对每个小组进行适当的游说，你能让他们都为你的项目感到兴奋。

与所有的沟通形式一样，这里的窍门是收集反馈。不要只是等待问题的出现：把它问出来。注意看肢体语言和面部表情。神经语言规划有一个预设假定，「所获对方的反应即沟通的意义。」在交流的过程中，不断提高对听众的了解。

明白自己想说什么

在更正式的商务沟通方式中，最困难的部分可能是捋出你到底想说什么。小说作家常常在一开始就用许多细节来勾勒出书的框架，但技术文档的编写者更喜欢坐在键盘前 —— 输入：

1. 介绍

接着输入脑海中想到的东西。

计划好你想说什么，写一个大纲，然后问自己：「这是否用正确的方式向我的听众传达了我想表达的东西？」精炼到不能更精炼为止。

这种方法不仅适用于编写文档。当你要参加一个重要的会议或给一个大客户打电话时，记下你想要沟通的想法，并准备多个让对方理解的策略。

既然你已经知道了听众想要什么，那么是时候计划如何去做了。

选择时机

现在是星期五下午六点，审计人员已经进驻了一周。你老板的小儿子正在住院，外面下着瓢泼大雨，下班回家道路上的经历肯定会变成一场噩梦。这时候请她给你的笔记本电脑升级内存，可能不是个好时机。理解听众想听什么的一个角度，就是搞清楚他们的优先事项是什么。当经理因为丢了一些源码而刚被老板教训了一通时，抓住机会找他谈有关代码仓库的想法，他更容易听得进去。你说的东西不仅要内容合适，说的时间也要合适。有时只需要问一个简单的问题「现在是讨论…… 的好时机吗？」

挑选风格

根据听众调整你的表达方式。有些人想要一份正式的「只含事实」的简报。另一些人则喜欢在谈正事之前高谈阔论一番。他们在这个领域的技能水平和经验如何？是专家还是新手？他们需要手把手教，还是只想要一个「太长就不看」版的简介？如果有疑虑，开口问。

不过，还是要记住，相互沟通这件事你占了其中的一半。如果有人想让你用一段话谈谈某件事，而你发现那不是三两句就讲得清楚的，那么如实告之。记住，这样的反馈也是一种交流方式。

让它看起来不错

想法很重要。但听众还希望有个好看的包装。

太多的开发人员（包括他们的经理）在编写书面文档时只关注内容。我们认为这不对。随便一个厨师（或者是美食频道的主持人）都会告诉你，仅仅是糟糕的外观就能毁掉你在厨房里埋头苦干几个小时的成果。

今天，我们已找不到借口制作出版式丑陋的文档。无论你是用 Markdown 还是字处理软件编写，现代软件都能输出精美的结果。你需要学习的东西只是一些基本的命令而已。如果你正在使用字处理软件，请使用它的样式表以保持一致性。（你的公司应该已经准备好了样式表，你可以直接使用。）学习如何设置页眉和页脚。看看软件包里的实例文档，学习一下样式和布局。打开拼写检查，先依靠自动检查修正拼写错误，然后再手工检查一遍。毕竟总有些错别字会漏掉检察不出来。让听众参与

我们常常发现，相对最终定稿的文档，编写出文档这个过程更为重要。只要有可能，让读者参与到文档的初稿中来。听取他们的反馈，汲取他们的智慧。这样能建立良好的工作关系，而且通过这个过程，能编写出更好的文档。

做倾听者

如果想让别人听你说话，有一个技巧必须掌握：听他们说。即使你掌握了全部信息，甚至是在一个正式的会议上站在 20 个西装革履的人面前 —— 如果你不听他们的，他们也不会听你的。

通过提问鼓励人们交谈，试着让他们总结你的发言。把会议变成一场对话，你将更有效地表达你的观点。说不定你还可以学到一些东西。

回应别人

当你问别人一个问题时，如果他们不回答，你会觉得他们不礼貌。那么，当别人发电子邮件或备忘录给你，问你一些信息，请你做一些事情时，你有多少次没有回应？日常生活忙忙碌碌，忘点事情太常见了。一定要记得回复邮件，就算简单地说一句「我稍后答复你」都好。随时知会别人，能让人更容易原谅你偶然的疏忽，让人觉得你并没有忘记他们。

提示 12 说什么和怎么说同样重要

除非你与世隔绝，否则必须学会交流。越是有效的交流，影响力就越大。

文档

最后，还有一个通过文档进行交流的问题。通常，开发人员不会在文档上花太多心思，充其量视其为一项不得已而为之的任务，最糟糕的情况是把它当成一个低优先级任务 —— 最好项目经理在项目结束的时候忘了它。

务实的程序员将文档视为整个开发过程的一个组成部分。为了让编写文档变得更容易一点，我们要避免重复劳动和浪费时间，让文档总是在手边 —— 直接写在代码里。实际上，我们想把所有用于编码的务实原则全部用于文档。

提示 13 把文档嵌进去，而不要栓在表面

用源码中的注释生成好看的文档非常容易，建议给模块和导出函数都加上注释，这能在其他开发者使用的时候，给他们很大的助力。

不过，有人说必须给每个函数、数据结构、类型声明等都分别加上注释，我们并不赞同这种做法。这种机械的注释方式实际上会导致代码更难维护：一旦你想改点什么，就需要改变两个东西。因此，将非 API 的注释限制在只用来讨论其为何存在及其意图、目标。当代码已经展示了事情怎样完成时，注释是多余的 —— 因为这违反了 DRY 原则。

注释源码是一个绝佳的机会，可以用来记录那些在其他地方无法记录的项目细节：工程上的权衡，为什么要做决定，放弃了哪些替代方案，等等。

总结

·明白自己想说什么。

·了解听众。

·选择时机。

·挑选风格。

·让它看起来不错。

·让听众参与。

·做倾听者。

·回应别人。

·把代码和文档绑在一起。

相关部分包括：

·话题 15：估算，位于第 67 页

·话题 18：加强编辑能力，位于第 82 页

·话题 45：需求之坑，位于第 252 页

·话题 49：务实的团队，位于第 272 页

挑战

·有几本好书中有涉及开发团队内部交流的章节，包括《人月神话：软件项目管理之道》[Bro95]

和《人件》[DL99]

。务必在未来 18 个月尽力读完这些书。另外，有一本 Dinosaur Brains： Dealing with All Those Impossible People at Work [BR89]

，讨论了我们都会带入工作环境的情感包袱。

·下次你要做一个演讲或是写一个备忘录支持某个立场的时候，试着先把本部分中的建议都过一遍。要搞清听众是谁，以及需要沟通的内容。如有可能，事后再找当事人谈谈，看看你的预估和他们本来的需求之间的匹配程度。

网上交流

我们所说的关于书面交流的一切，同样适用于电子邮件、社交媒体帖子和博客，等等。特别是电子邮件，已经发展成为公司内交流的主要方式；它被用来讨论合同、解决争端，以及作为法庭上的证据。可是因为某些原因，人们不愿意发送一份破旧的纸质文件，却喜欢满世界散发一些看起来乱七八糟、语无伦次的电子邮件。

我们的建议很简单：

·点击发送按钮前先校对一遍。

·检查一遍拼写，找到有可能是自动纠错没做对的地方。

·用简单的格式。并不是所有的电子邮件客户端都能像现代浏览器那样擅长渲染，你那美丽的排版可能会变得乱七八糟。很多网站的评论和回复中不允许带 HTML 标签。

·尽可能少地引用原文。没有人喜欢在收到一封回复邮件时，看到里面上百行文字都是他自己写的，只是在最后加了一行「我同意」。

·如果你要引用别人的邮件，一定要注明出处，并做内联引用（而不是放在附件里）。在社交媒体平台上进行引用也应遵守此道。

·不要在网上侮辱别人，不要做喷子，除非你就喜欢被喷，喜欢受虐。一些话如果当着对方的面你不会说出口，那么也不要在网上说。

·在点发送前检查一下收件人列表。这已经是老生常谈 —— 你若在部门邮件中批评老板，小心不要把老板也加到转发列表中。当然，最好不要在邮件里批评老板。

电子邮件和社交媒体帖子一旦发出去就无法抹去，无数大公司和政治家都被坑过。所以要像对待任何书面备忘录或报告一样对待电子邮件。