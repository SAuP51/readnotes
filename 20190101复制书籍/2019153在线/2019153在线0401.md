# 0401. 从计算机到计算的进化

云解放了计算机这台机器，让计算的能力彻底从一个箱子里释放出来，回归了计算的本质。

## 4.1 计算是一种新的公共服务

事物之间的区别，有时候不是由它的物理形态决定，而是由它的服务形式决定。

2『上面的话做一张金句卡片。』——已完成

在线最新的一种表现，就是计算的在线，大家习惯听到的称呼是「云计算」。计算为什么到后来叫云计算，为什么我又把它叫作通用计算，区别在什么地方呢？今天作为一家公司，要么像谷歌一样，自己满足自己对计算能力的需求，要么把计算当作公共服务来看，通过云计算服务来满足需求，就像用电一样。如果还是像传统公司一样去买一堆机器放在自己的公司里，或者去托管，那我觉得不仅方法不对，而且计算需求达到一定程度时也无法得到满足，除非你像谷歌那么大。如果想不用国家电网的电，只有两种情况：要么自己的电厂盖得足够大，要么这个公司没有大到要用国家电网的电，自己拿个柴油发电机发电就足够了。

记得 20 世纪 80 年代中期时我去深圳，有两个场景印象很深，至今难忘。第一个就是到处都是渔骨天线，这样才能收到香港的电视信号。第二个是在深圳的老商业街，每家商店门口都有一台柴油发电机，所以整条商业街充斥着柴油发电机发电的噪声。为什么？原因很简单，那个时候我们整个电力基础设施都是按照计划建造的，加上额外的电视机和冰箱就不行了。大家设想一下，如果计算也像过去的电力设施那样，你每次多加一台机器就要重新部署，实际上跟自己用柴油发电机发电是一样的。所以从这个角度讲，云计算分为两个部分，一是通用计算，二是把计算变成一种公共服务。通用计算就是要像电一样，既可以用于空调，也可用于电吹风。只有把计算变成一种公共服务，新的时代才会到来。我想目前国内还有很多人可能不会认同这种观点，但是至少我是这么认为，也是这么做的，尽管我知道做到这些要花很长的时间。

2020 年的世博会将在迪拜召开，我在 2015 年时去过一次迪拜。迪拜这个地方很奇怪，周围都是沙漠。那里的人也很有趣，只要这个事情是世界第一他们就愿意去做。我曾跟迪拜酋长办公室的工作人员讲，我们应该把迪拜这届世博会办成「历史上第一届世博会」。大家知道过去这种大会的 IT 设施都是由像 IBM 那样的公司提供的，也就是说由传统的厂商提供。所以我说，应该把迪拜的这次世博会办成「历史上第一届世博会」，由公共服务来完成所有的计算问题。我不知道这件事情能不能做成，但是迪拜人有兴趣做这件事，我会跟他们一起尝试。它的意义是什么？19 世纪末，电还没有成为公共服务，芝加哥博览会第一次使用交流电进行照明。人们可能早已忘记当年的世博会上展出过什么，但芝加哥博览会作为人类历史上第一届使用了电灯的世博会却被人们永远记住了，因为它是划时代的。

1997 年 10 月，得克萨斯大学的拉姆纳特·切拉帕（Ramnath Chellappa）博士在国际运筹学与管理科学学会年会上，提出计算已经从以大型机为基础的结构进化到了以网络为基础的架构，他把这种新的计算模式称为云计算，这是云计算这个术语在学术界第一次被使用。之后拉姆纳特博士继续做他的研究工作，直到今天他还是埃默里大学商学院的一名副教授。

2006 年 8 月 9 日，谷歌 CEO 埃里克·施密特（Eric Schmit）在加州圣何塞召开的搜索引擎大会上第一次高调用云和云计算的概念来描述谷歌所提供的互联网服务。埃里克特别指出与此相对应的传统模式就是 Oracle 主导的传统的客户机 / 服务器处理结构模式。同年 8 月 25 日，亚马逊推出了 EC2（弹性云计算）的测试版，EC2 是亚马逊云计算服务平台 AWS 中最重要的一部分。同年 9 月 27 日，杰夫·贝佐斯（Jeff Bezos）在麻省理工学院的新技术大会上，作为第一个主题演讲者，把 EC2、S3（简单存储服务）和土耳其机器人（Mechanical Turk）描述为亚马逊「11 年来的大规模万维网计算」方面的结晶。演讲中，杰夫并没有像埃里克那样专门提到云计算，但一直强调把后台基础设施作为服务。

2007 年 12 月，《商业周刊》刊登了一篇封面文章 ——《谷歌和云的智慧》（Google and the Wisdom of Clouds），讲到谷歌的新战略是「把惊人的计算能力放到众人手里」，这种惊人的计算能力在文章中沿用了谷歌的叫法，称作云。自此，云，连同今天大家熟悉的 MapReduce（一种编程模型）开始逐步出现在主流商业杂志上。谷歌的云服务于 2008 年开始提供正式服务，EC2 有了 SLA（服务级别协议）。

2010 年 11 月，亚马逊把自己的零售网站切换到了 EC2 和 AWS 上，网飞（Netflix）和 Pinterest 等互联网服务也搬到了亚马逊的 AWS 上，从此云和云计算开始大行其道。

但这已距离约翰·麦卡锡（John McCarthy）第一次设想「计算有一天将被组织为公共事业」过去了 50 年。计算成为一种公共服务也是云计算的核心思想基础。约翰也是第一位在 50 多年前开始使用「人工智能」一词的学者，云计算和数据让我们离人工智能更近了一步。1983 年，太阳计算机系统有限公司提出「网络就是电脑」，这些都是云计算的前身。

在我看来，如何区分云计算和非云计算，首先得看它的核心本质 —— 计算是否在线，计算的使用是否通过互联网完成。这也决定了云计算两个最重要的特点：一是计算要成为一种公共服务，就像水和电一样；二是计算规模变得足够大，需要巨大的数据中心来承载。我从在阿里巴巴做云计算的第一天开始，就告诉自己：「云计算是一个社会最基础的公共服务，就像电一样。」

宝钢电厂发的电和国家电网的电都是电，它们之间有差别吗？答案是它们之间有着巨大的差别，宝钢电厂的电是工厂自用，出了问题只影响自己的生产；而国家电网的电供给千家万户，出现一点问题就会影响百姓的正常生活。所以只有国家电网的电才是公共服务，其他都很难称得上。

风力发电和三峡水力发电都是在发电，它们的区别又在哪里呢？今天大多数风力发电生产的电量由于技术和经济原因无法并入国家电网，所以风力发出的电至少到目前为止还不能成为公共服务的一部分；三峡水力发电自起始时就可以并入国家电网，所以它从第一天起就是国家电网服务的一部分。并入国家电网这个状态，换成互联网行业的说法，就是：电能在线。

事物之间的区别，有时候不是由它的物理形态决定，而是由它的服务形式决定。同样是所谓的「云计算」，哪怕规模再大、计算能力再强，如果没有在线，没有进入到公务服务领域，就算不上云计算。为什么云计算必须得成为公共服务？因为云计算已经和电一样成为互联网经济时代最基础不过的社会需求，它会慢慢变成国家基础设施的一部分，支持整个国家经济社会的发展。

假如你想在 19 世纪末、20 世纪初的美国纽约建一个纺织厂，哪怕备齐了资金、工人、机器和原材料，还是无法开工。因为那时候的美国，还没有公共电网，你想让那庞大无比的纺织厂机器动起来，必须自己建一个发电站。那时候，一台发电机设备只能供应一栋房子或者一条街上的照明用电，用的是直流电，人们称其为「住户式」电站。

等到你咬了咬牙，准备正式建个电站前，再好好考虑一下：万一你的工厂倒闭，发电站就彻底报废了，也不会有人会来回收。在很多时候，你建一个发电站很有可能比建一个普通的工厂还贵。尽管建一个电厂比建第一个以蒸汽机为动力的纺织厂要简单得多，但其低效和风险是显而易见的。

人类的血管中流淌着商业的基因。人们慢慢觉悟到，自己建电站的做法实在太愚蠢了：用不完的电怎么办，能不能卖给别人用？电不够用怎么办，能不能租别人的用？两家的电并在一起用好像效果更好，成本降低之余，风险也降低了，要不干脆把十几家发电站都并在一起用？按照这个思路走，发电站逐步合并在一起，电的规模效益也就表现出来了。

1882 年，被后世称作「发明大王」的托马斯·阿尔瓦·爱迪生，在美国纽约珍珠街建设了拥有 6 台发电机的发电厂。这座发电厂虽然只有 30 千瓦的容量，仅能提供城市照明的用电量，但却是电力第一次真正在人类生活中作为公共服务使用。英国发明的蒸汽机，为英国日后的强盛打下了基础，同样是英国最早发明了电，但将其作为公共服务却比美国晚了很多年，这也为它日后的衰落埋下了伏笔。

公共电网的雏形出现后，又推动了电力技术本身的变革。越来越多的地方尝到了电的甜头，电力的需求大大增加，公共电网供电的范围不断扩大。远程供电需要增加电压以降低输电线路中的电能损耗，然后又要通过降压器才能送至用户家中。直流电变压十分复杂，而交流电变压比较简单。很明显，就可用性来讲，交流电更胜一筹。电网成了国家的标准配置，交流电变成了世界通用的供电标准，电力真正成为人类生活、社会经济发展的基础设施。

今天的你已经无法想象这样的场景：家里装了一台发电机，专门给灯泡供电。闷热的夏天突然来了，你决定装个空调，但是发电机的电力不够，你不得不在买空调的同时，又购入一台新的发电机，加装在老的上面。过了几天，你又想买冰箱了，回头一看已经占了大半间屋子的发电机，这样的日子根本过不下去。

很可惜的是，这种看起来相当不靠谱的想法，在云计算时代又被重新演出了一遍，大家对于购买更多计算机的热情，远远大过使用云计算服务。以为购买更多的柴油发电机就会解决你家里夏天的用电问题，这样的想法不仅不对，而且荒唐。更不幸的是，将云计算具象化为建创数据中心这样的事还不时地发生在我们身边。

在互联网时代，大家对计算能力的需求越来越大，不知上限在哪里。这就好像只有利用国家电网，而不是柴油发电机才能解决社会的用电问题，云计算才是解决互联网时代计算需求的途径，互联网时代是一个计算在线的时代。

对成千上万的普通用户来说，其实云和电一样，早就进入了每个人的生活，服务于你。人们最常进行的网络行为之一是搜索。当我们在搜索框键入关键字，敲下回车键的一刹那，大概要消耗 8 瓦灯泡点亮一小时的耗电量，大概需要数万台服务器瞬间提供计算支持。当然，这些听起来繁复与恐怖的计算过程都通过网络在一个你不知道地点的数据中心完成了。你每天所做的许多事，包括登录一次淘宝、发一条微博、发一段微信语音、刷新一次新闻客户端、看一段视频，都消耗了远超于本地设备所能承载的计算量。事实上，世界上已经没有任何一台计算机，可以让你摆放在家里的同时，还能让你搜索全世界的海量数据并享受各种互联网服务。

2012 年 8 月，「苏拉」「海葵」等强台风登陆中国。可能有人还记得当时的场景，大家不停地在网络和媒体上查看台风究竟跑到哪里了。而在这背后，是不断瘫痪的系统。由于各地台风路径发布系统访问量急剧上升，福建和江苏等地的台风信息系统因压力过大而陆续无法访问。当时，浙江省水利厅的系统支撑了来自全国各地的剧增的访问量，央视新闻里、微博上、报纸上发布的关于台风的动态都来自这里。以前，浙江省水利厅台风信息系统的日访问量不过 5 万，基本也就是内部的人使用。而台风来袭的那几天，日访问量突然超过了 350 万。这也难怪其他地方的系统会瘫痪。由于浙江省水利厅用的是云计算服务，它才得以平稳地度过了那几天。应该说在互联网时代的今天，只有云计算才能保障你的生活不会回归到 50 年前那个靠打孔机才能做计算的年代。大家之所以感受不明显，是因为云计算真的很基础，它天生就被贴上了「默默」的标签，为你工作时，你不会感知到它，而在它不工作时你才会强烈地感受到。

2012 年 6-8 月是全球体育迷的盛宴，因为欧洲杯和伦敦奥运会接连举行。在此期间，上亿中国网友通过中国网络电视台体育频道与全球同步收看顶尖赛事。传统的做法是，提前购置一堆服务器，花大量时间做好基础运维。但是，在赛事高峰时期，这些机器可能还不够用；而等赛事高峰过后，放任多余的服务器在那里又是一种巨大的浪费。2012 年的伦敦奥运会，中国网络电视台体育频道首次运用了云计算，通过在线的方式获得了其所需要的计算能力，在保障流畅稳定的同时，省下了一大笔不必要的开支。我在浙江的普陀山从网上观看了伦敦奥运会的开幕式直播，由于职业的关系，而且它使用的是阿里云的服务，我的关注点是视频的质量和速度，而不是开幕式的内容。两年后，中央电视台体育频道再次使用阿里云的服务，转播 2014 年巴西世界杯，这次我可以安心关注球赛本身了。

蒸汽机没有发展成为普通的动力来源，背后的原因是什么？我想有一个根本性的问题，就是移动性太差了。你今天根本无法想象，拖着一个蒸汽机在旁边，然后驱动你的电吹风，在洗完澡后吹干头发。本质上，你需要的是动力，根本不是动力机。电的移动性算是比较好的，人到哪里，拉根电线就能把电力带过去了。但到今天，电的移动性还有一个重要的问题没有解决，那就是电线。无线传输电能依旧是很多发明家的梦想，2007 年 7 月，麻省理工学院的马林·索尔亚契奇（Marin Soljacic）教授领导的小组展示了在两米的距离内无线为 60 瓦的灯泡供电，他们把这个系统称为「WiTricity」（无线充电），将无线传输电能这一梦想又往前推进了一步。而第一个向人们展示无线传输电力的人就是交流电之父 —— 尼古拉·特斯拉（Nikola Tesla），那是 100 年前的事。而今天的我们依然在为此努力。

这也是服务器和云计算的差异，你需要的是可以「搬来搬去」的计算能力，而不是笨拙的计算机。真正体验云计算的办法，就是把它搬到线上，像电一样实现规模化。规模化是否也意味着大投入？阿里巴巴每年投入 10 亿元人民币做云计算这件事。但在中国，一年可以拿出 10 亿元人民币做一件事的公司还有很多。能否规模化，关键是看公司是否真的相信在线这件事，是否相信计算在线会对社会有所帮助。

现在很多公司都在探讨云，教育云、健康云、电商云、游戏云等，名字一个比一个好听。但这些不过仅仅是垂直应用的思考，而不是真正投入云计算服务的平台。从计算平台角度讲，没有一个东西叫垂直云，而只有利用云计算解决一个垂直问题。利用云来解决一个垂直的问题，而不是创造一个垂直的云，这才是对的。计算机能干什么？你买了台计算机做文字处理，难道就是办公计算机吗？你买了台计算机打游戏，难道就是游戏计算机吗？还是用计算机游戏，还是用计算机办公。

没有垂直的计算机，也没有垂直的云。从这个角度讲，人们所说的教育云、健康云，还是叫云健康和云教育为好。

我曾在中国工信部组织的会议上说：「中国 99.999 9% 的数据中心做的都不是云计算。」因为数据中心，只不过是物理的东西而已，租了几个机柜给别人，不能算作云计算，它得作为一个整体的计算平台来运营才算得上云计算。现在也有许多公司在做云计算，但这些云计算平台，要么是和它的业务结合得比较紧，要么就是一个很垂直的业务平台，再怎么做，也只是解决了一家互联网公司需要解决的问题。例如一些打着云计算旗号的公司，到最后它开放的不是云计算服务，不是基础设施，而是它的客户资源。

这些公司不是在做发电厂，它们只是在做一个定制的发电机。真正的创造力在个体身上，实际上它们需要的是一个公平的开放性平台。那些做垂直云的公司，实际上有很强的施舍心态：「我想好了该干什么，我给你搭个台子，然后你就来干吧。」这种意识，一定需要被改变和创新。

2『垂直领域云应用的局限，做一张任意卡片。』——已完成

第一台个人电脑出现的时候，没人告诉制造者他能用它来干什么。就是在这样一种环境下，最后才有了个人电脑行业的蓬勃发展势头。现在的云计算，也正处于个人电脑刚出现时的状态。我觉得，真正做云计算，是要把它作为一个通用、整合的平台来做。最早阿里云成立的时候，我曾经想过不叫「阿里云计算公司」，而叫「通用计算公司」，这背后隐藏的是对云计算的理解和信心。

最早的计算机网络，不是今天的互联网，只是本地网，而且只是用来交换消息数据的，网络上的其他计算机不会帮你做什么特别的事情，最后这些计算还是得在你自己的电脑上完成。一个计算发展史上常见的场景是：人们在命令行的界面中输入一串指令，一段字符就从另一台电脑上传送过来了。

网络的盛行促使了「服务器」概念的出现，尽管和服务器的通信本质上也是一个交换数据的过程，但是后台的东西已经在很大程度上被处理过了。到了互联网的年代，主要工作都在后台完成了，计算结果是以服务的方式通过互联网提供给人们，大家熟悉的服务器就这样自然而然地被云（不在你身边的计算服务）替代了。表面上看来是你连到了云上，但实际上这是一个使计算变得在线的过程，也是一个使计算输出的结果变得在线的过程。这个过程，和电有不一样的地方。电能够通过电网真正地把能量传到千家万户，而电能是在本地被消费掉的；云计算并不是真正把计算传输到本地，只是把你的请求传回到云端（数据中心），然后再把结果传回给你，计算的消耗是由云端的计算设备完成的。

你可以设想一下，你要在互联网上查询一个东西，实际上是发送了一个查询的指令到云端，这会触发成千上万台计算机为你在海量数据里找到对应的结果，然后呈现在你面前。这个和过去你要什么文件或数据，相应的文件或数据就传过来是不同的。要在互联网上查询任何一个东西，比如淘宝上的一件商品，都需要在云端消耗大量的计算能力。这个过程的在线不再是纯粹的数据传输，这才叫计算在线。计算在线是我要强调的东西。我经常在公开场合重复这样的一句话：「云计算和电一样。」这样的观念被彻底接受还需要时间。

2『计算在线，做一张任意卡片。』——已完成

互联网用户已经很快习惯了云计算，而传统企业却慢了不止一拍。很多中国创业者做互联网项目的第一件事是租服务器，做 IDC（互联网数据中心）。IDC 基于互联网，为集中式存储、处理和发送数据的设备提供运行维护的设施基地以及相关的服务。简单地说，IDC 就是互联网时代的发电站。每个公司自己开设 IDC，就跟当年纽约人边办工厂边修建发电厂没有区别，很落后。即使有些互联网公司做到了一定的规模，那也不过是在自己工厂边上建了个巨型发电厂而已，没有并入公共电网，依然很落后。

如果你做了一个卖童装的电商网站，而且用的是自建发电站那一套办法，那么没人买东西的时候，你的服务器还是在运转，白白消耗资源，多余的计算能力也不能被别人用到。而且一旦你突然搞个促销活动，整个电商网站的服务器就会吃不消，临时买服务器也来不及，只能眼睁睁地看着用户想付钱却找不到付钱的地方。互联网最大的特征，是爆发性的成长。一个成熟的传统企业，例如中石油的 IT 部门，它可以按年来规划，但失去的却是机会，现在也开始改变了。互联网时代的企业，本身的结构必须要有弹性。

要解决上述案例中的尴尬，只能把云计算变成公共服务。2013 年，技术高管实名社区 ITValue 在海南举办了一个年度 CIO（首席信息官）研讨会，会议上我碰到了锦江之星的 CIO。锦江之星是创立于 1996 年的连锁酒店品牌，旗下各品牌酒店数量已经接近 1 000 家，因此接下来的计划是更快速地扩张酒店数量。他告诉我，他们原来已经建了一个大型的数据中心，但他们还是停建了第二个数据中心，在考虑是否可以利用云计算。这是中国特有的一幕，面对新科技，企业家充满着其他人无法理解的热情和胆怯，他们凭借着直觉去判断什么是好的，什么是坏的，他们乐意去冒险，也懂得迅速调头。当听说锦江之星的 CIO 把在建的第二个数据中心正式停掉的那一刻，我觉得，这也许是云计算发展的众多历史节点中，最富有勇气的转折点之一。它让我感受到了云计算对整个传统 IT 界的影响，不知锦江之星的近况如何？从计算机到计算服务，产业一小步，人类一大步。

## 4.2 没有公有云和私有云，只有公共云

计算就是公共服务，只要是想卖软件和硬件产品给你的，肯定就不对。我刚开始做云计算时经常说，世界上有一家半公司是阿里云的榜样，一家是亚马逊，另外半家是谷歌，阿里云希望成为另外一家。大部分公司不是不想做或者没在做，只是做得还不够彻底，拥抱云计算也需要勇气。从计算规模上来说，谷歌应该比亚马逊大。但谷歌的计算资源大多还是面向自己在用，亚马逊才是真正把云计算变成了公共服务。

2006 年，AWS 诞生，目前使用这项服务的公司不乏流媒体视频巨头网飞、照片分享网站 Instagram 等大牌科技公司，甚至连美国国家航空航天局也是 AWS 的客户。这些公司主要依赖亚马逊提供的计算服务进行内容存取、内容交付和支付等业务。知名的社交网站 Pinterest 也利用了 AWS，只用了 9 个月的时间访问量从 5 万迅速升至超过 1 700 万，现在已达 4 800 万，公司存储在亚马逊平台上的数据也超过了 400TB [1]。

不论是基础设施、平台，还是存储设备，都天然地结合在一起，这是云计算鼻祖亚马逊在做云计算时遵循的思路。我觉得亚马逊带来的一个最大的好处，是让大家明白了一件事 —— 计算可以作为一种公共服务。卖给你一个服务器，并不代表卖给你一种计算能力，这是两件完全不一样的事情。卖给你服务器，仅仅说明你有可能得到计算的能力，但事实上很多服务器都烂在了仓库里。

计算能力其实隐藏在各个行业的背后，是在线社会的基石。我看过一本叫作「编码的奥秘」（Code）的书，里面有个被作者称为谣言的故事到现在来看还是很有意思：如今到处都有加密的东西，用的是各种不同的加密算法和强度，加密术的本质就是让你在规定时间里用一定计算能力无法进行破解，美国银行的加密算法，就属于这一类。加密算法能否使用，是需要美国国家安全局批准的。美国国家安全局是美国保密等级最高、经费开支最大、雇员总数最多的超级情报机构。美国国家安全局衡量加密强度的标准是他们得用多少足够快的计算机才能破解这个密码。在人们的概念中，具有这样规模计算能力的计算机只有美国国家安全局才有，黑客之类的人不会拥有这么强大的计算能力。

在一层层扒开各种技术与在线状态的外衣后，最里面的那一层肯定是计算能力。亚马逊向大众提供计算能力服务这件事情，对整个产业的良性发展有极大帮助，非常值得尊重。

什么样的云计算状态才算得上是好的公共服务？如果还是用电来打比方，那就是：能够用，便宜用，安心用。当你插上插座时，必须马上通电，而且想插一个电器就插一个，想插 10 个也可以，这叫能够用；当电费是天价，用一分钟就会把你的钱包掏空的话，也是不对的，电费不应成为你的经济负担，这叫便宜用；当你用电时，发现用了一分钟就漏电，电到自己了，这也不行 —— 安全，是所有公共服务的隐藏核心，这叫安心用。

2『好公共云的三特点，做一张任意卡片。』——已完成

这三个要点看着很简单，要都做到却很难。

从 2006 年业界开始大范围讨论和使用云计算到现在，将近 10 年过去了，实际上很多人只是习惯性地在讨论云计算这三个字，却没有认真思考里面的含义，甚至有人刻意误导大家。现在很多人在面对云计算时，会大谈云计算多么好，不用云计算会多么糟糕，然后进入主题：「你想用云计算，是吧？挺好。不过呢，公有云都不安全。干脆这样，你买我的服务器，买我的数据库系统，买我的存储系统，建一个属于你自己的私有云吧。」经常有人问我，怎么看待公有云和私有云，我的回答是：「我没听说过私有云。」这其实是委婉的说法，客观地说，私有云是不存在的。

如果在 20 年以前号召并鼓励发展互联网，谁会最有条件出来做呢？一定不是现在大家熟悉的互联网公司，说不定是电报公司。电报公司可以说自己在做的是互联网经济，因为它的网点是遍布全国的。现在大家都知道，互联网和电报网点完全是两个概念，电报网可以继续为特定机构提供小范围服务，而互联网经济必然要大规模崛起。那些大力推荐所谓私有云的公司，号称自己做的是云计算，其实就和电报公司号称自己是互联网企业一样。云计算就是公共服务，只要是想卖软件和硬件产品给你的，肯定不是那场应该到来的革命，最多也只是传统技术的一种延续。好比现在做运输生意，你还要自己修一条高速公路一样，这是一个可笑的事情。

其实，私有云的热衷者，他们的理由非常简单，就是公有云不安全。私有云利用了大家对安全的担心向人们兜售硬件和软件产品。一旦你的计算设备连上网络，就无所谓你的还是别人的，所有人面临的安全问题都是一模一样的。除非你组建一个自己的局域网，并且不和互联网连接，才可能获得安全保障，但局域网不是现代社会需要的东西。例如一谈到银行和互联网，大家的第一反应是银行比互联网安全，互联网基础设施的天性就是不安全 —— 实际上反了。

历史总是惊人的相似，我经常用电来解释云计算背后的种种思考，然而电成为一种公共服务也经历过这么一段让人感叹的过程，尽管这个过程已被大多数人遗忘。特斯拉是一个发明天才，一个传奇人物。他从欧洲到达美国的时候，口袋里只有 4 分钱，他去世的时候身无分文。但今天每个人都享用着他的发明。

1884 年，因为仰慕爱迪生，特斯拉这位塞尔维亚工程师，来到位于纽约的爱迪生通用电气公司工作，每周工资 18 美元。那时的纽约就像今天的硅谷，是创新者向往的圣地。爱迪生是直流电的拥护者，他在纽约建造了第一个提供公共服务的直流电发电厂。但是直流电存在一个很大的问题 —— 它的传输距离有限，最多只能传输不到 5 公里。有一天，爱迪生给特斯拉提出了一个改进直流电电机和发电机的问题，表示如果能解决，他愿意赌 5 万美元（购买力相当于今天的 100 万美元）。当特斯拉用了几个月的时间非常成功地完成了改进，要爱迪生兑现 5 万美元时，爱迪生却和特斯拉调侃道：「你不懂我们美国人的幽默。」特斯拉拒绝了爱迪生每周给他增加 10 美元工资的建议，马上就辞了职。

特斯拉离开爱迪生后，建立了自己的实验室，开始了交流电的研究，从发电到传输全部成功。当时直流电无法长途传输，每隔数英里就要增设发电站，但交流电却可利用变压器变压用于长途输电。而且使用直流电价钱较为昂贵，效能也远远不及交流电。

1887 年，特斯拉创立了特斯拉电力公司，完成了他最重要的发明 —— 无刷交流电机，并获得了专利。而且在当时，交流电的传输成本也只有直流电的 1/1 000。1888 年，特斯拉和乔治·威斯汀豪斯（George Westinghouse）见了面。乔治是西屋电气制造公司的创始人，也是火车空气刹车的发明人。最后，乔治以每马力 2.5 美元的许可费获得了特斯拉的专利许可。到了 1890 年，34 岁的特斯拉已是一位名副其实的百万富翁。

爱迪生当然非常不愿意看到自己的直流电生意遭到威胁，于是爱迪生开始打压特斯拉。今天很难想象，在当时对于是用交流电还是直流电争得最凶的，不是用电的人，而是发明电的人。爱迪生的手段就是广泛传播交流电能致命的言论。在新泽西的西奥兰治，爱迪生把数十只哺乳动物带到公众面前，用 1 000 伏特的交流电发电机把它们电死了。爱迪生用这个办法告诉大家，交流电不安全。媒体现场直播了这一恐怖的事件，一个新词「electrocution」（电刑）也因此出现了。在有关交流电和直流电的争论中，发生了两件特别的事：一是用于处以极刑的电椅的使用，以及一头名叫 Topsy 的大象被用交流电处死。

1888 年 6 月，纽约州立法机构通过立法把电刑作为执行死刑的一种新方法，但并未决定是用交流电还是直流电。爱迪生聘请发明家哈罗德·布朗（Harold Brown）来设计电椅。布朗和他的助理弗雷德·彼得森（Fred Peterson）共同为爱迪生设计了电椅，彼得森既是政府负责选择电椅的设计委员会的负责人，同时也是爱迪生的雇员，选择使用交流电也就不奇怪了。1889 年 1 月，电刑真正实施时，乔治拒绝将任何交流电发电机卖给司法当局，最后是爱迪生和布朗为当局提供了所需的交流电发电机。非常具有讽刺意义的是，人们还把电刑称为「被西屋」。

纽约的康尼岛在 20 世纪上半叶因为当地的主题公园而著名。Topsy 是乐园马戏团的一头亚洲母象，因为受到虐待，Topsy 曾杀死过驯兽员，人们认为其会对人构成威胁。Topsy 原本要被处以绞刑，后因动物保护学会要求，寻求其他方式。爱迪生因此提议用交流电执行，大约有 1 500 人在现场见证了这一切，而且爱迪生公司还把行刑过程拍成了电影在全美上映，用来展示特斯拉的交流电是如何不安全。

爱迪生利用了大家对新鲜事物的恐惧感，将其具象化、放大化，这是人类社会发展中不可避免的悲剧。之后，乔治给了特斯拉一笔资金继续发展。终于，在 1893 年 1 月于芝加哥召开的一次世界博览会的开幕礼中，特斯拉利用交流电同时点亮了 9 万盏灯泡，这一举动震慑全场，因为直流电根本达不到这种供电规模和低成本。事后，特斯拉因此次展示被聘为尼亚加拉水电站的电力设计负责人。从此交流电取代了直流电成为供电的主流。

特斯拉至今还是很多创新发明者的偶像。据说谷歌的创始人拉里·佩奇（Larry Page）在 12 岁的时候读了有关特斯拉的传记，从而立志成为一名工程师。而贝宝的亿万富翁埃隆·马斯克（Elon Musk）在创建他的电动车公司时，也选择了特斯拉这个名字，而且，他也选择了交流电机作为特斯拉电动车的动力来源。

我觉得，历史的不断重演，让我们对云计算的发展既悲观又乐观：悲观的是，类似直流电交流电这样丑陋的竞争，肯定会重演；乐观的是，你肯定可以分辨得出真正的云计算以及在线的计算能力应该怎样使用。

交流电和直流电之争，实际上是是否需要统一的电力基础设施之争。通信领域有过专有网的概念 —— 就是一个大集团、大机构自己做一个封闭的网络体系，同时会为了它的安全做出特殊的设计。专有网具备与互联网相连的能力，它和互联网可谓是相同的基础设施，只是部署的安全要求不一样。目前所说的公有云和私有云其实是两种不同的基础设施。为了像电一样，确保计算基础设施的一致性，公有云所使用的基础设施也可以被部署成专有云，以保证不同的安全需求，但它们应该是同一种基础设施。

计算需要规模化，不是可以规模化，而是必须规模化。规模化才能解决成本问题。1% 的电在国家电网里，与 90% 的电在国家电网里，完全是不同的效果，至少用电价格会差很多。成本问题会影响整个事物的普及。哪怕你今天真的准备搬一台大计算机回去，你也搬不了。搜索应该是你最常用的一个上网功能，但是你的每一次搜索，实际上都需要几万台服务器为你服务，哪怕你只使用一次，也会消耗如此大的计算资源。

一个普通人每天不可能只用一次搜索功能。一位「90 后」需要发微信、发微博、看视频、打网游、用搜索、做文档。这些动作消耗的计算量是十分惊人的，再也没有一台计算机可以单独提供所有的计算能力。你没办法独享所有的计算资源，既然不能独享，那么就一定要分享出去。因为要与人分享，你就不可能把几万台服务器搬回家里，你唯一可以享受这种服务的方式就是通过在线。

把信心放在云计算里面，才是真正的大投入。从行业角度来说，中国的企业错过了发展软件产业的机会，现在认真一点，很可能就会抓住发展云计算产业的机会。我个人认为，中国的云计算会比美国的发展得更快。美国的 IT 行业很成熟，传统的 IT 服务也比较好，但云计算给企业带来的直接价值远远没有在中国的大，比如运营商之间互联互通这个问题在美国是不存在的，而在中国存在。中国企业接受云计算的速度有可能会比美国快得多。中国企业也会因为整个 IT 大环境的原因，对云计算需求更大。今天有这么多企业来到阿里云平台，连我都觉得不可思议，我原本以为要等更长时间。

全球其实没有几家真正的软件公司，买软件不是买软件的代码，甚至也不是买软件的光盘，买软件其实是买软件许可，微软就是把 Windows 的使用许可卖给了戴尔，连光盘也不用，这样才叫软件公司。在中国，我们过去的软件产业远远没有达到这个水准。

云计算的软件是卖不了的。阿里云的核心技术是「飞天」，但就算把「飞天」卖给你也没用。一个软件，比如 Office 要是卖给你，你可能一年都不升级，照样可以正常使用。真正的云计算可以起到什么样的效果呢？是要革掉把计算机搬回家里的旧局；是要企业主动拥抱互联网，重视做服务；是要企业知道现在是在通过互联网与全世界的人打交道，而不仅仅是自己公司的业务人员和销售；更是要打破原有企业 IT 架构的所有基础设施。

以前大家经常说，「我们有市场」，但这个市场不会自然而然地带给你服务上的竞争力。做云计算的最大危机感是，市场有需求，可一旦服务规模跟不上市场，市场就不是你的了。规模化后，云计算这件事才能真正地爆发起来，成为公共服务。规模化与云计算，是彼此作用的。

## 4.3 众神助「飞天」之梦想，计算成创新之动力

两样东西的结合，可以产生化学反应从而诞生新的东西。云计算就是化学反应的一部分。云计算是一个新的基础设施，其在整体上的重要性，远远超出一家公司的意义。云计算作为阿里巴巴最基础的东西，它的影响绝对不只是多了一家公司而已。

2010 年以前，我一直在说世界上真正做云计算的公司只有一个半，一个是亚马逊，那半个是谷歌，这两家公司各有所长，都是阿里云学习的榜样。[2] 归结起来，亚马逊真正实践了云计算蕴含的服务本质，而谷歌则解决了规模化的问题，但谷歌没有把服务做彻底。向榜样学习的前提是一要有自己的信念，二要有自己的技术。

在做云计算时，我们一定要抱有一个信念：「计算是一种公共服务」。坚定的信念是必需的，而叶公好龙的心态则是一种灾难。表面上大谈云计算是一种服务，私下里又大肆兜售自己的软件和硬件产品，告诉客户要做私有云。云计算不是去扩建 IT，云计算是拥抱互联网。这时候使用计算资源的方法不是把计算机买回家，而是使用在线的计算服务，降低单位计算成本，这才是云计算。

2009 年阿里云成立的时候，我想过给公司取名为「通用计算」，后来怕和通用电气混淆，才随大流叫了阿里云计算公司。当时想得是反正别人也不明白你想干什么。我给阿里云提出的企业愿景是「打造数据分享第一平台」，做「以数据为中心的云计算」。尽管 6 年前还没有大数据的概念，但数据一直都是一个企业的战略资源。数据不是阿里云的，而是客户的，只不过客户在使用云计算以后很方便以数据的角度出发进行思考，从而创造价值。所以云计算首先节省成本，其次创造价值。我认为今天很多东西都会在一二十年后消失，但云计算在 100 年后还会存在。

当时《IT 经理世界》的记者吴磊在采访我后写的文章里面详细描述了我对于阿里云和云计算的看法：「云计算的出现是一种服务模式的改变，这句话耳熟能详。」王坚说，「但人们往往忽略了做这件事情的技术难度，而且不是一点点的技术难度。当我们要做大规模的时候，就没有办法依赖别人的技术来做这件事情。」

自主研发通用大规模分布式计算系统的想法在王坚脑中诞生了，他给这个平台命名为「飞天」。「飞天」的整体设计始于 2008 年下半年，2009 年春节后上班第一天，阿里云团队在北京上地一间简陋得连空调都没有的办公室写下第一行代码。也正是在那一年，我又去了美国硅谷，在斯坦福大学的一场演讲中，第一次分享了「飞天」的基本想法。很多人认为在中国做「飞天」这样的事完全不靠谱，我觉得他们是对的，世界上没有人会觉得这件事情靠谱，因为它难度太高。不过有意思的是后来又有不少持怀疑态度的人陆续加盟阿里云，从事「飞天」技术的研发。因为做云计算，多多少少需要点浪漫主义的精神，否则做不好。

从某种意义上来说，「飞天」就是一个操作系统，操作系统最重要的功能就是资源管理。「飞天」的底层是数据中心，有成千上万台通用服务器，每台服务器都有 CPU（中央处理器）、内存、存储，相互之间用以太网进行连接，这套系统简单说就是把所有资源抽象成一台计算机，并通过互联网提供计算服务。

《程序员》杂志曾就「飞天」对我进行过采访，他们的记者在文中详细地介绍了「飞天」：「飞天」，是亲近水的一位神的名字，是可以为人们带来幸福和吉祥之神。和「飞天」一样，系统中的各个模块也被赋予了上古诸神的名字：分布式文件系统是开天辟地承载一切的基础之神 —— 盘古；负责任务调度和资源管理模块的是占卜和预测之神 —— 伏羲；从底层上监视和处理导致集群性能下降的集群诊断系统 —— 华佗；负责网络连接的模块 —— 夸父；监控系统 —— 神农；集群部署 —— 大禹…… 借诸神之名，映射出的是背后的理想主义色彩。

在众神协作下，「飞天」负责管理数据中心 Linux（操作系统）集群的物理资源，控制分布式程序进行，并隐藏下层故障恢复和数据冗余等细节，有效地提供弹性计算和负载均衡的服务。而数千节点规模下，无论是系统的打造还是扩容都面临着众多技术挑战，平台的各个模块在规模性能、高可用性以及可运维性等方面都做了大量的改进和优化。

盘古——在内部架构上采用 Master/ChunkServer（主盘 / 块服务器）结构，Master 管理元数据，ChunkServer 负责实际数据读写，通过 Client（客户机）对外提供类 POSIX（可移植操作系统接口）的专有 API（应用程序接口）。在集群扩展到 5K（5 000）规模后，迎来了新的挑战，主要可分为两个部分。首先是盘古 Master IOPS（每秒进行读写操作的字数）问题，因为更大的集群意味着更多文件和更多访问，上层应用对存储亿级文件和 10 亿级文件集群的 IOPS 是有显著区别的。同时更大规模的集群让快速发展的上层应用看到了更多可能性，导致更多业务上云，存储更多数据，也间接导致了对 IOPS 的更高需求。另外一个与规模相关的问题就是盘古 Master 冷启动速度，更多的文件和 Chunk（块）数导致更长的冷启动时间，影响集群可用性。

伏羲——「飞天」平台的分布式调度系统。在 5K 攻坚中，从设计到实现每一步都可能存在性能「陷阱」，原因主要在三个方面：规模放大效应，当节点数增大到数千个时，系统中原本不是瓶颈的与规模成正比的环节，其影响会被放大；木桶效应，未经优化的那一小部分很可能成为影响系统性能的致命瓶颈；长路径模块依赖，被依赖模块性能的不稳定性最终会影响某个请求处理的性能和稳定性。

华佗——运维的模式随着 5K 的到来发生了很大的改变，在解决实际问题的过程中，华佗应运而生，上通「飞天」系统，下达各种运维系统。其架构足够健壮、简单和开放，产品工程师可以很方便地将自己丰富的运维经验转换成华佗的插件。华佗可以针对各种异常情况，进行故障磁盘管理以及系统异常处理，产品工程师也可以通过它做流程和管理自动化的工作。同时，不必再做几分钟的快速人工修复，而是当故障设备积累到一定量后批量地做替换，大量地节省了人力成本。

「飞天」系统是一个规模很大的有机整体。规模很大带来的最大挑战在于这台「超级计算机」每天都可能发生故障 —— 硬盘会坏、风扇会坏、内存会坏，「可能自己买一台笔记本电脑用了 5 年之后依旧完好无损，但是在成千上万台服务器的飞天集群里面，硬件故障时时刻刻都会发生」。

经过三年的技术攻关，数次更新迭代，「飞天」终于建成 —— 它支持比 MapReduce（一种编程模型，用于大规模数据集的并行运算）更加灵活的数据驱动的多级流水线计算框架以及服务框架，而且在这个统一平台上实现了电子邮件、搜索、地图、弹性计算、数据处理等众多功能。

这样的底层架构与亚马逊差别很大。亚马逊对外提供的每一个服务都会直接对应一个或者多个物理集群，比如 A 集群对应 S3，B 集群对应 ECS，它的功能和系统设计是垂直的。而阿里云所有的服务对应的都是同一个系统内核、同一套分布式文件系统。也就是说，无论对象存储、弹性计算、邮件、搜索等，都共用同一个底层。除阿里云外，世界上只有谷歌能够做到这一点。「飞天」的诞生让我很为我们的团队感到自豪，它是中国第一个单个集群超过 5 000 台服务器的通用计算平台，并且软件都是我们自己写的，进入这个行业的门槛还是很高的。

王坚始终相信一个道理：云计算本身和电一样本身是没用的，只有造出了电冰箱、电视机，电才有价值。在他看来，阿里云就好比「国家电网」，而合作伙伴把自己的产品在「飞天」平台上形成一个个垂直解决方案，比如 ERP（企业资源计划）云、医疗云、政务云、教育云等。

「最后真正做好云计算的不是我们而是这些合作伙伴。当所有的企业拥抱了互联网，当所有的垂直行业拥抱了互联网，云计算的价值才会真正凸显。」王坚说。

「能不能永远不关门？」曾经有客户问王坚能不能承诺阿里云永远不关门。王坚当时笑答：「我保证你是我服务的最后一个客户。」虽是玩笑话，但客户的提问不但让王坚悟出「云计算是一门信用生意」的结论，更重要的是，阿里云团队从上到下开始体会到「服务」一词的真正内涵。

阿里云的客户开始时来自集团内部，2010 年上半年为阿里金融、全网搜索、邮箱等提供技术支撑，「飞天」系统正式启用；2011 年 7 月 28 日阿里云官网上线，正式对外提供服务，其售卖的第一个产品是弹性计算。到今天，阿里云的客户已有数十万个之多，「飞天」系统支撑过亿用户访问。客户名单里既包括联想、施耐德、创维、中国网络电视、DeNA（网络服务公司）这样的国内外大企业，也有虾米、唱吧、《周末画报》、ifanr 等移动互联网新锐公司，还有阿里集团内部的聚石塔（淘宝和天猫的开放平台）、冰火鸟（阿里集团的统一数据平台）、阿里金融等海量用户的应用。

这样成绩的取得并非一帆风顺，王坚及其团队这几年面对了太多来自内部和外部的质疑、批评。但在王坚看来，这些不同的声音「不是死锁的互动，不是你怪我不懂，他怪你技术不好」，阿里云与客户之间始终保持了良性的沟通。

王坚挂在嘴边的一句话是「客户教会了阿里云如何做服务」。据说运营团队非常害怕王坚抽查工单，他会不时从系统中拣出客户反馈的问题问你是如何解决的，这让下属们压力巨大。不但如此，王坚还每天上微博看客户的意见，某次一位阿里云的客户因为 3D（三维）电影《昆塔·盒子总动员》使用了阿里云渲染，因此发微博表示一定要去看电影支持阿里云，这让王坚深受感动。王坚说，正是客户的厚爱让阿里云成长。

### 4.3.1 客户也是神

从某种意义上说，阿里云是一名探索者，每一步的学费都是自己交的。王坚给自己画了一个巨大无比的饼，以致这 4 年时间他为吃到这张饼放弃了所有的休息，每天的会议从早晨 9 点一直排到深夜甚至凌晨。这一切背后的动力都源自他相信阿里云所做的事情是正确的。

有时候坚持是很难的，有时候放弃是很难的，进退维谷。但是具体到做「飞天」这件事我觉得坚持是很难的。我说了那么多云计算拥有巨大意义的话，其实还有后半句话要说：云计算其实不重要。一旦云计算变成公共服务，真正重要的事情就和云计算没有关系了。你可以想一想，夏天回到家的时候，打开空调吹下凉风，打开冰箱取出冰镇饮料，打开电视机找部科幻片看看，掏出手机刷一下朋友圈，你会真心感谢现代科学提供的设施，感谢空调、冰箱、电视机和手机改变了你的生活。可是，你永远不会感谢公共电网。这是正常且普遍的想法。

在尼古拉斯·卡尔的《大转换》[3] 一书中有过如下描述：「你输入关键字后，由成百上千台电脑组成的谷歌公司数据网络即会在几十亿个网页组成的数据中搜索，选出与你关键词最为匹配的几千个网页，按相关程度排好序，并将结果通过互联网传到你电脑的屏幕上 —— 这一切通常只需要零点几秒。谷歌公司每天要重复数十亿次这种令人惊叹的运算，而这种运算并不发生在你的个人电脑中，它也不可能发生在你的电脑中。事实上，它的发生地点离你很远，可能离你千百英里，也可能在地球的另一边，是哪个地方的电脑芯片处理了你的搜索需求呢？你不知道，而且也不在乎 —— 正如你不知道，而且也不在乎是哪个电厂发出的电点亮了你的台灯。」

的确，电不是什么了不起的事情，洗衣机、电冰箱、电视机出现后，电才开始变得重要。电网和计算在线这两件事，都只是根部问题，上面会生出什么样的枝丫谁也不知道。也许在你读我这段文字的时候，房间里开着灯，虽然是晚上了，但是屋子里仍然很亮堂。这意味着，对你来说，电的成本不在你的考虑范围内，不然你不会有半夜看书的行为。现在的云计算，就是让单位计算成本变得足够低，低到不在你的考虑范围，让你有看书的念头，有创造新东西的念头。

唱吧是一款在线唱歌的 App。它的公司很小，起初员工不过四五十人，却有 4 000 万用户在软件上唱歌。唱吧让 KTV 在线了，它摆脱了时间和空间的约束，做了一件很有影响力的事情。它也得依靠云计算，否则支撑不了那么多用户。类似唱吧这样的案例很多，我还会在后面的章节里专门讨论。它们都是云计算衍生出来的新枝丫，以前人们没有想到过。

云计算是最基础的服务，它搭建了一个平台，让创新和创业变得容易。云计算可以让传统企业变成互联网企业，让一个小企业可以与大企业竞争，让互联网企业变成移动互联网企业。云计算让我们认识到企业不分大小，每个企业都可能做出非常独特的创新。

新华社有一次来阿里云调研，我说中国的互联网企业或者说中国所有研究机构最羞愧的一件事，是我们实际上没有检索全球信息的能力。我觉得云计算做到一定程度，就应该做到当一个公司想做搜索引擎，它只需要招最好的人、投入足够的精力，就可以利用云计算的能力去做，不再需要像谷歌那样重新搭建计算的基础设施。云计算可以让你做以前不能做的规模，做以前不能做的事情。

### 4.3.2 一位美国工程师

过去看电影，只能晚上看，因为天黑了才能看清影像；另外，看电影还得冬天看，如果是夏天，门一关，一堆人挤在电影院里面，会热坏的。后来，纽约发生了一件事情，空调诞生了，它让看电影变成了享受。

1925 年，威利斯·开利（Willis Carrier）说服派拉蒙电影公司在纽约时代广场新建的里沃利大剧院安装了空调系统，承诺能为观众提供凉爽的空气。剧院开张时非常成功，人们纷纷涌向剧院，空调变得和电影本身一样吸引人，清凉之感彻底征服了美国人。大部分美国人第一次享受空调就是在电影院里面。派拉蒙的总裁阿道夫·朱克尔（Adolph Zukor）特意从加州过来，感受清凉的空气。人们突然发现，在夏天这个没地方去的季节，有一个叫作电影院的地方，又凉快，又有电影可以看，十分了不起，于是扎堆涌过去。过去夏天没办法开业的电影院，一下子就成了夏季最大的娱乐场所。这是电影院发展史上很重要的一个节点。如果你不了解这个细节，很难想象和电影八竿子打不着的空调，居然会成为电影黄金发展期最大的助推力。5 年内，开利为全美 300 多家影院安装了空调系统。

中国的二三线城市，曾流行过录像厅，空间很小，只简单放得下几张小板凳，主要播放一些港台片，年轻人很喜欢到那里去。如果你仔细观察，会发现那些录像厅的门口都会贴着 4 个字：「冷气开放」。和电影院一样，录像厅也是在夏天生意最好，这都归功于空调。

这个关于空调的故事很有趣，它说明两样东西的结合，可能产生化学反应，产生新的东西。云计算也是一样，作为化学反应的一部分，不断衍生、不断变化、不断创造新的东西。相信云计算就一定要相信用户在你的平台上可以创造更好的东西，云计算只是一个基础保障。一家电力公司千万不要想着去做电冰箱，一家云计算机构也千万不要想着自己去做应用。

我觉得，如果云计算服务提供商挣的钱，比利用云计算服务开展业务的公司挣得还多，那么就走偏了。一个五星级的理发师，他用电吹风提供理发服务，一次可以赚几百元。那国家电网可以收多少钱？当然只是便宜的电费了，难道因为理发师用了电，国家电网就觉得服务费自己也得分一点么，如果是这样的话，那这个产业就太糟糕了。等到有人做出了云计算上的「电冰箱」「电视机」「洗衣机」，并且一直创新下去，云计算才真正有意义。所以我说，云计算，有意义，但是不重要，重要的是「空调」，是「电吹风」。

我坚信，云计算时代，小公司可以做以前只有大公司才能做的事情。

第一，计算变成了社会资源。以前的电力是极其难得的稀缺资源，现在变成了社会资源。以前你有多少在线服务能力取决于你有多大的计算能力，现在云计算把这个资源开放出来了。如今你可以利用大公司的计算资源，以小公司的创新能力去提供巨大的服务。

第二，过去用户获取成本非常高，而有了互联网之后，用户获取成本变得非常低，低到一夜之间可以让所有人都使用。这在离线世界是无法实现的。

为什么手机业务发展得这么快，就是因为开发者愿意投入了。投入的原因是，他可以在线接触到自己的用户，所有的创新都可以迅速产生价值。一位杭州云计算产业园的负责人对我说过一句话：「因为我们做了这件事情，可以让每一个创业者在第一天就跟其他的大公司站在同一个起点上，不但要鼓励人，同时要能够做。」

阿里云的客户涉及消费电子、公共卫生、能源管理、媒体、电子商务、电子政务、移动互联网等众多行业，服务着我们今天无法精确统计的无数用户，你今天（不是未来）用手机、看电视、玩手游、浏览网站甚至买一盒药，都有可能用到了阿里云的服务。阿里云的客户类型可以从不同维度进行描述。第一个维度是规模「大小」，可以是一个人的公司，也可以是像联想那样的大型集团企业；第二个维度是所属行业，有传统的互联网公司，也有移动互联网公司，比如手游公司，还有一些传统企业的 IT 不是一次搬上来的，是一点点移上来的，会经历一个过程；还可以从合作的角度考虑，我们有直接客户，因为阿里云没有销售，我们为这些企业开设账号后，它们有能力自己到阿里云的平台上来；还有通过商派这样的合作伙伴到云上来的，它们会帮助更多的企业来到阿里云的平台。

云计算可以把一家传统公司变成一家互联网公司，这不仅会节省 IT 成本，更重要的是在云计算平台上，企业可以重新思考自己的业务问题。我非常佩服很多企业能够信任我们，把它们的业务放在我们的平台上面。中国的企业如果不能互相支持，是没有未来的。今天敢于拥抱云计算的企业是值得敬仰的。云计算带给企业的创新能力和发展空间是不可想象的，这件事情真的是一场革命！

我对那位杭州产业园的负责人说：「这个产业园不应该只关心 GDP（国内生产总值）。」如果园区的着眼点是 GDP，那建园区就变成了投资行为，离创新就会越来越远。创新和在线一定是互相推动的关系，但它们都必须建立在技术发展的基础之上，我很幸运亲身经历过那一段激情燃烧的岁月。

## 4.4 不是「去 IOE」，而是计算去掉了计算机

2013 年 8 月，《商业价值》刊登了几篇对我的采访文章，「去 IOE」变成了 2013 年行业里的一个热门词，而这个现象反映的却是计算逐步替代计算机这股不可逆转的浪潮。

在加入阿里后，带着技术基因和学者风范的王坚就在阿里巴巴集团提出了被称为「去 IOE」的想法，并开始把云计算的本质，植入阿里的 IT 基因。这些工作将阿里的 IT 发展策略从依赖「商业软件」，发展到拥抱「开源软件」，最终演变为拥有强大的自主技术和云计算服务能力，更为 2009 年「阿里云计算有限公司」的成立埋下伏笔。2011 年 7 月 28 日，阿里云自主研发的「飞天」云计算平台开始以公共云计算服务的方式对外提供云计算商业服务。

王坚的办公室有一面墙摆满了书，《丰乳肥臀》《史蒂夫·乔布斯传》《分布式系统原理与范型》这三本被摆放在右侧第三排上。用这三本书来概括王坚似乎也很合适。工程心理学出身的王坚，用魔幻现实主义色彩带领着团队，所有的阿里云产品在内部均被冠以传统神话中神的名字：阿里云的核心技术引擎被命名为「飞天」，一位亲水的神仙；协同调度系统称为「女娲」；分布式文件系统叫作「盘古」……

从 2008 年 11 月加盟阿里集团开始，王坚在集团 CTO 和阿里云总裁这两个角色之间不断转换。办公室里整墙贴满 YunOS 的效果图，与团队在办公室旁的「钟馗道 — 争端解决室」开会到深夜已成常态，王坚有着产品经理敏感执着的特质。

在阿里集团 CTO 和阿里云总裁角色之间转变，王坚面临很大的挑战，他必须为阿里寻找并发展关键的核心技术，从发展自有云计算技术到「YunOS」系统开发，每一个选择都意味深长，但任何一场风波也可能使他置身谷底，在遭遇市场「抨击」后，王坚总能以更快的速度为阿里夯实技术基础，同时积累新的技术经验。

王坚说，他的大部分工作是集团 CTO，但他始终认为：「我是非常幸运的，没有阿里云，阿里的技术就少了一个重要的成长环境。如果飞天这样的平台没有投入市场，不与客户碰撞，单纯的研发部门就无法开发出真正的好技术。同样，没有阿里的其他业务，很多云计算业务也做起不来，比如 CDN（内容分发网络）业务。」

在王坚眼里，云计算是一场革命，是一场用服务颠覆传统软硬件时代 IT 建设旧思维的革命。王坚这样概括「去 IOE」运动和阿里云之间的关系：「去 IOE」彻底改变了阿里集团 IT 架构的基础，是阿里拥抱云计算，产出计算服务的基础。「去 IOE」的本质是分布化，让随处可以买到的商用电脑架构成为可能，是云计算能够落地的首要条件。从「去 IOE」到拥抱开源技术，从整个集团的 IT 支持到阿里云的未来发展，这些都使王坚有了几分神秘的色彩。

IOE 是软件时代或是「买计算机」时代的产物。云计算时代，则是「买计算」的时代。不同的人理解的「去 IOE」的原因是不一样的。王坚最怕将「去 IOE」的原因归结到两个极端去讨论：一是单纯变为企业成本问题，二是简单地变成一个是否可以利用国外产品和技术的问题。成本降低是「去 IOE」最先能够看到的，但最根本的原因是在互联网时代，不只是互联网企业，绝大部分企业对计算的需求难以通过 IOE 提供的技术来满足，IOE 约束了企业的长远发展；技术路径上依赖于专用的硬件设备比较危险，而随处可以买到的商用电脑的架构长远来讲对于阿里和大多数企业则是最安全的。对于成本，王坚说今天所有讲的开源技术只解决了软件使用成本的问题，而忽略了开源软件的升级和维护成本。

理论上只要计算能力够，IOE 就一定能去掉！但实际上「去 IOE」这件事有技术挑战和风险。对绝大多数企业来说，「去 IOE」不是简单改变软件和硬件本身，用新的软硬件取代旧的软硬件，而是用新的方式取代旧的方式，是用云计算彻底改变 IT 基础架构。

与此同时，王坚最初提出的「去 IOE」的想法，一天都没有停止过。甚至，阿里巴巴的「去 IOE」运动引发了大型企业 IT 底层建设的新思潮，也使 IBM、Oracle 等国外大型厂商在中国倍感转型压力。「阿里云」则成为阿里巴巴延伸向更多中小企业的重要 IT 触手。

阿里最早依赖商业软件，从拥有 20 多个节点的 Oracle RAC 数据库集群（当时是亚洲最大），到成为开发使用开源软件 MySQL 最好的企业之一，连自己研发的关系数据库 OceanBase 也已用在了不同的业务场景之中。从用 Oracle 做处理数据，到用 Hadoop 集群（业内单个机群节点数最多的 Hadoop 机群），再到用自己「飞天」平台上的 ODPS（开放数据处理服务）。这样的演变路径也表明：商业软件、开源软件与自有技术永远是搭档，对于不同企业来说，只是百分比的问题，对于大型互联网企业来说，自有技术变得非常重要。阿里巴巴的许多自有技术，如「飞天」的核心平台通过云计算的方式开放给别人，所以云计算是适合许多企业的另一种方式。我相信在未来，对大多企业来讲，「云计算平台 + 自有技术 + 开源技术」会变得越来越重要。

阿里的技术发展从主要依靠商业软件到开源，再发展到更多的自有技术或是说云计算。

在很多场合，大家习惯性地把开放直接等同于开源，其实开源不是开放的唯一手段，在互联网时代，云计算是一种新的开放形式。在许多业务和应用场景下，与云计算相比，开源未必是最好的手段。开源软件还是软件，开源软件本身是软件时代的产物，仍然需要投入较大成本进行维护和升级。今天云计算的发展得益于开源软件的发展，然而同时云计算的出现对开源软件的应用也会有冲击，例如当云计算提供了关系数据库服务时，你就要考虑是否还要购买或使用商业数据库软件或开源数据库软件。阿里云和 CODE.CSDN（开发服务平台）及开源中国等机构的合作，也是希望开源社区和技术能与云计算更好地融合，共同服务好用户。

在互联网时代，运行在数据中心里的软件面临运营的挑战，复杂度很高。从使用软件（包括开源软件）到运营数据中心里的软件是一次根本的变化，大部分企业还没有这种服务能力，社会的分工也不能要求每个企业都去做这种运营。云计算给了企业一个机会，企业不需要买软件，就可以享受最好的服务，同时拥有计算能力。这就是为什么在互联网时代，「云计算平台 + 自有技术 + 开源软件」会是一个基本格局，依靠收取许可和服务费的传统商业软件会越来越没有市场。

如何消除用户对云计算安全的忧虑？安全忧虑的本质是信任问题，唯一可以解决信任问题的方法是透明，透明真的是唯一的方式，我们需要一个透明的机制。今天阿里的很多客户是从亚马逊搬来的，同样也有客户因为不满意阿里的服务而搬到别处去了。云计算是有黏性的，但今天是一个开放竞争的环境，没有人有能力画地为牢。阿里云也提供相应的迁移工具，只是任何迁移都是有成本的。王坚认为这可以和信任问题一起讨论，需要大家的共同规范。

云计算是一场改革，给客户创造业务价值的意义，远远超过了成本本身。

2012 年的「双 11」，阿里巴巴创造了 191 亿元的日交易额神话，尽管和 2015 年的 912 亿元相比实在算不了什么，但它对云计算却有特殊意义。阿里云计算平台处理了淘宝和天猫 20% 的订单，并且实现了流量剧增零故障、零订单遗漏。在云平台上，更有日订单数近 60 万的天猫商家，其交易量已经达到当时中国除淘宝以外其他 B2C 市场一天的订单量。在「双 11」活动前，一些商家并不完全相信阿里云平台，它们仍然部署在自有的 IT 基础设施上，当活动开始，交易量暴涨，突然出现服务器能力不够时，阿里云立即协助商家在十几分钟内迅速迁移至阿里云计算平台，保证其交易顺利继续，有几家企业就是这样在半夜 12 点时完成迁移的。

过去，交易从淘宝链接到卖家后台系统的过程中，如果卖家的 IT 基础设施薄弱，系统交换数据会因为网络不通等各种原因使交易失败。「双 11」时有一句话，「20% 的交易量是在云上完成」，这其实是说有 20% 的交易量其卖家的后台系统是部署在阿里云上的。以往买家买一个东西只需要点击购买，然后进行支付，这个动作会指向两条 IT 路径：一是连接支付宝，保证有钱可以完成支付；另一条则是进入卖家的 ERP，卖家需要知道自己是否有库存，并减掉相应的货品数量。把卖家的 ERP 系统完全架设在云上，这件事的难度和意义比只解决网站流量扩容要大，因为从发票打印到发货都要通过这个系统，不同的 ISV（独立软件开发商）也在其中起了关键的作用，人们会从中体会到一个完整生态系统的价值。

卖家把 ERP 搬到云上，也证明了对云计算的信任，我们在 2013 年的目标是让 70%—80% 的交易在云上完成 [4]，这不仅会为客户节约成本，更能帮助卖家提升赚钱的概率。这件事的本质反映了：云计算是一场改革，给客户创造业务价值的意义，远远超过了成本本身。

2013 年 5 月 17 日，阿里集团最后一台 IBM 小型机在支付宝下线。这是自 2009 年「去 IOE」战略透露以来，「去 IOE」非常重要的一个节点。「去 IOE」指的是摆脱掉 IT 部署中原有的 IBM 小型机、Oracle 数据库以及 EMC 存储的过度依赖。告别最后一台小型机，意味着整个阿里集团尽管还有一些 Oracle 数据库和 EMC 存储，但是 IBM 小型机已全部消失。7 月 10 日，淘宝重中之重的广告系统使用的 Oracle 数据库下线，也是整个淘宝最后一个 Oracle 数据库。这两件事合在一起成为阿里巴巴技术发展过程中的一个重要里程碑。与此同时，「去 IOE」也引起 IT 界的热议和思考，技术重新选型蔚然成风。

在阿里巴巴「去 IOE」成功的大背景下，王坚认为：「去 IOE」存在一定的技术挑战，「去 IOE」不是简单改变软件和硬件本身，用另一种软硬件简单地取代已有的软硬件，而是用新的互联网技术和架构取代传统的 IT 技术和架构。阿里巴巴本身并不卖软件和硬件，但这种技术能力可以用云服务的方式来提供给第三方使用，让云计算彻底改变传统 IT 的基础架构。

为什么阿里能够率先成功？王坚认为有三点重要原因：一是企业的战略决心足够强大，在这一点上没有巧可以取；二是能够坚持到底，愿意承担技术上、组织上的各种风险；三也是最重要的，这件看起来不可能的事需要有使命感的人和团队去完成。从「去 IOE」，也看得出阿里巴巴在技术上做出的战略投入，当然也包括「飞天」云计算平台、数据库、YunOS 操作系统等。

2008-2009 年，在做整个集团的预算时，王坚第一次提出了「去 IOE」这件事。每年，王坚都要负责拟定整个集团的技术预算，当看到阿里巴巴对计算需求呈指数级增长、与业务增长不成比例时，他就意识到如没有技术的进步，一定会影响公司长远的发展。

做预算不仅仅是「钱」的问题，而是考虑集团未来如何发展的问题，也是思考技术战略的机会。「去 IOE」不是一个人的决定，你需要分析企业业务情况，看哪些业务适合尝试「去 IOE」。阿里比较幸运，当时淘宝的技术团队愿意创新，去尝试「去 IOE」这件事，最早承担这件事的技术和业务风险。「去 IOE」的过程也是技术发展的过程，比如以淘宝为基础形成了优秀的 MySQL 数据库团队，也建立了自行开发 Oceanbase 数据库的团队。现在的团队成员来自各事业部，多管齐下，这是一个极大的长期投入，不磨 5 年是磨不出来的。当支付宝最后一台 IBM 小型机下线时，整个技术团队是非常自豪的！[5]

当时我们考虑「去 IOE」时不应该仅出于对成本的考量，成本只是最容易看得到的东西，最重要的是要满足企业未来长期发展的需要。互联网时代，每一家企业都必须拥抱互联网，传统 IT 架构的软硬件已经无法满足企业这方面的发展需求。阿里巴巴的成功经验表明原来依赖 IBM、Oracle 和 EMC 的系统是可以构建在一个更为合理的系统上的，这为大多数企业在云计算上搭建 IT 系统扫清了障碍，让它们可以彻底拥抱云计算，拥抱互联网。

如果对云计算带来的冲击认识足够，就会明白「去 IOE」不是一次技术的升级，而是一个时代的改变，云计算对传统的 IT 和开源软件都是有冲击的。这是行业的变化，不是一个技术策略的选择。正因为这是一次 IT 基础设施的变革，从硬件和软件底层着手「去 IOE」这件事情不该每个企业都做。我认为大部分企业都是没有可能和必要自己实现「去 IOE」。其实，要做「去 IOE」这件事情，是有技术挑战的，也受市场条件的约束，存在机会成本问题，当然也有总体人才资源的限制。所以帮助大多数传统企业用户解决「去 IOE」的最好途径是云计算，云计算提供的计算服务可以将 IOE 去掉，对企业来说这是一个能够实现长期发展的路径。

对传统企业来说，「去 IOE」的根本是在做一个选择 —— 选择相信云计算是一种公共服务，就像企业信任国家电网供电一样。当你选择了 IBM 的机器，实际上是因为你觉得 IBM 的机器代表未来，这家企业是可以信任的。

大家经常忽视一个奇怪的现象，一方面我们都承认云计算是一种服务，但是更多的厂商会和你谈私有云，想把软件和硬件卖给你，这时候「云计算是服务」就不见了。为了成功卖出软硬件产品，唯一可以拿来说的事情就是安全问题。IOE 本身是软件时代或者说「买计算机」时代留下的产物，而云计算时代，实际上是一个「买计算」的时代，不是「买计算机」的时代，所以「去 IOE」应该通过服务的方式实现。「去 IOE」不是用一种技术替代另一种技术，而是一个新的时代到来。这个过程中的挑战是，你在心理上是否接受云计算，而不只是在技术上是否接受。

阿里云计算平台与国内其他云计算平台的本质区别在于通用性。王坚说：「今天国内的云计算平台，有的和企业自身业务结合得比较紧，有的仅是一个垂直平台，而阿里云是一个通用整合平台，我们开放的是计算能力，驾驭和把握这一平台需要很大实力。」

云计算是一种公共服务，当计算变成一种服务能力时，对于企业而言「买计算机」的时代变成了「买计算」的时代。为什么计算会变成公共服务？可以从两个角度看：从用户角度看，今天你只要拥抱互联网你就要用云计算，如果你觉得互联网跟你没关系你可以不用；同时你又不想买服务器，因为只有服务器没有用，它需要整个互联网基础设施支持才能发挥作用，这样的云计算才适合你。这是真正的变革，因为云计算的计算能力变成一种公共服务的时候，已超过了以往任何计算技术对社会产生的影响。这就是云计算真正给社会带来的价值。

IT 的这种变局背后的真正推手是互联网。这就是为什么王坚说「用云计算」的本质是「用互联网」，企业的 IT 和业务都离不开互联网，互联网的特质和冲击使传统企业 IT 无法应对。如果你的企业永远跟互联网没有关系，10 年之后，很难想象企业会是什么样子。云计算作为一种公共服务，它的前提是互联网无处不在。

从这个角度讲，阿里云的计算平台帮助各种类型的企业做了一次互联网转型，这些企业又带动它们的客户做了一次转型，云计算可以把一家传统公司变成一家互联网公司。这不只是给 IT 节省了一点成本，实际上做的是向互联网转型。在云计算的基础上你就可以重新思考你的一些业务问题，重新思考你的很多事情该怎么做了。

4 年前，我们就在说数据分享平台，其实道理是这样的：如果没有云计算，今天的大数据概念是不存在的，云计算是今天所讲数据的基础，云计算给客户带来的真正的价值是与数据相关，而不只是给客户省成本。今天你搬到云计算平台上是为了节省成本，未来让你尝到的甜头是你的数据通过云计算产生更大的价值。

北京玩蟹科技有限公司 CEO 叶凯曾在微博上列举了几次阿里云断电以及存储出现的问题，玩蟹科技从阿里云迁出这件事闹得沸沸扬扬。但经过这样的事情，王坚和叶凯成了非常好的朋友，王坚认为玩蟹事件的根本不是技术问题，而是阿里云不会做服务。

现在除了玩蟹的几款老游戏，其余都已经在阿里云上了，它发布的最新款游戏也部署在阿里云上。玩蟹这件事让阿里云更快地学会怎么做云计算服务。在王坚眼里，移动互联网和互联网是分不开的，但做移动互联网的人更容易意识到云计算的价值，像玩蟹的三个创始人，包括叶凯，他们天生相信云计算，认为只有云计算能够支撑公司的发展。怎样通过服务让用户对你的云计算平台产生信任？叶凯对王坚说：「我知道会出事故，更知道哪里会出事故，重要的是你的服务要好，出了事故可以在第一时间响应。我知道其实即便我自己维护也会出事故的。」真心敬仰这样的创业者，是他们奠定了云计算的基础。

用户的容忍度超出王坚的想象，王坚被叶凯说得很感动。通过交流，阿里云也能因此更好地为玩蟹提供服务。以前客户购买新的服务器，需要在阿里云网站上手工下单，现在玩蟹可以根据游戏行业的特点，通过 API 的形式实现服务的自动弹性可扩展，这样用户不用提前几个小时准备，实现了真正意义上的云计算的弹性服务，这给企业带来的价值已经远远超出了节约的成本。这就是王坚一直强调的「从客户那里学云计算」，也就是学会如何做云计算的服务。

停一个小时服务，会让一家公司死掉这种事情，讲起来很容易理解，但是要让阿里云的每一个员工都有体验是很难的，难度大大超出王坚的想象。王坚说今天就是要保证员工能够体验到这种感受，而不光是知道这个道理。人们在地面上时很难体验到飞机发动机出故障时的危险，但那和你自己坐在飞机上时的体验是完全不一样的。

王坚希望有一天阿里云这个平台不只是他们自己的骄傲，也是中国所有创业者和开发者的骄傲，当然王坚觉得持续保证技术上的竞争力也是很有挑战性的。因为站在他的角度，「飞天」平台是做了一个数据中心的操作系统，在中国，没有人在真正意义上做过这样一个技术平台，并把它变成一种商业，这是个巨大的挑战。「飞天」开放平台一直是阿里云的研发重点。同样，阿里云做「飞天」的挑战在于：一是国内没有人有经验做这样的事情，国内从来没有过这样一个商业化的计算平台；二是真正把云计算做成一种服务，是要想清楚的，如果不用新的服务模式，业务量的扩大也意味着人员的增加。而王坚的目标非常简单，不能增加人，要用互联网的方式为大家提供服务，王坚坚持阿里云不设销售人员，单从这个角度讲，阿里云怎么把云计算服务做好是个非常大的挑战。

如今唯一不存在挑战的地方就是市场，因为这个需求是刚性需求。如果云计算做不起来，那只有一个结论 —— 技术人员无能。王坚说，阿里云运气的地方是他们犯了一些错误，但是至今还没有死在错误上。他们抓住了一个历史机遇，一个千载难逢的机会。你不可能等到下一次这样的时代到来，而阿里云在做的正是这个时代需要的。

云计算和大数据给整个产业带来了变革，我们要抓住这个技术跨越式发展的机会。

IOE 是软件时代或是「买计算机」时代的产物；而云计算时代，则是「买计算」的时代。「去 IOE」最好的解决方式是采用云计算，而不是买一台新的机器去替代原有机器。这是一个行业的变化而不是策略的选择，它的挑战在于你心里是否接受所谓的「私有云」的消失，从信任传统的软硬件厂商转为信任云计算是一种安全的服务。从本质上来说，「去 IOE」是一个企业从传统企业向互联网企业转型的标志。

2012 年「双 11」的时候，其中大约有 20% 的订单在云上实现。到了 2013 年，在云上完成的交易量超过总量的 70%。这不只是交易量的增加，它体现的是计算机正逐步被计算替代了。

[1] 1TB=240 字节。—— 编者注

[2] 在 2011 年，微软的云计算业务在市场上几乎不占据份额。

[3] 《大转换》一书中文版已由中信出版社于 2016 年 3 月出版。—— 编者注

[4] 到 2015 年，已有 90% 以上的淘宝交易在云上完成。

[5] 阿里云的 Oceanbase 数据库服务于 2016 年 3 月上线试运营。